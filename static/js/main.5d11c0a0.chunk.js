(this["webpackJsonpbudget-app"]=this["webpackJsonpbudget-app"]||[]).push([[0],{46:function(e,t,n){e.exports=n(60)},51:function(e,t,n){},52:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(26),l=n.n(o),i=(n(51),n(52),n(3)),c=n(22),u=n(12),d=n(2),s=n(64),m=n(36),p=n(61),f=n(62),b={currentPage:"Home",selectedAccount:0,addTransaction:!1,editMode:!1,lastSync:0,user:null,fetching:!1,message:{text:"",type:""},general:{payPeriodType:"fourWeekly",currencySymbol:"\xa3",colourScheme:"dark",showDecimals:!0,startDate:"2019-11-08",swapSummaries:!1,periodsToDisplay:6,reverseSummaryTable:!1,displayMonths:!1,displayIncomeTotal:!1,displayExpenseTotal:!1,showChart:!0,savingsGoalDate:"2019-11-08",savingsGoalTarget:0,salary:0,updated:20200220153001},accounts:[],categories:[{id:20200723153e3,name:"Earnings",description:"",type:"income",hidden:!1,dateCreated:"2020-06-03"},{id:20200723153001,name:"Interest",description:"",type:"income",hidden:!1,dateCreated:"2020-06-03"},{id:20200723153102,name:"Food",description:"",type:"expense",hidden:!1,dateCreated:"2020-06-03"}],budgets:[],funds:[{id:20200723153130,name:"Savings",description:"General Savings",targetAmount:0,complete:!1,dateCreated:"2020-01-03"}],fundAdditions:[],transactions:[]},g=function(e,t){t.id=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));var n=v(e,t.startDate,t.category),a=e.find((function(e){return e.startDate===t.startDate&&e.category===t.category}));if(void 0!==a)return void 0!==n&&n.amount===t.amount?y(e,a.id):(a.amount=t.amount,O(e,a));if(void 0!==n&&t.amount===n.amount)return e;var r=[].concat(Object(u.a)(e),[t]);return r.sort((function(e,t){return Object(m.a)(Object(p.a)(e.startDate),Object(p.a)(t.startDate))})),r},v=function(e,t,n){for(var a=e.length-1;a>=0;a--){var r=e[a];if(r.category===n&&1===Object(f.a)(Object(p.a)(r.startDate),Object(p.a)(t)))return r}},h=function(e,t){var n=e.findIndex((function(e){return e.id===t}));if(n===e.length-1)return e;var a=e.findIndex((function(e,t){return t>n&&void 0===e.deleted})),r=e[n],o=e.filter((function(e){return e.id!==t}));return o.splice(a,0,r),o},E=function(e,t){var n,a=e.findIndex((function(e){return e.id===t}));if(0===a)return e;for(var r=a-1;r>=0;r--)if(void 0===e[r].deleted){n=r;break}var o=e[a],l=e.filter((function(e){return e.id!==t}));return l.splice(n,0,o),l},y=function(e,t){return e.map((function(e){if(e.id===t){var n=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));return{id:e.id,deleted:n}}return e}))},O=function(e,t){var n=Object(u.a)(e),a=n.findIndex((function(e){return e.id===t.id}));return-1===a?e:(t.updated=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),n.splice(a,1,t),n)},j=function(e,t){var n=Object(u.a)(e);!0===t.defaultAccount&&n.forEach((function(e){return e.id!==t.id?e.defaultAccount=!1:null}));var a=n.findIndex((function(e){return e.id===t.id}));return-1===a?e:(t.updated=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),n.splice(a,1,t),n)},x=function(e,t){return t.id=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),[].concat(Object(u.a)(e),[t])},w=n(37),T=n(65),S=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=k(t),r=Object(p.a)(e),o=new Date;1===Object(m.a)(o,r);)r="monthly"===t?Object(T.a)(r,{months:1}):Object(T.a)(r,{days:a});var l="monthly"===t?Object(T.a)(r,{months:-1}):Object(T.a)(r,{days:-a}),i=[],c="fourWeekly"===t?13:12;n>0&&(c=n);for(var u=0;u<c&&(i.push(Object(s.a)(l,"yyyy-MM-dd")),l="monthly"===t?Object(T.a)(l,{months:-1}):Object(T.a)(l,{days:-a}),!(Object(m.a)(Object(p.a)(e),l)>=1));u++);return i.reverse(),i},C=function(e,t){for(var n=k(t),a=Object(p.a)(e),r=new Date,o=[];1===Object(m.a)(r,a);)o.push(Object(s.a)(a,"yyyy-MM-dd")),a="monthly"===t?Object(T.a)(a,{months:1}):Object(T.a)(a,{days:n});return o},k=function(e){switch(e){case"monthly":return 30;case"weekly":return 7;case"twoWeekly":return 14;case"fourWeekly":return 28;default:return 30}},D=function(e,t,n){var a=[];return t.forEach((function(t){if(!t.closed){var r=e.filter((function(e){return void 0!==e.from&&void 0!==e.to&&(e.from===t.id||e.to===t.id)||void 0!==e.account&&e.account===t.id})).reduce((function(e,a){return e+=B(a,n,t.id,!1)}),0);void 0!==t.startingBalance&&(r+=parseFloat(t.startingBalance)),a.push({name:t.name,total:r,id:t.id})}})),a},A=function(e,t){var n={},a={};return e.forEach((function(e){return n[e.id]=e.name})),t.forEach((function(e){return a[e.id]=e.name})),{categoryNames:n,fundNames:a}},N=function(e,t){var n=e.find((function(e){return e.id===t.fund}));return void 0!==n?n.targetAmount:0},_=function(e,t,n){if(void 0!==n.category){var a=t[n.category];if(void 0!==a)return a}else if(void 0!==n.fund){var r=e[n.fund];if(void 0!==r)return r}return"Un-Categorised"},M=function(e,t){var n,a=e[0],r=Object(w.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(Object(m.a)(Object(p.a)(t),Object(p.a)(o))>=0))break;a=o}}catch(l){r.e(l)}finally{r.f()}return a},I=function(e){var t=q.getState().general,n=t.currencySymbol,a=t.showDecimals;if(e>-.009&&e<.009)return"".concat(n,"0").concat(a?".00":"");if(null===e||void 0===e||0===e||isNaN(e))return"".concat(n,"0").concat(a?".00":"");var r=Number(e).toFixed(a?2:0),o=!1;r.includes("-")&&(r=r.replace("-",""),o=!0);for(var l=r.split(""),i=l.length-4;i>=0;i--){var c=l.length-i-4;c>0&&c%3===0&&(l[i]+=",")}return l.unshift(n),o&&l.unshift("-"),l.join("")},P=function(e){return void 0===e?"":0!==e.target?" / ".concat(I(e.target)):""},R=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},F=function(e){var t=e.replace(/[A-Z]/g," $&");return R(t)},B=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(void 0===e.type)return a?I(e.amount):e.amount;if(void 0!==e.fund)return a?I(-e.amount):-e.amount;if(void 0!==e.category){var r=t.find((function(t){return t.id===e.category}));if(void 0===r)return a?I(0):0;if("expense"===r.type)return a?I(-e.amount):-e.amount;if("income"===r.type)return a?I(e.amount):e.amount}if(void 0!==e.from&&void 0!==n){if(e.from===n)return a?I(-e.amount):-e.amount;if(e.to===n)return a?I(e.amount):e.amount}},U=function(e){var t,n=e.id,a=q.getState(),r=a.transactions,o=a.fundAdditions,l=a.budgets,i=[].concat(Object(u.a)(r),Object(u.a)(o),Object(u.a)(l)),c=Object(w.a)(i);try{for(c.s();!(t=c.n()).done;){var d=t.value;if(d.category===n)return!1;if(d.fund===n)return!1;if(d.account===n)return!1;if(d.from===n)return!1;if(d.to===n)return!1}}catch(s){c.e(s)}finally{c.f()}return!(void 0!==e.startingBalance&&e.startingBalance>0)},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.filter((function(e){return void 0===e.deleted&&((!t||!e.hidden)&&((!t||!e.closed)&&(!t||!e.complete)))}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){return e.description?e.description.toLowerCase().includes(t.toLowerCase()):!(t.length>0)}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM d, yyyy";return void 0===e||0===e.length?"":Object(s.a)(Object(p.a)(e),t)},Y=function(e){return L(e,"dd-MM-yyyy")},H=function(){return Object(s.a)(new Date,"yyyy-MM-dd")},V=function(e){var t=q.getState(),n=t.categories,a=t.accounts,r=t.funds,o=Object(d.a)({},e);if(void 0!==o.category){var l=n.find((function(e){return e.id===o.category}));void 0!==l&&(o.category=l.name)}if(void 0!==o.account){var i=a.find((function(e){return e.id===o.account}));void 0!==i&&(o.account=i.name)}if(void 0!==o.fund){var c=r.find((function(e){return e.id===o.fund}));void 0!==c&&(o.fund=c.name)}if(void 0!==o.from){var u=a.find((function(e){return e.id===o.from}));void 0!==u&&(o.from=u.name)}if(void 0!==o.to){var s=a.find((function(e){return e.id===o.to}));void 0!==s&&(o.to=s.name)}return o},z=function(e){var t=document.documentElement;"dark"===e&&(t.style.setProperty("--bg-color","#222"),t.style.setProperty("--text-color","white"),t.style.setProperty("--light-text-color","#CCC"),t.style.setProperty("--icon-color","#4dc6ff"),t.style.setProperty("--menu-bg-color","#009fe8"),t.style.setProperty("--menu-selected-bg-color","#0076ad"),t.style.setProperty("--menu-text-color","white"),t.style.setProperty("--menu-selected-text-color","white"),t.style.setProperty("--menu-border-color","#BBB"),t.style.setProperty("--footer-bg","#222"),t.style.setProperty("--footer-border","#009fe8"),t.style.setProperty("--table-heading-bg-color","#009fe8"),t.style.setProperty("--table-heading-text-color","white"),t.style.setProperty("--obj-highlight-bg","#444"),t.style.setProperty("--obj-highlight-text","white"),t.style.setProperty("--mild-highlight","#333")),"black"===e&&(t.style.setProperty("--bg-color","black"),t.style.setProperty("--text-color","white"),t.style.setProperty("--light-text-color","#CCC"),t.style.setProperty("--icon-color","#4dc6ff"),t.style.setProperty("--menu-bg-color","#009fe8"),t.style.setProperty("--menu-selected-bg-color","#0076ad"),t.style.setProperty("--menu-text-color","white"),t.style.setProperty("--menu-selected-text-color","white"),t.style.setProperty("--menu-border-color","#BBB"),t.style.setProperty("--footer-bg","black"),t.style.setProperty("--footer-border","#009fe8"),t.style.setProperty("--table-heading-bg-color","#009fe8"),t.style.setProperty("--table-heading-text-color","white"),t.style.setProperty("--obj-highlight-bg","#444"),t.style.setProperty("--obj-highlight-text","white"),t.style.setProperty("--mild-highlight","#222")),"light"===e&&(t.style.setProperty("--bg-color","white"),t.style.setProperty("--text-color","black"),t.style.setProperty("--light-text-color","#555"),t.style.setProperty("--icon-color","black"),t.style.setProperty("--menu-bg-color","#009fe8"),t.style.setProperty("--menu-selected-bg-color","#0076ad"),t.style.setProperty("--menu-text-color","white"),t.style.setProperty("--menu-selected-text-color","white"),t.style.setProperty("--menu-border-color","black"),t.style.setProperty("--footer-bg","white"),t.style.setProperty("--footer-border","black"),t.style.setProperty("--table-heading-bg-color","#AAA"),t.style.setProperty("--table-heading-text-color","black"),t.style.setProperty("--obj-highlight-bg","#CCC"),t.style.setProperty("--obj-highlight-text","black"),t.style.setProperty("--mild-highlight","#EEE"))},J="https://budget-app-ap1.herokuapp.com/",Q=null,X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.user){var a=function(e){return t({type:"SET_USER",payload:e})},r=function(e){return t({type:"SET_MESSAGE",payload:e})},o=function(e){return t({type:"SET_FETCHING",payload:e})},l={general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions,user:e.user};o(!0),fetch(J+"api/backup",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){o(!1),"success"===e.status?(t({type:"SYNC",payload:e.data}),a(e.user),z(e.data.general.colourScheme),n&&r({text:"Data successfully synced!",type:"success"})):(console.log(e),"logout"===e.type&&a(null),r({text:e.message,type:"error"}))})).catch((function(e){console.log("Error Syncing: ",e.message),o(!1),a(null),r({text:"Failed to contact server for syncing. Please try to login again.",type:"error"})}))}},q=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));switch(t.type){case"SET_CURRENT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:n,editMode:!1,addTransaction:!1,message:{text:"",type:""}});case"SET_SELECTED_ACCOUNT":return Object(d.a)(Object(d.a)({},e),{},{selectedAccount:n});case"SET_ADD_TRANSACTION":return Object(d.a)(Object(d.a)({},e),{},{addTransaction:n});case"SET_EDIT_MODE":return Object(d.a)(Object(d.a)({},e),{},{editMode:n});case"SET_USER":return Object(d.a)(Object(d.a)({},e),{},{user:n});case"SET_FETCHING":return Object(d.a)(Object(d.a)({},e),{},{fetching:n});case"SET_MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{message:n});case"SET_PAY_PERIOD_TYPE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{payPeriodType:n,updated:a})});case"SET_COLOUR_SCHEME":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{colourScheme:n,updated:a})});case"SET_CURRENCY_SYMBOL":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{currencySymbol:n,updated:a})});case"SET_SHOW_DECIMALS":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{showDecimals:n,updated:a})});case"SET_START_DATE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{startDate:n,updated:a})});case"SET_SAVINGS_GOAL_DATE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{savingsGoalDate:n,updated:a})});case"SET_SAVINGS_GOAL_TARGET":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{savingsGoalTarget:n,updated:a})});case"SET_SALARY":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{salary:n,updated:a})});case"SET_PERIODS_TO_DISPLAY":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{periodsToDisplay:n,updated:a})});case"SET_SWAP_SUMMARIES":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{swapSummaries:n,updated:a})});case"SET_REVERSE_SUMMARY_TABLE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{reverseSummaryTable:n,updated:a})});case"SET_DISPLAY_MONTHS":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{displayMonths:n,updated:a})});case"SET_DISPLAY_INCOME_TOTAL":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{displayIncomeTotal:n,updated:a})});case"SET_DISPLAY_EXPENSE_TOTAL":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{displayExpenseTotal:n,updated:a})});case"SET_SHOW_CHART":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{showChart:n,updated:a})});case"ADD_ACCOUNT":var r=x(e.accounts,n);return Object(d.a)(Object(d.a)({},e),{},{accounts:r});case"ADD_CATEGORY":var o=x(e.categories,n);return Object(d.a)(Object(d.a)({},e),{},{categories:o});case"ADD_BUDGET":var l=x(e.budgets,n);return Object(d.a)(Object(d.a)({},e),{},{budgets:l});case"ADD_FUND":var i=x(e.funds,n);return Object(d.a)(Object(d.a)({},e),{},{funds:i});case"ADD_FUND_ADDITION":var c=x(e.fundAdditions,n);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:c,addTransaction:!1});case"ADD_TRANSACTION":var u=x(e.transactions,n);return Object(d.a)(Object(d.a)({},e),{},{transactions:u,addTransaction:!1});case"UPDATE_ACCOUNT":var m=j(e.accounts,n);return Object(d.a)(Object(d.a)({},e),{},{accounts:m});case"UPDATE_CATEGORY":var p=O(e.categories,n);return Object(d.a)(Object(d.a)({},e),{},{categories:p});case"UPDATE_BUDGET":var f=g(e.budgets,n);return Object(d.a)(Object(d.a)({},e),{},{budgets:f});case"UPDATE_FUND":var v=O(e.funds,n);return Object(d.a)(Object(d.a)({},e),{},{funds:v});case"UPDATE_FUND_ADDITION":var w=O(e.fundAdditions,n);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:w});case"UPDATE_TRANSACTION":var T=O(e.transactions,n);return Object(d.a)(Object(d.a)({},e),{},{transactions:T,addTransaction:!1});case"REMOVE_ACCOUNT":var S=y(e.accounts,n);return Object(d.a)(Object(d.a)({},e),{},{accounts:S});case"REMOVE_CATEGORY":var C=y(e.categories,n);return Object(d.a)(Object(d.a)({},e),{},{categories:C});case"REMOVE_BUDGET":var k=y(e.budgets,n);return Object(d.a)(Object(d.a)({},e),{},{budgets:k});case"REMOVE_FUND":var D=y(e.funds,n);return Object(d.a)(Object(d.a)({},e),{},{funds:D});case"REMOVE_FUND_ADDITION":var A=y(e.fundAdditions,n);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:A});case"REMOVE_TRANSACTION":var N=y(e.transactions,n);return Object(d.a)(Object(d.a)({},e),{},{transactions:N});case"MOVE_RIGHT_ACCOUNT":var _=h(e.accounts,n);return Object(d.a)(Object(d.a)({},e),{},{accounts:_});case"MOVE_RIGHT_CATEGORY":var M=h(e.categories,n);return Object(d.a)(Object(d.a)({},e),{},{categories:M});case"MOVE_RIGHT_FUND":var I=h(e.funds,n);return Object(d.a)(Object(d.a)({},e),{},{funds:I});case"MOVE_LEFT_ACCOUNT":var P=E(e.accounts,n);return Object(d.a)(Object(d.a)({},e),{},{accounts:P});case"MOVE_LEFT_CATEGORY":var R=E(e.categories,n);return Object(d.a)(Object(d.a)({},e),{},{categories:R});case"MOVE_LEFT_FUND":var F=E(e.funds,n);return Object(d.a)(Object(d.a)({},e),{},{funds:F});case"SYNC":return Object(d.a)(Object(d.a)(Object(d.a)({},e),n),{},{lastSync:a});case"IMPORT_BACKUP":return Object(d.a)(Object(d.a)({},e),n);default:return e}}),function(){var e=localStorage.getItem("budgetState");if(null!==e)return(e=JSON.parse(e)).currentPage="Home",e.message={text:"",type:""},e.editMode=!1,e.addTransaction=!1,e.fetching=!1,z(e.general.colourScheme),e}(),Object(c.a)((function(e){var t=e.getState;return function(e){return function(n){var a=e(n);return["SET_CURRENT_PAGE","SET_ADD_TRANSACTION","SET_EDIT_MODE","SET_FETCHING"].includes(n.type)||localStorage.setItem("budgetState",JSON.stringify(t())),a}}}),(function(e){var t=e.getState,n=e.dispatch;return function(e){return function(a){var r=e(a);return["SET_CURRENT_PAGE","SET_EDIT_MODE","SYNC","SET_USER","SET_ADD_TRANSACTION","SET_MESSAGE","SET_FETCHING"].includes(a.type)||(null!==Q&&(clearTimeout(Q),Q=null),Q=setTimeout((function(){X(t(),n),Q=null}),500)),r}}}))),K=n(5),$=n(10),Z=n(6),ee=n(24),te=n(17);function ne(){var e=Object(K.a)(["\n    display: flex;\n    position: fixed;\n    top: 0px;\n    border-bottom: 1px solid var(--menu-border-color);\n    width: 100%;\n    background-color: var(--menu-bg-color);\n    z-index: 10;\n\n    & > div {\n        color: var(--menu-text-color);\n        padding: 5px 10px;\n        border-right: 1px solid var(--menu-border-color);\n        ",";\n        ",";\n    }\n\n    & > div:last-of-type {\n        ",";\n    }\n\n    & > div.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div:hover {\n        background-color: var(--menu-selected-bg-color);\n        cursor: pointer;\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div.spacer:hover {\n        background-color: transparent;\n        cursor: default;\n    }\n\n    & > div.spacer {\n        flex-grow: 1;\n        border: none;\n    }\n\n    & > div.right {\n        border-right: none;\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    & > div > svg {\n        position: relative;\n        top: 3px;\n    }\n"]);return ne=function(){return e},e}var ae=Z.a.div(ne(),(function(e){return e.isMobile?"flex-grow: 1;":""}),(function(e){return e.isMobile?"padding: 10px":""}),(function(e){return e.isMobile?"border-right: none;":""})),re=function(e){var t=e.page,n=e.alignment,a=void 0===n?"":n,o=e.icon,l=void 0===o?null:o,c=Object(i.b)(),u=Object(i.c)((function(e){return e.currentPage}))===t?"selected":"";return a.length>0&&(u+=" ".concat(a)),r.a.createElement("div",{onClick:function(){return c({type:"SET_CURRENT_PAGE",payload:t})},className:u},null===l?t:l)},oe=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.b)(),n=Object(i.c)((function(e){return e.addTransaction}));return r.a.createElement(ae,{isMobile:e},r.a.createElement(re,{page:"Home",icon:e?r.a.createElement(ee.b,null):null}),r.a.createElement(re,{page:"Categories"}),r.a.createElement(re,{page:"Funds"}),r.a.createElement(re,{page:"Accounts"}),e?null:r.a.createElement(re,{page:"Tools"}),e?null:r.a.createElement("div",{onClick:function(){t({type:"SET_ADD_TRANSACTION",payload:!n})}},"Add Transaction"),e?null:r.a.createElement("div",{className:"spacer"}),r.a.createElement(re,{page:"Settings",icon:e?r.a.createElement(te.b,null):null,alignment:"right"}))},le=n(4);function ie(){var e=Object(K.a)(["\n    position: absolute;\n    width: max-content;\n    top: 100px;\n    left: 100px;\n    z-index: 5;\n    pointer-events: all;\n\n    & > div:first-child {\n        position: absolute;\n        width: 100%;\n        opacity: 0;\n        cursor: move;\n        height: 40px;\n    }\n\n    & > svg {\n        position: absolute;\n        right: 2px;\n        top: 2px;\n        font-size: 1.5em;\n        cursor: pointer;\n        color: var(--text-color);\n        background-color: var(--bg-color);\n        width: 26px;\n        height: 26px;\n        border-radius: 50%;\n        ",";\n    }\n\n    & > svg:hover {\n        // filter: brightness(0.8);\n        color: var(--light-text-color);\n    }\n\n    & > div:last-child {\n        border: 2px solid var(--menu-border-color);\n        width: ",";\n        margin: auto;\n        padding: 10px;\n        background-color: var(--bg-color);\n    }\n"]);return ie=function(){return e},e}function ce(){var e=Object(K.a)(["\n    position: absolute;\n    width: calc("," + 200px);\n    height: 300px;\n    z-index: 5;\n    ",";\n"]);return ce=function(){return e},e}var ue=Z.a.div(ce(),(function(e){return e.width}),(function(e){return e.dragging?"pointer-events: all":"pointer-events: none"})),de=Z.a.div(ie(),(function(e){return e.dragging?"pointer-events: none":"pointer-events: all"}),(function(e){return e.width})),se=function(e){var t=e.children,n=e.onClose,o=e.posX,l=void 0===o?200:o,i=e.posY,c=void 0===i?-73:i,u=e.width,d=void 0===u?"300px":u,s=Object(a.useState)(!1),m=Object(le.a)(s,2),p=m[0],f=m[1],b=Object(a.useState)(0),g=Object(le.a)(b,2),v=g[0],h=g[1],E=Object(a.useState)(0),y=Object(le.a)(E,2),O=y[0],j=y[1],x=Object(a.useState)(0),w=Object(le.a)(x,2),T=w[0],S=w[1],C=Object(a.useState)(100),k=Object(le.a)(C,2),D=k[0],A=k[1],N=Object(a.useState)(l),_=Object(le.a)(N,2),M=_[0],I=_[1],P=Object(a.useState)(c),R=Object(le.a)(P,2),F=R[0],B=R[1],U=Object(a.useRef)(null);Object(a.useEffect)((function(){I(l),B(c),W()}),[l,c]),Object(a.useEffect)((function(){W()}),[U]);var W=function(){var e=U.current.offsetHeight,t=window.pageYOffset,n=c-e/2+20;(n<-72+t||n+e+50>window.innerHeight+t)&&(n=-72+t),B(n)};return r.a.createElement(ue,{dragging:p,width:d,onMouseUp:function(){f(!1)},onMouseMove:function(e){if(p){var t=e.target.offsetWidth,n=e.clientX-v,a=e.clientY-O,r=T+n,o=D+a;o<-73&&(o=-73),o>window.innerHeight-396&&(o=window.innerHeight-396),r<-100&&(r=-100),r>window.innerWidth-t-100&&(r=window.innerWidth-t-100),I(r),B(o)}},style:{top:F,left:M}},r.a.createElement(de,{width:d,ref:U,dragging:p},r.a.createElement("div",{onMouseDown:function(e){h(e.clientX),j(e.clientY),S(M),A(F),f(!0)}}),r.a.createElement(te.a,{onClick:n}),t))},me=n(25);function pe(){var e=Object(K.a)(["\n    width: 95%;\n    max-width: 1200px;\n    border: 2px solid white;\n    ",";\n    ",";\n    margin: auto;\n    margin-top: 5px;\n    padding: 5px;\n    position: relative;\n\n    & > div:last-child {\n        position: absolute;\n        right: -1px;\n        top: -2px;\n        font-size: 2em;\n    }\n\n    & > div:last-child:hover {\n        color: red;\n        cursor: pointer;\n    }\n"]);return pe=function(){return e},e}var fe=Z.a.div(pe(),(function(e){return"error"===e.type?"border: 2px solid red":""}),(function(e){return"success"===e.type?"border: 2px solid #0F0":""})),be=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.message}));return 0===t.text.length?null:r.a.createElement(fe,{type:t.type},r.a.createElement("div",null,t.text),r.a.createElement("div",{onClick:function(){return e({type:"SET_MESSAGE",payload:{text:"",type:""}})}},r.a.createElement(me.c,null)))},ge=n(38);function ve(){var e=Object(K.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    grid-gap: 10px;\n    margin: 10px;\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n"]);return ve=function(){return e},e}var he=Z.a.div(ve(),(function(e){return e.template?e.template:"1fr 1fr"}),(function(e){return void 0!==e.start?"grid-column-start: "+e.start:""}),(function(e){return void 0!==e.end?"grid-column-end: "+e.end:""}),(function(e){return void 0!==e.width?"width: "+e.width:""}),(function(e){return void 0!==e.width?"margin: auto":""}),(function(e){return void 0!==e.margin?"margin: "+e.margin:""}));function Ee(){var e=Object(K.a)(["\n    text-align: center;\n    border-radius: 5px;\n    box-shadow: 0px 1px 4px gray;\n    width: 100%;\n    overflow: hidden;\n\n    &.fullRow {\n        grid-column-start: 1;\n        grid-column-end: 3;\n    }\n\n    & > div:first-of-type {\n        position: relative;\n        font-size: 1em;\n        font-weight: bold;\n        padding: 5px;\n        margin-bottom: 4px;\n        ",";\n        ",";\n        ",";\n        ",";\n        ",";\n    }\n\n    & > div:last-of-type {\n        font-size: 1em;\n        margin-bottom: 5px;\n    }\n\n    & .budgetIcon {\n        position: absolute;\n        right: 5px;\n        top: 5px;\n    }\n\n    & .budgetIcon:hover {\n        cursor: pointer;\n    }\n\n    @media only screen and (min-width: 701px) {\n        &.fullRow {\n            grid-column-start: 1;\n            grid-column-end: 5;\n        }\n    }\n"]);return Ee=function(){return e},e}var ye=Z.a.div(Ee(),(function(e){return"income"===e.type?"background-color: green; color: white;":""}),(function(e){return"expense"===e.type?"background-color: darkorange; color: black;":""}),(function(e){return"fund"===e.type?"background-color: lightsteelblue; color: black;":""}),(function(e){return"remaining"===e.type?"background-color: deepskyblue; color: black;":""}),(function(e){return"account"===e.type?"background-color: deepskyblue; color: black;":""})),Oe=function(e){var t=e.title,n=e.amount,a=e.type;return r.a.createElement(ye,{type:a,className:"Earnings"===t||"Remaining"===t||"Total"===t?"fullRow":""},r.a.createElement("div",null,t),r.a.createElement("div",null,n))};function je(){var e=Object(K.a)(["\n    color: ",";\n    display: inline-block;\n    font-size: ",";\n    ",";\n    width: ",";\n    padding: ",";\n    border-radius: 5px;\n    \n    :hover {\n        cursor: pointer;\n    }\n\n    & > svg {\n        position: relative;\n        top: ",";\n    }\n"]);return je=function(){return e},e}var xe=Z.a.div(je(),(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.bordered?"border: 1px solid white":""}),(function(e){return e.width?e.width:"auto"}),(function(e){return e.bordered?"5px":"0px"}),(function(e){return e.topAdjust})),we=function(e){var t=e.Icon,n=e.onClick,a=e.color,o=void 0===a?"var(--icon-color)":a,l=e.topAdjust,i=void 0===l?"3px":l,c=e.size,u=void 0===c?"1em":c,d=e.width,s=void 0===d?"auto":d,m=e.bordered,p=void 0!==m&&m;return r.a.createElement(xe,{color:o,topAdjust:i,size:u,width:s,bordered:p},r.a.createElement(t,{onClick:n}))},Te=function(e){var t=e.arr,n=e.total;return r.a.createElement("div",null,r.a.createElement(he,{template:"repeat(4, 1fr)",width:"800px"},t.map((function(e){return r.a.createElement(Oe,{key:e.id,title:e.name,amount:I(e.total),type:"account"})})),r.a.createElement(Oe,{title:"Total",amount:I(n),type:"account"})))};function Se(){var e=Object(K.a)(["\n    & > table {\n        width: 100%;\n        max-width: 650px;\n        margin: auto;\n    }\n\n    & td {\n        ","\n        height: 39px;\n    }\n\n    & td:nth-child(1) {\n        text-align: left;\n    }\n\n    & td:nth-child(2) {\n        width: 100px;\n        text-align: right;\n    }\n\n    & td:nth-child(3) {\n        width: 50px;\n        text-align: right;\n    }\n\n    & div.description {\n        max-width: ",";\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & td span.date {\n        font-size: 0.8em;\n        color: var(--light-text-color);\n    }\n\n    &:hover {\n        ",";\n        ",";\n    }\n\n    @media screen and (max-width: 700px) {        \n        & > table {\n            width: 100%;\n        }\n\n        & div.description {\n            max-width: 250px;\n        }\n\n        & td {\n            height: 40px;\n        }\n\n        & tr > td:first-child {\n            padding-left: 15px;\n        }\n\n        & tr > td:last-child {\n            padding-right: 15px;\n        }\n    }\n"]);return Se=function(){return e},e}var Ce=Z.a.div(Se(),"",(function(e){return e.maxDescWidth}),(function(e){return e.hover?"cursor: pointer;":""}),(function(e){return e.hover?"background-color: var(--table-heading-bg-color);":""})),ke=function(e,t,n,a,r,o){if("Categories"===o||"Home"===o){var l=e.account,i=r.find((function(e){return e.id===l}));if(void 0!==i)return e.description&&e.description.length>0?i.name+" - "+e.description:i.name;if(e.description&&e.description.length>0)return e.description}if("Funds"===o)return e.description&&e.description.length>0?e.description:"";if(void 0===t)return"";if(void 0!==e.category){var c=n.find((function(t){return t.id===e.category}));if(void 0!==c)return e.description.length>0?c.name+" - "+e.description:c.name;if(e.description.length>0)return e.description}if(void 0!==e.fund){var u=a.find((function(t){return t.id===e.fund}));if(void 0!==u)return e.description.length>0?"".concat(u.name," Fund - ").concat(e.description):"".concat(u.name," Fund")}if(void 0!==e.from)if(e.from===t){var d=r.find((function(t){return t.id===e.to}));if(void 0!==d)return"Transfered to ".concat(d.name)}else{var s=r.find((function(t){return t.id===e.from}));if(void 0!==s)return"Transfered from ".concat(s.name)}return""},De=function(e){var t=e.obj,n=e.accountId,a=e.hover,o=void 0===a||a,l=e.maxDescWidth,c=void 0===l?"540px":l,u=e.onClick,d=void 0===u?function(){}:u,m=Object(i.c)((function(e){return W(e.categories)})),f=Object(i.c)((function(e){return W(e.funds)})),b=Object(i.c)((function(e){return W(e.accounts)})),g=Object(i.c)((function(e){return e.currentPage})),v=void 0!==t.date?Object(s.a)(Object(p.a)(t.date),"MMM d, yyyy"):"",h=ke(t,n,m,f,b,g);return r.a.createElement(Ce,{onClick:d(t),hover:o,maxDescWidth:c},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,h.length>0?r.a.createElement("div",{className:"description"},h):null,h.length>0?r.a.createElement("span",{className:"date"},v):r.a.createElement("div",{className:"description"},v)),r.a.createElement("td",null,B(t,m,n))))))};function Ae(){var e=Object(K.a)(["\n    ",";\n    ",";\n    ",";\n    box-shadow: 0px 1px 4px gray;\n    padding: 0px !important;\n\n    & > div {\n        font-weight: bold;\n        padding: 5px;\n        color: black;\n    }\n\n    & > div.income {\n        background-color: green;\n        color: white;\n    }\n\n    & > div.expense {\n        background-color: darkorange;\n    }\n\n    & > div.fund {\n        background-color: lightsteelblue;\n    }\n\n    & > span > div {\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n\n    & > span > div:first-child {\n        margin-top: 5px;\n    }\n\n    & > span > div:last-child {\n        margin-bottom: 5px;\n    }\n"]);return Ae=function(){return e},e}var Ne=Z.a.div(Ae(),(function(e){return"income"===e.type?"border-color: green !important":""}),(function(e){return"expense"===e.type?"border-color: darkorange !important":""}),(function(e){return"fund"===e.type?"border-color: lightsteelblue !important":""})),_e=function(e){var t=e.heading,n=e.transactions,a=e.type,o=n.sort((function(e,t){return Object(f.a)(Object(p.a)(t.date),Object(p.a)(e.date))}));return r.a.createElement(Ne,{type:a},r.a.createElement("div",{className:a},t),r.a.createElement("span",null,o.map((function(e){return r.a.createElement(De,{key:e.id,obj:e,accountId:e.account,hover:!1,maxDescWidth:"350px"})}))))};function Me(){var e=Object(K.a)(["\n    margin: 5px auto;\n    ","\n    border-spacing: 0px;\n    overflow: hidden;\n    border-radius: 5px;\n    background-color: var(--bg-color);\n    color: var(--text-color);\n\n    & thead td {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n    }\n\n    & td.income {\n        background-color: green;\n        color: white;\n    }\n\n    & td.expense {\n        background-color: darkorange;\n        color: black;\n    }\n\n    & td.bold {\n        font-weight: bold;\n    }\n\n    & td.highlighted {\n        background-color: var(--mild-highlight);\n    }\n\n    td.date {\n        min-width: 125px;\n    }\n\n    & td.fund {\n        background-color: lightsteelblue;\n        color: black;\n    }\n\n    & td.remaining {\n        background-color: deepskyblue;\n        color: black;\n    }\n\n    & tr.summary:hover td:not(.expense, .income, .fund) {\n        background-color: var(--obj-highlight-bg);\n    }\n\n    & tbody th {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n        font-weight: normal;\n    }\n\n    & tr td.corner-top-left {\n        border-top: none !important;\n        border-left: none !important;\n        background-color: transparent;\n    }\n\n    & td, & th {\n        padding: ",";\n        border-right: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n    \n    & > *:first-child tr:first-child > * {\n        border-top: 1px solid var(--menu-border-color);\n    }\n\n    & tr td:first-child, & tr th:first-child {\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    & > *:first-child tr:first-child > *:first-child {\n        border-top-left-radius: 5px;\n    }\n\n    & > *:first-child tr:first-child > *:last-child {\n        border-top-right-radius: 5px;\n    }\n\n    & tbody tr:last-child td:first-child {\n        border-bottom-left-radius: 5px;\n    }\n\n    & tbody tr:last-child td:last-child {\n        border-bottom-right-radius: 5px;\n    }\n\n    & td {\n        position: relative;\n    }\n\n    & .budgetIcon, & .morePeriodIcon {\n        float: right;\n        margin-left: 5px;\n    }\n\n    & .lessPeriodIcon {\n        float: left;\n        margin-right: 5px;\n    }\n\n    & .morePeriodIcon, & .lessPeriodIcon {\n        position: relative;\n        top: 2px;\n    }\n\n    & .budgetIcon:hover, & .morePeriodIcon:hover, & .lessPeriodIcon:hover {\n        cursor: pointer;\n    }\n\n    & .lessPeriodIcon.hidden, & .morePeriodIcon.hidden {\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    & .lessPeriodIcon.reversed, & .morePeriodIcon.reversed {\n        transform: rotate(90deg);\n        top: 1px;\n    }\n\n    & td.input {\n        padding: 2px;\n    }\n\n    & td.trValue:hover {\n        cursor: pointer;\n        background-color: var(--obj-highlight-bg);\n        color: var(--obj-highlight-text);\n    }\n\n    & td.trValue.selected {\n        background-color: var(--obj-highlight-bg);\n        color: var(--obj-highlight-text);\n    }\n"]);return Me=function(){return e},e}var Ie=Z.a.table(Me(),"",(function(e){return e.padding?e.padding:"10px 15px"})),Pe=function(e){var t=e.dates,n=e.allDates,a=e.incomeCategories,o=e.filteredFunds,l=e.expenseCategories,c=e.summaryTotals,u=e.rows,d=e.onClickValue,m=e.checkFundTarget,p=e.transactionId,f=e.getAmount,b=e.showMorePeriods,g=e.showLessPeriods,v=Object(i.c)((function(e){return e.general.reverseSummaryTable})),h=Object(i.c)((function(e){return e.general.displayMonths})),E=Object(i.c)((function(e){return e.general.periodsToDisplay})),y=Object(i.c)((function(e){return e.general.displayIncomeTotal})),O=Object(i.c)((function(e){return e.general.displayExpenseTotal})),j=t.length>E,x=t.length<n.length,w=function(e,t,n){var a=f(u,t,e.name),o=p===e.id+t?"trValue selected":"trValue";return"-"===a&&(o=""),r.a.createElement("td",{key:e.id+t,className:o,onClick:d(u[t][e.name],e.name,n,e.id+t)},a)},T=function(e,n){return e.map((function(e){return r.a.createElement("tr",{key:e.id,className:"summary"},r.a.createElement("td",{className:n,style:{minWidth:"120px"}},e.name),t.map((function(t){return w(e,t,n)})),"fund"===n?r.a.createElement("td",{className:"highlighted"},I(c[e.name].remaining),m(c[e.name])):r.a.createElement("td",{className:"highlighted"},I(c[e.name])))}))},S=function(e){return h?Object(s.a)(new Date(e),"MMM-Y"):Y(e)};if(v){var C=h?"110px":"125px";return r.a.createElement("div",{style:{padding:"0px 20px 0px 20px",width:"fit-content"}},r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"date"},r.a.createElement("div",{className:"lessPeriodIcon reversed ".concat(j?"":"hidden"),onClick:g},r.a.createElement(te.c,null)),"Date",r.a.createElement("div",{className:"morePeriodIcon reversed ".concat(x?"":"hidden"),onClick:b},r.a.createElement(te.d,null))),t.map((function(e){return r.a.createElement("td",{key:"date-"+e,style:{minWidth:C}},S(e))})),r.a.createElement("td",null,"Total"))),r.a.createElement("tbody",null,T(a,"income"),y?r.a.createElement("tr",{className:"summary"},r.a.createElement("td",{className:"income bold"},"Total Income"),t.map((function(e){return r.a.createElement("td",{className:"highlighted"},I(u[e].incomeTotal))})),r.a.createElement("td",{className:"highlighted"},I(c.totalIncome))):null,T(o,"fund"),T(l,"expense"),O?r.a.createElement("tr",{className:"summary"},r.a.createElement("td",{className:"expense bold"},"Total Expenses"),t.map((function(e){return r.a.createElement("td",{className:"highlighted"},I(u[e].expenseTotal))})),r.a.createElement("td",{className:"highlighted"},I(c.totalExpenses))):null,r.a.createElement("tr",null,r.a.createElement("td",{className:"remaining bold"},"Remaining"),t.map((function(e){return r.a.createElement("td",{key:"remaining-"+e},I(u[e].remaining))})),r.a.createElement("td",{className:"highlighted"},I(c.remaining))))))}var k=function(e,t,n){return e.map((function(e){return w(e,t,n)}))};return r.a.createElement("div",{style:{padding:"0px 20px 0px 20px",overflow:"scroll"}},r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"date"},r.a.createElement("div",{className:"lessPeriodIcon ".concat(j?"":"hidden"),onClick:g},r.a.createElement(te.c,null)),"Date",r.a.createElement("div",{className:"morePeriodIcon ".concat(x?"":"hidden"),onClick:b},r.a.createElement(te.d,null))),a.map((function(e){return r.a.createElement("td",{key:"heading-"+e.id,className:"income"},e.name)})),y?r.a.createElement("td",{className:"income bold"},"Total Income"):null,o.map((function(e){return r.a.createElement("td",{key:"heading-"+e.id,className:"fund"},e.name)})),l.map((function(e){return r.a.createElement("td",{key:"heading-"+e.id,className:"expense"},e.name)})),O?r.a.createElement("td",{className:"expense bold"},"Total Expenses"):null,r.a.createElement("td",{className:"remaining bold"},"Remaining"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{className:"summary",key:"summaryDate-"+e},r.a.createElement("td",null,S(e)),k(a,e,"income"),y?r.a.createElement("td",{className:"highlighted"},I(u[e].incomeTotal)):null,k(o,e,"fund"),k(l,e,"expense"),O?r.a.createElement("td",{className:"highlighted"},I(u[e].expenseTotal)):null,r.a.createElement("td",null,I(u[e].remaining)))})),r.a.createElement("tr",null,r.a.createElement("td",{className:"highlighted"},"Total"),a.map((function(e){return r.a.createElement("td",{className:"highlighted",key:"totalsRow-"+e.id},I(c[e.name]))})),y?r.a.createElement("td",{className:"highlighted"},I(c.totalIncome)):null,o.map((function(e){return r.a.createElement("td",{className:"highlighted",key:"fundHeading-"+e.id},I(c[e.name].remaining),m(c[e.name]))})),l.map((function(e){return r.a.createElement("td",{className:"highlighted",key:"totalsRow-"+e.id},I(c[e.name]))})),O?r.a.createElement("td",{className:"highlighted"},I(c.totalExpenses)):null,r.a.createElement("td",{className:"highlighted"},I(c.remaining))))))};function Re(){var e=Object(K.a)(["\n    margin: 20px;\n\n    & #container {\n        display: inline-grid;\n        grid-template-columns: ",";\n        grid-gap: 50px;\n    }\n\n    & #pie {\n        position: relative;\n        width: ",";\n        height: ",";\n        border-radius: 50%;\n        background: ",";\n        // filter: grayscale(1);\n        transition: filter 1s;\n\n        :hover {\n            ","\n        }\n\n        :after {\n            content: '';\n            display: block;\n            width: 100%;\n            height: 100%;\n            border-radius: 50%;\n            background: ",";\n            opacity: ",";\n            transition: opacity 0.5s;\n        }\n    }\n\n    & #labels {\n        width: ",";\n        height: ",";\n        overflow: scroll;\n\n        #label {\n            display: flex;\n            align-items: center;\n            margin: 5px;\n\n            #color {\n                width: 50px;\n                min-width: 50px;\n                height: 33px;\n                border-radius: 5px;\n                \n                :hover {\n                    cursor: pointer;\n                }\n            }\n\n            #text {\n                text-align: left;\n                margin-left: 5px;\n                font-size: 0.9em;\n                text-transform: capitalize;\n            }\n        }\n    }\n"]);return Re=function(){return e},e}var Fe=Z.a.div(Re(),(function(e){return"".concat(e.pieWidth," ").concat(e.labelWidth)}),(function(e){return e.pieWidth}),(function(e){return e.pieWidth}),(function(e){return e.gradient}),(function(e){return e.selectedVisible?"cursor: pointer;":""}),(function(e){return e.gradientTwo}),(function(e){return e.selectedVisible?"1":"0"}),(function(e){return e.labelWidth}),(function(e){return e.pieWidth})),Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=["#4D4D4D","#A1A1A1","#686868","#2C2C2C","#595959","#535353","#797979","#BBBBBB","#D2D2D2","#B9B9B9","#DFDFDF","#ABABAB","#6A6A6A","#222222","#070707","#C6C6C6","#E5E5E5","#D4D4D4","#B2B2B2","#9F9F9F"],r=e.map((function(e){return e.percentage})),o="conic-gradient(",l=0;return r.forEach((function(e,r){var i=t[r%t.length],c=a[r%a.length],u=l+parseFloat(e);0===n.length||n===i?o+="".concat(i," ").concat(l.toFixed(2),"%, ").concat(i," ").concat(u.toFixed(2),"%, "):o+="".concat(c," ").concat(l.toFixed(2),"%, ").concat(c," ").concat(u.toFixed(2),"%, "),l=u})),o=o.slice(0,-2),o+=")"},Ue=function(e){var t=e.title,n=void 0===t?"":t,o=e.data,l=e.width,i=void 0===l?600:l,c=Object(a.useState)(""),u=Object(le.a)(c,2),s=u[0],m=u[1],p=Object(a.useState)(!1),f=Object(le.a)(p,2),b=f[0],g=f[1],v=function(e){return function(){m(e),0===s.length?g(!0):e===s&&b?g(!1):e!==s||b?e!==s&&g(!0):g(!0)}},h=["#8b0000","#ff0000","#b03060","#008b8b","#9acd32","#00ff00","#00d89a","#00ffff","#00bfff","#4169e1","#0000ff","#00006a","#d8bfd8","#eee8aa","#ffd700","#ffa07a","#ff8c00","#6a3d9a","#ee82ee","#ff00ff"],E=i-200,y=function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return e.map((function(e,n){var a=Object(d.a)({},e);return a.id=n,a.percentage=(e.value/t*100).toFixed(3),a.percentageSmall=(e.value/t*100).toFixed(1),a}))}(o),O=Be(y,h),j=Be(y,h,s);return r.a.createElement(Fe,{labelWidth:"200px",pieWidth:E+"px",gradient:O,gradientTwo:j,selectedVisible:b},r.a.createElement("h4",null,n),r.a.createElement("div",{id:"container"},r.a.createElement("div",{id:"pie",onClick:function(){g(!1)}}),r.a.createElement("div",{id:"labels"},y.map((function(e,t){var n=h[t%h.length],a=n===s&&b;return r.a.createElement("div",{key:t,id:"label"},r.a.createElement("div",{title:e.percentageSmall+"%",id:"color",style:{backgroundColor:n},onClick:v(n)}),r.a.createElement("div",{title:e.percentageSmall+"%",id:"text"},e.label," ",r.a.createElement("span",null,a?"(".concat(e.percentageSmall,"%)"):"")))})))))},We=function(e,t,n){var a=e[t][n];return void 0===a?"-":I(a.amount)},Ge=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.c)((function(e){return e.general})),n=Object(i.c)((function(e){return W(e.transactions)})),o=Object(i.c)((function(e){return W(e.categories)})),l=Object(i.c)((function(e){return W(e.funds)})),c=Object(i.c)((function(e){return W(e.fundAdditions)})),u=Object(i.c)((function(e){return W(e.accounts)})),d=l.filter((function(e){return!1===e.complete})),f=Object(a.useState)("Totals"),b=Object(le.a)(f,2),g=b[0],v=b[1],h=Object(a.useState)(!1),E=Object(le.a)(h,2),y=E[0],O=E[1],j=Object(a.useState)([]),x=Object(le.a)(j,2),w=x[0],T=x[1],k=Object(a.useState)(""),R=Object(le.a)(k,2),F=R[0],B=R[1],U=Object(a.useState)({x:0,y:0}),G=Object(le.a)(U,2),L=G[0],Y=G[1],H=Object(a.useState)(0),V=Object(le.a)(H,2),z=V[0],J=V[1],Q=Object(a.useState)(""),X=Object(le.a)(Q,2),q=X[0],K=X[1],Z=Object(a.useState)(t.periodsToDisplay),ee=Object(le.a)(Z,2),te=ee[0],ne=ee[1],ae=te>t.periodsToDisplay?te:t.periodsToDisplay,re=S(t.startDate,t.payPeriodType,ae),oe=C(t.startDate,t.payPeriodType),ie=function(e,t,n,a,r){if(0===e.length)return[];var o={};e.forEach((function(e){return o[e]={}}));var l=A(a,n),i=l.categoryNames,c=l.fundNames,u=t.filter((function(t){return void 0===t.fund&&("transfer"!==t.type&&Object(m.a)(Object(p.a)(t.date),Object(p.a)(e[0]))>=0)})),d=r.filter((function(t){return Object(m.a)(Object(p.a)(t.date),Object(p.a)(e[0]))>=0})),s=t.filter((function(t){return!(Object(m.a)(Object(p.a)(t.date),Object(p.a)(e[0]))<0)&&void 0!==t.fund})),f=function(t){return function(n){var a=M(e,n.date),r=_(c,i,n);void 0===o[a][r]&&(o[a][r]={amount:0,transactions:[]}),!0===t?o[a][r].amount-=n.amount:o[a][r].amount+=n.amount,o[a][r].transactions.push(n)}};return u.forEach(f(!1)),d.forEach(f(!1)),Object.values(o).forEach((function(e){var t=a.filter((function(e){return"income"===e.type})),r=a.filter((function(e){return"expense"===e.type})),o=0;t.forEach((function(t){return o+=void 0!==e[t.name]?e[t.name].amount:0})),r.forEach((function(t){return o-=void 0!==e[t.name]?e[t.name].amount:0})),n.forEach((function(t){return o-=void 0!==e[t.name]?e[t.name].amount:0})),e.remaining=o;var l=0;t.forEach((function(t){return l+=void 0!==e[t.name]?e[t.name].amount:0})),e.incomeTotal=l;var i=0;r.forEach((function(t){return i+=void 0!==e[t.name]?e[t.name].amount:0})),e.expenseTotal=i})),s.forEach(f(!0)),o}(re,n,l,o,c),ce=o.filter((function(e){return"income"===e.type&&!1===e.hidden})),ue=o.filter((function(e){return"expense"===e.type&&!1===e.hidden})),de=function(e,t,n,a){var r={},o=A(n,t),l=o.categoryNames,i=o.fundNames;t.forEach((function(e){var t=e.startingBalance>0?e.startingBalance:0;r[e.name]={saved:t,target:e.targetAmount,spent:0,remaining:t}})),n.forEach((function(e){return r[e.name]=e.startingBalance>0?e.startingBalance:0}));var c=function(e){var n=_(i,l,e);if(void 0!==e.fund){var a=N(t,e);return void 0===r[n]&&(r[n]={saved:0,target:a,spent:0,remaining:0}),e.account>0?r[n].spent+=e.amount:r[n].saved+=e.amount,void(r[n].remaining=r[n].saved-r[n].spent)}void 0===r[n]&&(r[n]=0),r[n]+=e.amount};e.forEach(c),a.forEach(c);var u=n.filter((function(e){return"income"===e.type})),d=n.filter((function(e){return"expense"===e.type})),s=0;u.forEach((function(e){return s+=r[e.name]})),d.forEach((function(e){return s-=r[e.name]})),t.forEach((function(e){return s-=r[e.name].saved})),r.remaining=s;var m=0;u.forEach((function(e){return m+=r[e.name]})),r.totalIncome=m;var p=0;return d.forEach((function(e){return p+=r[e.name]})),r.totalExpenses=p,r}(n,l,o,c),me=D(n,u,o),pe=me.reduce((function(e,t){return e+t.total}),0),fe=function(){if("Totals"!==g){var e=re.indexOf(g)-1;if(!(e<0)){var t=re[e];v(t)}}else v(re[re.length-1])},be=function(){var e=re.indexOf(g)+1;if(e>re.length-1)v("Totals");else if("Totals"!==g){var t=re[e];v(t)}},ve=function(e,t,n){var a=[];return t.forEach((function(t){var n=e[t.name],r={label:t.name,value:n};a.push(r)})),n.forEach((function(t){var n=e[t.name],r={label:t.name,value:n.saved};a.push(r)})),a.push({label:"Remaining",value:e.remaining}),a}(de,ue,l);if(e){var Ee=g;"Totals"!==g&&(Ee=Object(s.a)(new Date(g),"do MMM yyyy"));var ye=re.indexOf(g),je=function(){return r.a.createElement(he,{style:{fontSize:"1.5em",fontWeight:"bold",margin:"0px"},start:"1",end:"3",template:"50px auto 50px"},0===ye?r.a.createElement("div",null):r.a.createElement(we,{Icon:ge.a,onClick:fe,size:"1.3em",topAdjust:"0px"}),r.a.createElement("div",null,Ee),"Totals"===g?r.a.createElement("div",null):r.a.createElement(we,{Icon:ge.b,onClick:be,size:"1.3em",topAdjust:"0px"}))};return"Totals"===g?r.a.createElement("div",{style:{marginBottom:"100px"}},r.a.createElement(he,null,je(),ce.map((function(e){return r.a.createElement(Oe,{key:"totals-heading-"+e.id,title:e.name,amount:I(de[e.name]),type:"income"})})),d.map((function(e){return r.a.createElement(Oe,{key:"totals-heading-"+e.id,title:e.name,amount:I(de[e.name]?de[e.name].remaining:0)+P(de[e.name]),type:"fund"})})),ue.map((function(e){return r.a.createElement(Oe,{key:"totals-heading-"+e.id,title:e.name,amount:I(de[e.name]),type:"expense"})})),r.a.createElement(Oe,{title:"Remaining",amount:I(de.remaining),type:"remaining"})),r.a.createElement("h3",null,"Accounts"),r.a.createElement(he,null,me.map((function(e){return r.a.createElement(Oe,{key:"account-"+e.id,title:e.name,amount:I(e.total),type:"account"})})),r.a.createElement(Oe,{title:"Total",amount:I(pe),type:"remaining"}))):r.a.createElement("div",{style:{marginBottom:"100px"}},r.a.createElement(he,null,je(),ce.map((function(e){return r.a.createElement(Oe,{key:"heading-"+e.id,title:e.name,amount:We(ie,g,e.name),type:"income"})})),d.map((function(e){return r.a.createElement(Oe,{key:"heading-"+e.id,title:e.name,amount:We(ie,g,e.name),type:"fund"})})),ue.map((function(e){return r.a.createElement(Oe,{key:"heading-"+e.id,title:e.name,amount:We(ie,g,e.name),type:"expense"})})),r.a.createElement(Oe,{title:"Remaining",amount:I(ie[g].remaining),type:"remaining"})))}return r.a.createElement("div",null,t.swapSummaries?r.a.createElement("div",null,r.a.createElement("h4",null,"Account Summaries"),r.a.createElement(Te,{arr:me,total:pe})):null,r.a.createElement("h4",null,"Period Summaries"),y?r.a.createElement(se,{onClose:function(){O(!1),T([]),B(""),Y(0),K(""),J(0)},posX:L.x,posY:L.y,width:"450px"},r.a.createElement(_e,{heading:F,transactions:w,type:q})):null,r.a.createElement(Pe,{dates:re,allDates:oe,incomeCategories:ce,filteredFunds:d,expenseCategories:ue,summaryTotals:de,rows:ie,onClickValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return function(r){if(void 0!==e){var o=e.transactions;O(!0),T(o),B(t),K(n),J(a);var l=r.target.offsetLeft-550;l<0&&(l=r.target.offsetLeft+r.target.offsetWidth-101);var i=r.target.offsetTop-101;Y({x:l,y:i})}}},checkFundTarget:P,transactionId:z,getAmount:We,showMorePeriods:function(){var e=t.periodsToDisplay>0?t.periodsToDisplay:12,n=te+e;n>oe.length&&(n=oe.length),ne(n)},showLessPeriods:function(){var e=t.periodsToDisplay>0?t.periodsToDisplay:12,n=te-e;n<t.periodsToDisplay&&(n=t.periodsToDisplay),ne(n)}}),t.swapSummaries?null:r.a.createElement("div",null,r.a.createElement("h4",null,"Account Summaries"),r.a.createElement(Te,{arr:me,total:pe})),t.showChart?r.a.createElement(Ue,{width:600,data:ve,title:"Totals Chart"}):null)},Le=n(30);function Ye(){var e=Object(K.a)(["\n    border: ",";\n    height: var(--input-height);\n    background-color: var(--bg-color);\n    color: var(--text-color);\n    padding-left: 10px;\n    font-size: 1em;\n    width: ",";\n    border-radius: 0px;\n    -webkit-appearance: none;\n\n    :focus {\n        outline: none;\n        border: 1px solid #33C9F9;\n    }\n\n    &::-webkit-calendar-picker-indicator {\n        filter: invert(100%);\n    }\n"]);return Ye=function(){return e},e}var He=Z.a.input(Ye(),(function(e){return e.noBorder?"none":"1px solid var(--menu-border-color)"}),(function(e){return e.width})),Ve=function(e){var t=e.value,n=e.type,a=void 0===n?"text":n,o=e.placeholder,l=void 0===o?"":o,i=e.onChange,c=e.options,u=void 0===c?[]:c,d=e.groups,s=void 0===d?[]:d,m=e.width,p=void 0===m?"100px":m,f=e.noBorder,b=void 0!==f&&f,g=Object(Le.a)(e,["value","type","placeholder","onChange","options","groups","width","noBorder"]);return"dropdown"===a&&(u.length>0||s.length>0)?r.a.createElement(He,{as:"select",onChange:i,value:t,width:p,noBorder:b},r.a.createElement("option",{hidden:!0,value:void 0},"Select an Option"),u.length>0?u.map((function(e){return 0===e.display.length?null:r.a.createElement("option",{key:"inputOption-"+e.value,value:e.value},e.display)})):s.map((function(e){return r.a.createElement("optgroup",{key:"inputGroup-"+e.label,label:e.label},e.options.map((function(e){return 0===e.display.length?null:r.a.createElement("option",{key:"inputGroupOption-"+e.value,value:e.value},e.display)})))}))):"dropdown"===a&&0===u.length&&0===s.length?r.a.createElement(He,{value:"No Options",type:a,onChange:i,placeholder:l,width:p,noBorder:b,disabled:!0}):("number"===a&&isNaN(t)&&(t=""),r.a.createElement(He,Object.assign({value:t,type:a,onChange:i,placeholder:l,width:p,noBorder:b},g)))};function ze(){var e=Object(K.a)(["\n    display: flex;\n    justify-content: center;\n    margin: 5px;\n\n    & > label {\n        width: ",";\n        display: inline-flex;\n        justify-content: flex-end;\n        align-items: center;\n        height: var(--input-height);\n        padding: 0px 10px;\n        border-left: 1px solid var(--menu-border-color);\n        border-top: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n        border-top-left-radius: 5px;\n        border-bottom-left-radius: 5px;\n        background-color: var(--table-heading-bg-color);\n    }\n\n    & > input, & > select {\n        border-top-right-radius: 5px;\n        border-bottom-right-radius: 5px;\n        width: 150px;\n    }\n"]);return ze=function(){return e},e}var Je=Z.a.div(ze(),(function(e){return e.labelWidth})),Qe=function(e){var t=e.label,n=e.type,a=void 0===n?"text":n,o=e.value,l=e.options,i=void 0===l?[]:l,c=e.groups,u=void 0===c?[]:c,d=e.labelWidth,s=void 0===d?"120px":d,m=Object(Le.a)(e,["label","type","value","options","groups","labelWidth"]),p=o;return isNaN(p)&&"number"===a&&(p=""),r.a.createElement(Je,{labelWidth:s},r.a.createElement("label",null,t),r.a.createElement(Ve,Object.assign({value:p,type:a,options:i,groups:u},m)))};function Xe(){var e=Object(K.a)(["\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n\n    background-color: rgba(0,0,0,0.6);\n    border-radius: 5px;\n    cursor: default;\n\n    :after {\n        content: ' ';\n        position: relative;\n        top: 2px;\n        border: 3px solid black;\n        border-radius: 50%;\n        border-top: none;\n        border-left: none;\n        width: 20px;\n        height: 20px;\n        display: block;\n        margin: auto;\n        animation-name: spin;\n        animation-duration: 0.9s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes spin {\n        from {transform: rotate(0deg);}\n        to {transform: rotate(360deg);}\n    }\n"]);return Xe=function(){return e},e}function qe(){var e=Object(K.a)(["\n    background-color: var(--menu-bg-color);\n    color: var(--menu-text-color);\n    border: 1px solid var(--menu-border-color);\n    ",";\n    border-radius: 5px;\n    height: var(--input-height);\n    display: ",";\n    justify-content: center;\n    align-items: center;\n    width: ",";\n    margin: auto;\n    ",";\n    position: relative;\n\n    &:hover {\n        cursor: pointer;\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    &.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n"]);return qe=function(){return e},e}var Ke=Z.a.div(qe(),(function(e){return e.color?"border-color: ".concat(e.color):""}),(function(e){return e.inline?"inline flex":"flex"}),(function(e){return e.width}),(function(e){return e.inline?"margin: 3px":""})),$e=Z.a.div(Xe()),Ze=function(e){var t=e.value,n=e.onClick,a=e.width,o=void 0===a?"100%":a,l=e.inline,i=void 0!==l&&l,c=e.color,u=void 0===c?void 0:c,d=e.style,s=void 0===d?{}:d,m=e.loading,p=void 0!==m&&m,f=e.selected,b=void 0!==f&&f;return p?r.a.createElement(Ke,{width:o,inline:i,color:u,style:s,className:b?"selected":""},r.a.createElement($e,null),t):r.a.createElement(Ke,{width:o,onClick:n,inline:i,color:u,style:s,className:b?"selected":""},t)};function et(){var e=Object(K.a)(["\n\n"]);return et=function(){return e},e}var tt=Z.a.div(et()),nt=function(e){var t=e.onChange,n=e.obj,o=void 0===n?void 0:n,l=e.buttonLabel,c=void 0===l?"Save":l,u=Object(i.c)((function(e){return W(e.accounts)})),d=Object(i.c)((function(e){return W(e.funds)})),m=Object(i.c)((function(e){return W(e.categories)})),p=Object(i.c)((function(e){return e.selectedAccount})),f=Object(i.c)((function(e){return e.currentPage})),b=u.find((function(e){return!0===e.defaultAccount})),g=void 0!==b?b.id:u.length>0?u[0].id:void 0;"Accounts"===f&&(g=p);var v=Object(a.useState)(0),h=Object(le.a)(v,2),E=h[0],y=h[1],O=Object(a.useState)("spend"),j=Object(le.a)(O,2),x=j[0],w=j[1],T=Object(a.useState)(""),S=Object(le.a)(T,2),C=S[0],k=S[1],D=Object(a.useState)(""),A=Object(le.a)(D,2),N=A[0],_=A[1],M=Object(a.useState)(Object(s.a)(new Date,"yyyy-MM-dd")),I=Object(le.a)(M,2),P=I[0],R=I[1],F=Object(a.useState)(g),B=Object(le.a)(F,2),U=B[0],G=B[1],L=Object(a.useState)(void 0),Y=Object(le.a)(L,2),H=Y[0],V=Y[1],z=Object(a.useState)(void 0),J=Object(le.a)(z,2),Q=J[0],X=J[1],q=Object(a.useState)(void 0),K=Object(le.a)(q,2),$=K[0],Z=K[1],ee=Object(a.useState)(void 0),te=Object(le.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(!1),oe=Object(le.a)(re,2),ie=oe[0],ce=oe[1];Object(a.useEffect)((function(){ue()}),[o]);var ue=function(){void 0===o&&(o={});var e=o.type||"spend";void 0!==o.amount&&void 0===o.type&&(e="fundAddition"),void 0!==o.amount&&ce(!0),y(o.id||0),w(e),k(o.amount||""),_(o.description||""),R(o.date||Object(s.a)(new Date,"yyyy-MM-dd")),G(o.account||g),V(o.fund||void 0),X(o.category||void 0),Z(o.from||void 0),ae(o.to||void 0)},de=[{value:"spend",display:"Spend/Receive"},{value:"fundAddition",display:"Add to Fund"}];u.length>1&&de.push({value:"transfer",display:"Transfer"});var se=Q;return void 0===Q&&(se=H),"fundAddition"===x?r.a.createElement(tt,null,ie?null:r.a.createElement(Qe,{label:"Type",type:"dropdown",value:x,onChange:function(e){return w(e.target.value)},options:de}),r.a.createElement(Qe,{label:"Amount",type:"number",value:C,onChange:function(e){return k(parseFloat(e.target.value))}}),r.a.createElement(Qe,{label:"Date",type:"date",value:P,onChange:function(e){return R(e.target.value)}}),r.a.createElement(Qe,{label:"Fund",type:"dropdown",value:H,onChange:function(e){return V(Number(e.target.value))},options:d.map((function(e){return{value:e.id,display:e.name}}))}),r.a.createElement(Ze,{value:c,onClick:function(){if(0!==C&&!isNaN(C)&&0!==P.length&&void 0!==H){var e={amount:C,date:P,fund:H};0!==E&&(e.id=E),t(e)}},width:"140px"})):r.a.createElement(tt,null,ie?null:r.a.createElement(Qe,{label:"Type",type:"dropdown",value:x,onChange:function(e){return w(e.target.value)},options:de}),r.a.createElement(Qe,{label:"Amount",type:"number",value:C,onChange:function(e){return k(parseFloat(e.target.value))}}),"transfer"===x?null:r.a.createElement(Qe,{label:"Description",value:N,onChange:function(e){return _(e.target.value)}}),r.a.createElement(Qe,{label:"Date",type:"date",value:P,onChange:function(e){return R(e.target.value)}}),"transfer"===x?null:r.a.createElement(Qe,{label:"Account",type:"dropdown",value:U,onChange:function(e){return G(Number(e.target.value))},options:u.map((function(e){return{value:e.id,display:e.name}}))}),"transfer"===x?r.a.createElement(Qe,{label:"From",type:"dropdown",value:$,onChange:function(e){return Z(Number(e.target.value))},options:u.map((function(e){return{value:e.id,display:e.name}}))}):null,"transfer"===x?r.a.createElement(Qe,{label:"To",type:"dropdown",value:ne,onChange:function(e){return ae(Number(e.target.value))},options:u.map((function(e){return{value:e.id,display:e.name}}))}):null,"transfer"===x?null:r.a.createElement(Qe,{label:"Group",type:"dropdown",value:se,onChange:function(e){var t=e.target.value,n=Number(t);void 0!==d.find((function(e){return e.id===n}))?(V(n),X(void 0)):void 0!==m.find((function(e){return e.id===n}))&&(X(n),V(void 0))},groups:[{label:"Funds",options:d.map((function(e){return{value:e.id,display:e.name}}))},{label:"Categories",options:m.map((function(e){return{value:e.id,display:e.name}}))}]}),r.a.createElement(Ze,{value:c,onClick:function(){var e;0===C||isNaN(C)||0!==P.length&&void 0!==U&&("spend"===x&&void 0===H&&void 0===Q||"transfer"===x&&void 0===$&&void 0===ne||("spend"===x?e={type:x,amount:C,description:N,date:P,account:U,fund:H,category:Q}:"transfer"===x&&(e={type:x,amount:C,date:P,from:$,to:ne}),0!==E&&(e.id=E),t(e)))},width:"140px"}))};function at(){var e=Object(K.a)(["\n    & > div:first-child {\n        font-weight: bold;\n        padding: 5px;\n        margin-top: -9px;\n    }\n"]);return at=function(){return e},e}var rt=Z.a.div(at()),ot=function(e){var t=e.onAdd,n=void 0===t?function(){}:t,a=Object(i.b)(),o=function(e){a({type:"ADD_TRANSACTION",payload:e})},l=function(e){a({type:"ADD_FUND_ADDITION",payload:e})};return r.a.createElement(rt,null,r.a.createElement("div",null,"Add Transaction"),r.a.createElement(nt,{onChange:function(e){void 0===e.type?l(e):o(e),n()}}))};function lt(){var e=Object(K.a)(["\n    display: flex;\n    width: 100%;\n    height: calc(100vh - 70px);\n\n    & > div:last-child {\n        flex-grow: 1;\n    }\n"]);return lt=function(){return e},e}var it=Z.a.div(lt());function ct(){var e=Object(K.a)(["\n    border: 1px solid var(--menu-border-color);\n    width: 200px;\n    min-width: 200px;\n    margin: 5px;\n    padding: 0px 5px;\n    overflow: scroll;\n    position: relative;\n\n    & > div:first-of-type {\n        height: calc(100% - 102px);\n        overflow: scroll;\n    }\n\n    & > div:last-child {\n        position: absolute;\n        bottom: 0px;\n        left: 5px;\n        width: calc(100% - 10px);\n    }\n"]);return ct=function(){return e},e}function ut(){var e=Object(K.a)(["\n    border: 1px solid var(--menu-border-color);\n    padding: 5px;\n    width: 100%;\n    margin-bottom: 5px;\n    background-color: var(--menu-bg-color);\n    color: var(--menu-text-color);\n\n    &:hover {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n        cursor: pointer;\n    }\n\n    &.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    &.hidden {\n        background-color: #999;\n        color: white;\n    }\n\n    &.hidden.selected {\n        background-color: #777;\n        color: white;\n    }\n\n    &.hidden:hover {\n        background-color: #777;\n        color: white;\n    }\n"]);return ut=function(){return e},e}var dt=Z.a.div(ut()),st=Z.a.div(ct()),mt=function(e){var t=e.heading,n=void 0===t?"":t,a=e.array,o=void 0===a?[]:a,l=e.onClickObj,c=e.selected,u=Object(i.b)(),d=Object(i.c)((function(e){return e.editMode})),s=o.filter((function(e){return!e.complete&&!e.hidden&&!e.closed})),m=o.filter((function(e){return e.complete||e.hidden||e.closed}));return r.a.createElement(st,null,r.a.createElement("h4",null,n),r.a.createElement("div",null,s.map((function(e){return 0===e.name.length?null:r.a.createElement(dt,{key:"objList-"+e.id,onClick:l(e.id),className:c===e.id&&!1===d?"selected":""},e.name)})),m.length>0?r.a.createElement("hr",null):null,m.map((function(e){return 0===e.name.length?null:r.a.createElement(dt,{key:"objList-"+e.id,onClick:l(e.id),className:c===e.id&&!1===d?"selected hidden":"hidden"},e.name)}))),r.a.createElement(dt,{onClick:function(){u({type:"SET_EDIT_MODE",payload:!d})},className:d?"selected":""},"Edit ",n))},pt=n(63),ft=n(45);function bt(){var e=Object(K.a)(["\n    width: 250px;\n    margin: 5px auto;\n    position: relative;\n\n    & > div > svg {\n        fill: var(--icon-color);\n    }\n\n    & > div.dropdownDisplay {\n        font-size: 1.5em;\n        font-weight: bold;\n        border-bottom: 2px solid var(--icon-color);\n        padding: 5px;\n        position: relative;\n        padding-right: 30px;\n        padding-left: 30px;\n        overflow: hidden;\n    }\n\n    & > div.dropdownDisplay > svg {\n        position: absolute;\n        right: 0px;\n        top: 2px;\n        font-size: 1.5em;\n    }\n\n    & > div.dropdownGroup {\n        border-left: 1px solid var(--menu-border-color);\n        border-bottom: ",";\n        border-right: 1px solid var(--menu-border-color);\n        position: absolute;\n        top: 100%;\n        left: 0px;\n        right: 0px;\n        background-color: var(--bg-color);\n        max-height: ",";\n        overflow: scroll;\n        transition: 0.3s;\n    }\n\n    & div.dropdownItem {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n\n    & div.dropdownItem:last-child {\n        border-bottom: none;\n    }\n\n    & div.dropdownItem.hidden {\n        color: #888;\n    }\n"]);return bt=function(){return e},e}var gt=Z.a.div(bt(),(function(e){return e.open?"1px solid var(--menu-border-color)":"none"}),(function(e){return e.open?e.maxHeight:"0px"})),vt=function(e){var t=e.value,n=e.options,o=void 0===n?[]:n,l=e.onChange,c=Object(i.b)(),u=Object(a.useState)(!1),d=Object(le.a)(u,2),s=d[0],m=d[1],p=o.find((function(e){return e.value===t}));"Edit"===t&&(p={display:"Edit"}),void 0===p&&(p={display:"Edit"});var f=function(e){return function(){l(e),m(!1)}},b=40*o.length+40;b>300&&(b=300);var g=o.filter((function(e){return!e.hidden})),v=o.filter((function(e){return e.hidden}));return r.a.createElement(gt,{open:s,maxHeight:b+"px"},r.a.createElement("div",{className:"dropdownDisplay",onClick:function(){m(!s)}},p.display,r.a.createElement(ft.a,null)),r.a.createElement("div",{className:"dropdownGroup"},g.map((function(e){return r.a.createElement("div",{key:"headerDropdown-"+e.value,className:"dropdownItem",onClick:f(e.value)},e.display)})),v.map((function(e){return r.a.createElement("div",{key:"headerDropdown-"+e.value,className:"dropdownItem hidden",onClick:f(e.value)},e.display)})),r.a.createElement("div",{className:"dropdownItem",onClick:function(){c({type:"SET_EDIT_MODE",payload:!0})}},"Edit")))};function ht(){var e=Object(K.a)(["\n    margin: 10px;\n    font-size: 1em;\n    font-weight: bold;\n\n    & > table {\n        margin: auto;\n    }\n\n    & > table td:first-of-type {\n        text-align: right;\n    }\n\n    & > table td:last-of-type {\n        text-align: left;\n    }\n"]);return ht=function(){return e},e}var Et=Z.a.div(ht()),yt=function(e){var t=e.label,n=e.value,a=e.fundObj;return void 0!==a?r.a.createElement(Et,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total Saved: "),r.a.createElement("td",null,I(n))),a.target>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,"Fund Target: "),r.a.createElement("td",null,I(a.target))),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Needed: "),r.a.createElement("td",null,I(a.remaining)))):null))):r.a.createElement(Et,null,t,": ",I(n))};function Ot(){var e=Object(K.a)(["\n    width: ",";\n    border: 1px solid var(--menu-border-color);\n    position: fixed;\n    background-color: var(--bg-color);\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    opacity: 0;\n    transition: 0.4s;\n    pointer-events: none;\n\n    &.visible {\n        opacity: 1;\n        transition: 0.4s;\n        pointer-events: all;\n    }\n"]);return Ot=function(){return e},e}var jt=Z.a.div(Ot(),(function(e){return e.width+"px"})),xt=function(e){var t=e.children,n=e.width,a=void 0===n?350:n,o=e.visible,l=void 0!==o&&o;return r.a.createElement(jt,{width:a,className:l?"visible":""},t)};function wt(){var e=Object(K.a)(["    \n    padding: 10px;\n\n    & > table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    & > table td {\n        border: 1px solid var(--menu-border-color);\n        padding: 5px;\n        text-transform: capitalize;\n        word-break: break-word;\n    }\n\n    & > table tr > td:first-child {\n        width: 110px;\n    }\n\n    & strong {\n        font-size: 1.3em;\n    }\n"]);return wt=function(){return e},e}var Tt=Z.a.div(wt()),St=function(e,t){return void 0===t||0===t.length?null:r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,t))},Ct=function(e){var t=e.obj,n=e.onClose,o=(e.onDelete,e.onEdit),l=void 0===o?function(){}:o,c=Object(i.b)(),u=Object(a.useState)(!1),d=Object(le.a)(u,2),s=d[0],m=d[1];if(null===t)return null;var p=V(t);return r.a.createElement(Tt,null,r.a.createElement(he,{template:"50px auto 50px"},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(we,{Icon:ee.c,onClick:function(){void 0===p.type||"Add to Fund"===p.type?c({type:"REMOVE_FUND_ADDITION",payload:p.id}):c({type:"REMOVE_TRANSACTION",payload:p.id}),n()},color:"red",topAdjust:"1px",size:"1.3em"})),r.a.createElement("strong",null,"Transaction Details"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(we,{Icon:ee.a,onClick:function(){m(!s)},topAdjust:"1px",size:"1.3em"}))),s?r.a.createElement(nt,{obj:t,onChange:function(e){void 0===e.type||"Add to Fund"===e.type?c({type:"UPDATE_FUND_ADDITION",payload:e}):c({type:"UPDATE_TRANSACTION",payload:e}),l(e),m(!1)}}):function(e){return void 0===e.type&&(e.type="Add to Fund"),r.a.createElement("table",null,r.a.createElement("tbody",null,St("Type",e.type),St("From",e.from),St("To",e.to),St("Category",e.category),St("Account",e.account),St("Fund",e.fund),St("Date",L(e.date)),St("Description",e.description),St("Amount",I(e.amount))))}(p),r.a.createElement("br",null),r.a.createElement(Ze,{onClick:function(){setTimeout((function(){m(!1)}),400),n()},value:"Close"}))};function kt(){var e=Object(K.a)(["\n    margin: 0px 10px;\n\n    & > div > div > div {\n        border-bottom: 1px solid gray;\n        padding: 3px;\n    }\n\n    & > div > div > div:first-of-type {\n        margin-top: 0px;\n        border-top: none;\n    }\n\n    & > div > div > div:last-of-type {\n        border-bottom: none;\n    }\n\n    & > div {\n        margin: 0px;\n        padding: 0px;\n        height: ",";\n        ","\n        border-bottom: ",";\n        overflow: hidden;\n        transition: 0.3s;\n    }\n\n    & > strong {\n        display: block;\n        width: 100%;\n        background-color: var(--menu-bg-color);\n        padding: 10px;\n        color: var(--menu-text-color);\n    }\n\n    & > strong:hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n\n        & > div > div > div {\n            padding: 0px;\n        }\n\n        & > div {\n            border-bottom: ",";\n            height: ",";\n            overflow: hidden;\n            transition: 0.3s;\n        }\n    }\n"]);return kt=function(){return e},e}var Dt=Z.a.div(kt(),(function(e){return e.open?e.height+"px":"0px"}),(function(e){return e.open&&0===e.height?"height: auto;":""}),(function(e){return!1===e.open?"1px solid var(--menu-border-color)":"1px solid var(--bg-color)"}),(function(e){return!1===e.open?"1px solid var(--menu-border-color)":"1px solid var(--bg-color)"}),(function(e){return e.open?e.height+"px":"0px"})),At=function(e){var t=e.id,n=e.group,o=e.onToggleDetails,l=Object(a.useState)(!0),c=Object(le.a)(l,2),u=c[0],d=c[1],s=Object(a.useState)(0),m=Object(le.a)(s,2),p=m[0],f=m[1],b=Object(a.useRef)(null),g="Accounts"===Object(i.c)((function(e){return e.currentPage}))?t:void 0;Object(a.useEffect)((function(){if(b.current){var e=b.current.getBoundingClientRect().height;f(e)}}),[b]);return r.a.createElement(Dt,{height:p,open:u,qty:n.transactions.length},r.a.createElement("strong",{onClick:function(){var e=b.current?b.current.getBoundingClientRect().height:100;f(e),d(!u)}},n.month),r.a.createElement("div",null,r.a.createElement("div",{ref:b},n.transactions.map((function(e){return r.a.createElement(De,{key:"transaction-"+e.id,obj:e,accountId:g,showDelete:!1,onClick:o})})))))};function Nt(){var e=Object(K.a)(["\n    border: 1px solid var(--menu-border-color);\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n    position: relative;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n        padding-bottom: 40px;\n    }\n"]);return Nt=function(){return e},e}var _t=Z.a.div(Nt()),Mt=function(e){var t=e.transactions,n=void 0===t?[]:t,o=e.heading,l=void 0===o?"":o,c=e.id,u=e.onClickDropdown,d=void 0===u?function(){}:u,f=e.objArray,b=void 0===f?[]:f,g=e.filter,v=void 0===g?"":g,h=e.onChangeFilter,E=void 0===h?function(){}:h,y=Object($.useMediaQuery)({maxWidth:700}),O=Object(i.c)((function(e){return W(e.categories)})),j=Object(i.c)((function(e){return e.currentPage})),x=Object(a.useState)({}),w=Object(le.a)(x,2),T=w[0],S=w[1],C=Object(a.useState)(!1),k=Object(le.a)(C,2),D=k[0],A=k[1],N=b.find((function(e){return e.id===c})),_={};n.forEach((function(e){var t=e.date,n=Object(s.a)(Object(p.a)(t),"MMMM yyyy");void 0===_[n]&&(_[n]=[]),_[n].push(e)}));var M=Object.keys(_).map((function(e){return{month:e,transactions:_[e].sort((function(e,t){return Object(m.a)(Object(p.a)(t.date),Object(p.a)(e.date))}))}})).sort((function(e,t){var n=Object(pt.a)(e.month,"MMMM yyyy",new Date),a=Object(pt.a)(t.month,"MMMM yyyy",new Date);return Object(m.a)(a,n)})),I=function(e){return function(){S(e),A(!0)}},P=n.reduce((function(e,t){return e+=B(t,O,c,!1)}),0),R=!1;N&&void 0!==N.startingBalance&&0===v.length&&("expense"===N.type?(P-=parseFloat(N.startingBalance),R=!0):P+=parseFloat(N.startingBalance),M.push({month:"Opening Balance",transactions:[{date:N.dateOpened,amount:R?-N.startingBalance:N.startingBalance,description:""}]}));var F="Expense";"Categories"===j&&void 0!==N&&(F=N.type);var U={};"Funds"===j&&void 0!==N&&(U={target:N.targetAmount,remaining:N.targetAmount-P});var G=b.map((function(e){var t=e.hidden||e.complete||e.closed;return{display:e.name,value:e.id,hidden:t}}));return r.a.createElement(_t,null,y?null:r.a.createElement("h4",null,l),y?r.a.createElement(vt,{value:c,options:G,onChange:function(e){d(Number(e))()}}):null,r.a.createElement(xt,{visible:D},r.a.createElement(Ct,{obj:T,onClose:function(){A(!1)},onEdit:function(e){S(e)}})),r.a.createElement(he,{template:y?"1fr":"120px 1fr 120px"},r.a.createElement("div",null),r.a.createElement("div",null,v.length>0?r.a.createElement(yt,{label:"Search Total",value:P}):"Accounts"===j?r.a.createElement(yt,{label:"Balance",value:P}):"Categories"===j&&"expense"===F?r.a.createElement(yt,{label:"Total Spent",value:-P}):"Categories"===j&&"income"===F?r.a.createElement(yt,{label:"Total Earned",value:P}):"Funds"===j?r.a.createElement(yt,{value:P,fundObj:U}):null),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Ve,{value:v,placeholder:"Search",onChange:E,width:"100%"}))),0===M.length&&b.length>0?r.a.createElement("div",{style:{margin:"10px"}},"No Transactions to Display"):null,M.map((function(e){return r.a.createElement(At,{key:"transactionGroup-"+e.month+c+e.transactions.length,id:c,group:e,onToggleDetails:I})})))};function It(){var e=Object(K.a)(["\n    width: 90%;\n    max-width: 1150px;\n    margin: 10px auto;\n\n    @media screen and (max-width: 700px) {\n        width: 100%;\n        margin: 0px;\n        ",";\n    }\n"]);return It=function(){return e},e}var Pt=Z.a.div(It(),(function(e){return e.paddingBottom?"padding-bottom: ".concat(e.paddingBottom):""})),Rt=function(e){var t=e.label,n=e.defaultValue,a=e.value,o=e.onChange,l=e.width,c=void 0===l?void 0:l,u=Object(i.c)((function(e){return W(e.categories)})),d="100px";return void 0===c&&"description"===t?d="300px":void 0!==c&&(d=c),"category"===t?r.a.createElement(Ve,{type:"dropdown",onChange:o,value:void 0!==a?a:n,placeholder:t,options:u.map((function(e){return{value:e.id,display:e.name}})),width:d,noBorder:!0}):"number"===typeof n?r.a.createElement(Ve,{type:"number",onChange:o,value:void 0!==a?a:n,placeholder:t,width:d,noBorder:!0}):"string"===typeof n&&"date"===n?r.a.createElement(Ve,{type:"date",onChange:o,value:void 0!==a?a:n,placeholder:t,width:d,noBorder:!0}):"string"===typeof n&&n.includes(",")>0?r.a.createElement(Ve,{type:"dropdown",onChange:o,value:void 0!==a?a:n,placeholder:t,options:n.split(",").map((function(e){return{value:e,display:R(e)}})),width:d,noBorder:!0}):"string"===typeof n?r.a.createElement(Ve,{onChange:o,value:void 0!==a?a:n,placeholder:t,width:d,noBorder:!0}):"boolean"===typeof n?r.a.createElement(Ve,{type:"dropdown",onChange:o,value:void 0!==a?a:n,placeholder:t,options:[{display:"Yes",value:!0},{display:"No",value:!1}],width:d,noBorder:!0}):void 0};function Ft(){var e=Object(K.a)(["\n    border: 1px solid var(--menu-border-color);\n    display: inline-block;\n    margin: 10px;\n    border-radius: 5px;\n    width: 40%;\n\n    & > div:first-child {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n        font-weight: bold;\n    }\n\n    & > div:last-child {\n        display: flex;\n    }\n\n    & > div:last-child > div {\n        padding: 10px;\n        width: 50%;\n    }\n\n    & > div:last-child > div:first-child {\n        border-right: 1px solid white;\n    }\n\n    & > div.popup {\n        background-color: rgba(0,0,0,0.5);\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        left: 0px;\n        right: 0px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transform: scale(",");\n        transition: 0.3s;\n        z-index: 5;\n    }\n\n    & > div.popup > div {\n        width: 100%;\n        padding: 10px;\n    }\n"]);return Ft=function(){return e},e}var Bt=Z.a.div(Ft(),(function(e){return e.open?"1.0":"0.0"})),Ut=function(e){var t=e.modal,n=e.obj,o=e.onChange,l=e.onDelete,i=Object(a.useState)(0===n.name.length),c=Object(le.a)(i,2),u=c[0],d=c[1],s=Object(a.useState)(!1),m=Object(le.a)(s,2),p=m[0],f=m[1];return r.a.createElement(Bt,{open:u},r.a.createElement("div",null,n.name),r.a.createElement("div",{className:"popup"},r.a.createElement("div",null,r.a.createElement(Ie,{key:"EditListTable-"+n.id,style:{marginBottom:"10px",width:"100%",borderTop:"1px solid #555"},padding:"2px"},r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement("tr",{key:"EditListRow-"+e},r.a.createElement("td",{style:{backgroundColor:"#222",fontWeight:"bold"}},F(e)),r.a.createElement("td",null,r.a.createElement(Rt,{label:e,defaultValue:t[e],value:n[e],onChange:o(n,e),width:"100%"})))})))),p?null:r.a.createElement(Ze,{value:"Cancel",onClick:function(){l(n.id)()},width:"150px",inline:!0,style:{marginRight:"5px"}}),r.a.createElement(Ze,{value:"Close",onClick:function(){0!==n.name.length&&(d(!1),f(!1))},width:"150px",inline:!0}))),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){d(!0),f(!0)}},"Edit"),U(n)?r.a.createElement("div",{onClick:l(n.id)},"Delete"):r.a.createElement("div",{style:{color:"grey"}},"Delete")))},Wt={categories:{modal:{name:"",description:"",type:"income,expense",hidden:!1,startingBalance:0},editString:"_CATEGORY"},funds:{modal:{name:"",description:"",targetAmount:0,complete:!1,startingBalance:0},editString:"_FUND"},accounts:{modal:{name:"",note:"",interestRate:0,startingBalance:0,defaultAccount:!1,closed:!1,extraCharges:0},editString:"_ACCOUNT"},budgets:{modal:{category:0,amount:0,startDate:"date",endDate:"date"},editString:"_BUDGET"}};function Gt(){var e=Object(K.a)(["\n    border: 1px solid white;\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n    }\n"]);return Gt=function(){return e},e}var Lt=Z.a.div(Gt()),Yt=function(e){var t=e.array,n=void 0===t?[]:t,a=(e.vertical,e.onClickDropdown),o=void 0===a?function(){}:a,l=(e.id,Object($.useMediaQuery)({maxWidth:700})),c=Object(i.b)(),u=Object(i.c)((function(e){return e.currentPage})),m=u.toLowerCase(),p=Object(d.a)({},Wt[m]),f=Object(d.a)({},p.modal),b="ADD"+p.editString,g="UPDATE"+p.editString,v="REMOVE"+p.editString,h="MOVE_RIGHT"+p.editString,E="MOVE_LEFT"+p.editString,y=function(e,t){return function(n){var a=n.target.value;"number"===typeof f[t]&&(a=parseFloat(a)),e[t]=a,"false"===e[t]&&(e[t]=!1),"true"===e[t]&&(e[t]=!0),c({type:g,payload:e})}},O=function(e){return function(){c({type:v,payload:e})}},j=function(){var e=Object(d.a)({},f);Object.keys(e).forEach((function(t){"string"===typeof e[t]&&e[t].includes(",")&&(e[t]=e[t].split(",")[0]),"string"===typeof e[t]&&"date"===e[t]&&(e[t]=Object(s.a)(new Date,"yyyy-MM-dd"))})),c({type:b,payload:e})},x=function(e){return function(){c({type:E,payload:e})}},w=function(e){return function(){c({type:h,payload:e})}};return l?r.a.createElement(Lt,null,r.a.createElement(vt,{value:"Edit",options:n.map((function(e){return{display:e.name,value:e.id}})),onChange:function(e){o(Number(e))()}}),n.map((function(e){return r.a.createElement(Ut,{key:"MobileEditGroup-"+e.id,modal:f,obj:e,onChange:y,onDelete:O})})),r.a.createElement(Ze,{value:"Add New",width:"150px",onClick:j,color:"#0F0"})):r.a.createElement(Lt,null,r.a.createElement("h4",null,"Edit ",u),n.map((function(e){return r.a.createElement(Ie,{key:"EditListTable-"+e.id,style:{display:"inline-block",margin:"10px"},padding:"2px 5px"},r.a.createElement("tbody",null,Object.keys(f).map((function(t){return r.a.createElement("tr",{key:"EditListRow-"+t},r.a.createElement("th",null,F(t)),r.a.createElement("td",null,r.a.createElement(Rt,{label:t,defaultValue:f[t],value:e[t],onChange:y(e,t),width:"140px"})))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},r.a.createElement(he,{template:"50px auto 50px",margin:"5px"},r.a.createElement("span",null,r.a.createElement(Ze,{value:"<",onClick:x(e.id),width:"50px"})),U(e)?r.a.createElement(Ze,{value:"Delete",onClick:O(e.id),width:"80%",color:"red"}):r.a.createElement("div",{style:{height:"var(--input-height)",display:"flex",alignItems:"center",justifyContent:"center"}},"Being Used"),r.a.createElement("span",null,r.a.createElement(Ze,{value:">",onClick:w(e.id),width:"50px"})))))))})),r.a.createElement(Ze,{value:"Add New",width:"150px",onClick:j,color:"#0F0"}))},Ht=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.b)(),n=Object(i.c)((function(e){return e.editMode})),o=Object(i.c)((function(e){return W(e.categories)})),l=o.filter((function(e){return!e.hidden}))[0],c=void 0!==l?l.id:void 0,u=void 0!==l?l.name:"",s=Object(i.c)((function(e){return W(e.transactions)})),m=Object(a.useState)(c),p=Object(le.a)(m,2),f=p[0],b=p[1],g=Object(a.useState)(u),v=Object(le.a)(g,2),h=v[0],E=v[1],y=Object(a.useState)(""),O=Object(le.a)(y,2),j=O[0],x=O[1];r.a.useEffect((function(){0!==o.length||n||t({type:"SET_EDIT_MODE",payload:!0})}));var w=function(e){return function(){var n=o.find((function(t){return t.id===e}));b(e),E(n.name),t({type:"SET_EDIT_MODE",payload:!1})}},T=G(s,j),S=o.map((function(e){if(0===j.length)return e;var t=T.filter((function(t){return t.category===e.id}));return Object(d.a)(Object(d.a)({},e),{},{name:e.name+" - "+t.length})}));return T=T.filter((function(e){return void 0!==e.category&&e.category===f})),r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement(it,null,e?null:r.a.createElement(mt,{heading:"Categories",array:S,onClickObj:w,selected:f}),n?r.a.createElement(Yt,{array:o,onClickDropdown:w,id:f}):r.a.createElement(Mt,{transactions:T,heading:h,onClickDropdown:w,objArray:o,id:f,filter:j,onChangeFilter:function(e){x(e.target.value)}}))))},Vt=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.b)(),n=Object(i.c)((function(e){return e.editMode})),o=Object(i.c)((function(e){return W(e.funds)})),l=o.filter((function(e){return!e.complete}))[0],c=void 0!==l?l.id:void 0,s=void 0!==l?l.name:"",m=Object(i.c)((function(e){return W(e.transactions)})),p=Object(i.c)((function(e){return W(e.fundAdditions)})),f=Object(a.useState)(c),b=Object(le.a)(f,2),g=b[0],v=b[1],h=Object(a.useState)(s),E=Object(le.a)(h,2),y=E[0],O=E[1],j=Object(a.useState)(""),x=Object(le.a)(j,2),w=x[0],T=x[1];r.a.useEffect((function(){0!==o.length||n||t({type:"SET_EDIT_MODE",payload:!0})}));var S=function(e){return function(){var n=o.find((function(t){return t.id===e}));v(e),O(n.name),t({type:"SET_EDIT_MODE",payload:!1})}},C=G(m,w),k=o.map((function(e){if(0===w.length)return e;var t=C.filter((function(t){return t.fund===e.id}));return Object(d.a)(Object(d.a)({},e),{},{name:e.name+" - "+t.length})}));C=C.filter((function(e){return void 0!==e.fund&&e.fund===g}));var D=p.filter((function(e){return!(w.length>0)&&(void 0!==e.fund&&e.fund===g)})),A=[].concat(Object(u.a)(C),Object(u.a)(D));return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement(it,null,e?null:r.a.createElement(mt,{heading:"Funds",array:k,onClickObj:S,selected:g}),n?r.a.createElement(Yt,{array:o,onClickDropdown:S,id:g}):r.a.createElement(Mt,{transactions:A,heading:y,onClickDropdown:S,objArray:o,id:g,filter:w,onChangeFilter:function(e){T(e.target.value)}}))))},zt=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.b)(),n=Object(i.c)((function(e){return e.editMode})),o=Object(i.c)((function(e){return W(e.accounts)})),l=o.filter((function(e){return!e.closed}))[0],c=void 0!==l?l.id:void 0,u=void 0!==l?l.name:"",s=Object(i.c)((function(e){return W(e.transactions)})),m=Object(a.useState)(c),p=Object(le.a)(m,2),f=p[0],b=p[1],g=Object(a.useState)(u),v=Object(le.a)(g,2),h=v[0],E=v[1],y=Object(a.useState)(""),O=Object(le.a)(y,2),j=O[0],x=O[1],w=function(e){return t({type:"SET_SELECTED_ACCOUNT",payload:e})};r.a.useEffect((function(){0!==o.length||n?w(c):t({type:"SET_EDIT_MODE",payload:!0})}),[]);var T=function(e){return function(){var n=o.find((function(t){return t.id===e}));b(e),w(e),E(n.name),t({type:"SET_EDIT_MODE",payload:!1})}},S=G(s,j),C=o.map((function(e){if(0===j.length)return e;var t=S.filter((function(t){return t.account===e.id}));return Object(d.a)(Object(d.a)({},e),{},{name:e.name+" - "+t.length})}));return S=S.filter((function(e){return void 0!==e.from&&void 0!==e.to&&(e.from===f||e.to===f)||void 0!==e.account&&e.account===f})),r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement(it,null,e?null:r.a.createElement(mt,{heading:"Accounts",array:C,onClickObj:T,selected:f}),n?r.a.createElement(Yt,{array:o,vertical:!0,onClickDropdown:T,id:f}):r.a.createElement(Mt,{transactions:S,heading:h,id:f,onClickDropdown:T,objArray:o,filter:j,onChangeFilter:function(e){x(e.target.value)}}))))},Jt="https://budget-app-ap1.herokuapp.com/",Qt=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(i.b)(),n=Object(i.c)((function(e){return e.user})),o=Object(i.c)((function(e){return e.lastSync})),l=Object(i.c)((function(e){return e.fetching})),c=Object(i.c)((function(e){return e.general.payPeriodType})),u=Object(i.c)((function(e){return e.general.currencySymbol})),d=Object(i.c)((function(e){return e.general.showDecimals})),m=Object(i.c)((function(e){return e.general.startDate})),p=Object(i.c)((function(e){return e.general.colourScheme})),f=Object(i.c)((function(e){return e.general.swapSummaries})),b=Object(i.c)((function(e){return e.general.periodsToDisplay})),g=Object(i.c)((function(e){return e.general.reverseSummaryTable})),v=Object(i.c)((function(e){return e.general.displayMonths})),h=Object(i.c)((function(e){return e.general.displayIncomeTotal})),E=Object(i.c)((function(e){return e.general.displayExpenseTotal})),y=Object(i.c)((function(e){return e.general.showChart})),O=function(e){return t({type:"SET_USER",payload:e})},j=function(e){return t({type:"SET_MESSAGE",payload:e})},x=function(e){return t({type:"SET_FETCHING",payload:e})},w=Object(a.useState)(null),T=Object(le.a)(w,2),S=T[0],C=T[1],k=Object(a.useState)(""),D=Object(le.a)(k,2),A=D[0],N=D[1],_=Object(a.useState)(""),M=Object(le.a)(_,2),I=M[0],P=M[1],R=Object(a.useState)(""),F=Object(le.a)(R,2),B=F[0],U=F[1],W=Object(a.useRef)(null),G=Object(i.c)((function(e){return{general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions,user:e.user}})),L=o.toFixed(0),Y="".concat(L.slice(6,8),"/").concat(L.slice(4,6),"/").concat(L.slice(0,4)," at ").concat(L.slice(8,10),":").concat(L.slice(10,12));0!==o&&void 0!==o||(Y="Never");return r.a.createElement("div",null,r.a.createElement(Pt,{paddingBottom:"100px"},r.a.createElement("h4",null,"Settings"),r.a.createElement(Qe,{label:"Start Date",type:"date",value:m,onChange:function(e){return t({type:"SET_START_DATE",payload:e.target.value})},labelWidth:"200px"}),r.a.createElement(Qe,{label:"Currency Symbol",value:u,onChange:function(e){return t({type:"SET_CURRENCY_SYMBOL",payload:e.target.value})},labelWidth:"200px"}),r.a.createElement(Qe,{label:"Show Decimals",type:"dropdown",value:d,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){var n="false"!==e.target.value;t({type:"SET_SHOW_DECIMALS",payload:n})},labelWidth:"200px"}),r.a.createElement(Qe,{label:"Pay Period",type:"dropdown",value:c,onChange:function(e){return t({type:"SET_PAY_PERIOD_TYPE",payload:e.target.value})},labelWidth:"200px",options:[{value:"monthly",display:"Monthly"},{value:"fourWeekly",display:"4-Weekly"},{value:"twoWeekly",display:"2-Weekly"},{value:"weekly",display:"Weekly"}]}),r.a.createElement(Qe,{label:"Periods to Display",type:"number",value:b,onChange:function(e){return t({type:"SET_PERIODS_TO_DISPLAY",payload:parseInt(e.target.value)})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Swap Summaries",type:"dropdown",value:f,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_SWAP_SUMMARIES",payload:"false"!==e.target.value})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Reverse Summary Table",type:"dropdown",value:g,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_REVERSE_SUMMARY_TABLE",payload:"false"!==e.target.value})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Display Months",type:"dropdown",value:v,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_DISPLAY_MONTHS",payload:"false"!==e.target.value})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Show Income Total",type:"dropdown",value:h,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_DISPLAY_INCOME_TOTAL",payload:"false"!==e.target.value})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Show Expense Total",type:"dropdown",value:E,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_DISPLAY_EXPENSE_TOTAL",payload:"false"!==e.target.value})},labelWidth:"200px"}),e?null:r.a.createElement(Qe,{label:"Show Summary Chart",type:"dropdown",value:y,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(e){return t({type:"SET_SHOW_CHART",payload:"false"!==e.target.value})},labelWidth:"200px"}),r.a.createElement(Qe,{label:"Background Colour",type:"dropdown",value:p,options:[{value:"dark",display:"Dark"},{value:"black",display:"Black"},{value:"light",display:"Light"}],onChange:function(e){var n=e.target.value;z(n),function(e){t({type:"SET_COLOUR_SCHEME",payload:e})}(n)},labelWidth:"200px"}),r.a.createElement("h4",null,"Backup"),r.a.createElement("p",null,"This will download a backup of all data as a JSON file, and allow you to restore from a backup if needed."),r.a.createElement(Ze,{value:"Backup",width:"120px",inline:!0,onClick:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(G,null,2)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","Budget Backup - ".concat(Object(s.a)(new Date,"yyyy-MM-dd"),".json")),t.click()}}),r.a.createElement("h4",null,"Restore"),r.a.createElement("p",null,"Use this to restore from a previously taken backup JSON file. This will overwrite any current data and replace it with the backup data."),r.a.createElement("p",{style:{color:"#0F0"}},B),r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(void 0!==t)if(t.type.match("application/json")){var n=new FileReader;n.onload=function(e){var t=n.result,a=JSON.parse(t),r={};void 0!==a.general&&(r.general=a.general),void 0!==a.accounts&&(r.accounts=a.accounts),void 0!==a.categories&&(r.categories=a.categories),void 0!==a.budgets&&(r.budgets=a.budgets),void 0!==a.funds&&(r.funds=a.funds),void 0!==a.fundAdditions&&(r.fundAdditions=a.fundAdditions),void 0!==a.transactions&&(r.transactions=a.transactions),void 0!==a.user&&(r.user=a.user),C(r)},n.readAsText(t)}else C(null)},ref:W}),null!==S?r.a.createElement(Ze,{value:"Import",width:"120px",inline:!0,onClick:function(){t({type:"IMPORT_BACKUP",payload:S}),C(null),U("Data Restored."),W.current.value=""}}):null,r.a.createElement("h4",null,"Syncing"),r.a.createElement("p",null,"This will allow you to upload your data to a server for backup and to sync with other devices."),r.a.createElement("p",null,"Last synced on: ",Y),null===n?r.a.createElement("div",null,r.a.createElement(Qe,{label:"Username",value:A,onChange:function(e){return N(e.target.value)}}),r.a.createElement(Qe,{label:"Password",value:I,onChange:function(e){return P(e.target.value)},type:"password"}),r.a.createElement(Ze,{value:"Login",width:"120px",inline:!0,onClick:function(){t({type:"SET_MESSAGE",payload:{text:"",type:""}}),x(!0),fetch(Jt+"api/login",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:A,password:I})}).then((function(e){return e.json()})).then((function(e){x(!1),"success"===e.status?(N(""),P(""),O(e.user)):("logout"===e.type&&O(null),j({text:e.message,type:"error"}))})).catch((function(e){console.log(e.message),j({text:"Failed to contact server.",type:"error"}),x(!1)}))},loading:l}),r.a.createElement(Ze,{value:"Register",width:"120px",inline:!0,onClick:function(){A.length<3?j({text:"Username should be 3 or more characters",type:"error"}):I.length<5?j({text:"Password should be 5 or more characters",type:"error"}):(j({text:"",type:""}),x(!0),fetch(Jt+"api/register",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:A,password:I})}).then((function(e){return e.json()})).then((function(e){N(""),P(""),x(!1),"success"===e.status?t({type:"SET_USER",payload:e.user}):j({text:e.message,type:"error"})})).catch((function(e){console.log(e.message),O(null),j({text:"Failed to contact server. Please try again.",type:"error"}),x(!1)})))},loading:l})):r.a.createElement("div",null,r.a.createElement(Ze,{value:"Sync Now",width:"120px",inline:!0,onClick:function(){X(G,t,!0)},loading:l}),r.a.createElement(Ze,{value:"Logout",width:"120px",inline:!0,onClick:function(){O(null)}}))))},Xt=function(e,t){var n=0,a=0;return e.forEach((function(e){var r=qt(e.id,t),o=e.total*(r.interestRate/100)/12-r.extraCharges;n+=12*o,a+=o,e.extraCharges=r.extraCharges,e.interestRate=r.interestRate})),{totalYearly:n,totalMonthly:a}},qt=function(e,t){var n=t.find((function(t){return t.id===e}));return void 0===n?null:{interestRate:n.interestRate,extraCharges:n.extraCharges}},Kt=function(){var e=Object(i.c)((function(e){return W(e.transactions)})),t=Object(i.c)((function(e){return W(e.accounts)})),n=Object(i.c)((function(e){return W(e.categories)})),o=Object(a.useState)(0),l=Object(le.a)(o,2),c=l[0],u=l[1],d=Object(a.useState)(0),s=Object(le.a)(d,2),m=s[0],p=s[1],f=Object(a.useState)(0),b=Object(le.a)(f,2),g=b[0],v=b[1],h=m*(c/100),E=h/12-g;h=12*E;var y=D(e,t,n),O=Xt(y,t),j=O.totalYearly,x=O.totalMonthly;return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Interest Calculator"),r.a.createElement("p",null,"This will show you the estimated amount of interest you should be receiving based on the interest rates provided, taking into account any extra charges (such as bank fees). You can change these rates on the Accounts page by using the 'Edit Accounts' button."),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Account"),r.a.createElement("td",null,"Interest Rate"),r.a.createElement("td",null,"Amount"),r.a.createElement("td",null,"Extra Charges"),r.a.createElement("td",null,"Yearly Interest"),r.a.createElement("td",null,"Monthly Interest"))),r.a.createElement("tbody",null,y.map((function(e){var t=e.total*(e.interestRate/100)/12-e.extraCharges,n=12*t;return r.a.createElement("tr",{key:"account-"+e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.interestRate,"%"),r.a.createElement("td",null,I(e.total)),r.a.createElement("td",null,I(e.extraCharges)),r.a.createElement("td",null,I(n)),r.a.createElement("td",null,I(t)))})),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"4",style:{textAlign:"right"}},"Totals"),r.a.createElement("td",null,I(j)),r.a.createElement("td",null,I(x))))),r.a.createElement("h4",null,"Custom"),r.a.createElement("p",null,"Use this to check how much interest you'll get with different amounts and interest rates etc."),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Interest Rate"),r.a.createElement("td",null,"Amount"),r.a.createElement("td",null,"Extra Charges"),r.a.createElement("td",null,"Yearly Interest"),r.a.createElement("td",null,"Monthly Interest"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"input"},r.a.createElement(Ve,{type:"number",width:"120px",value:c,onChange:function(e){u(e.target.value)}})),r.a.createElement("td",{className:"input"},r.a.createElement(Ve,{type:"number",width:"120px",value:m,onChange:function(e){p(e.target.value)}})),r.a.createElement("td",{className:"input"},r.a.createElement(Ve,{type:"number",width:"130px",value:g,onChange:function(e){v(e.target.value)}})),r.a.createElement("td",null,I(h)),r.a.createElement("td",null,I(E)))))))},$t=function(){var e=Object(i.c)((function(e){return W(e.categories)})),t=Object(i.c)((function(e){return W(e.accounts)})),n=Object(i.c)((function(e){return W(e.transactions)})),o=Object(i.c)((function(e){return e.general.startDate})),l=Object(i.c)((function(e){return e.general.payPeriodType})),c=Object(i.c)((function(e){return e.general.periodsToDisplay})),u=e.length>0?e[0].id:0,d=Object(a.useState)(u),s=Object(le.a)(d,2),f=s[0],b=s[1],g=S(o,l,c),v=Object(a.useState)(g[0]),h=Object(le.a)(v,2),E=h[0],y=h[1],O=Object(a.useState)(H()),j=Object(le.a)(O,2),x=j[0],w=j[1];if(0===e.length)return r.a.createElement("div",null,"Please add a category to use this feature.");var T=C(o,l),k=M(T,E),D=T.indexOf(k);D>0&&(T=T.slice(D));var A={totals:{}};T.forEach((function(e){var n={};t.forEach((function(e){n[e.id]=0,A.totals[e.id]=0})),A[e]=n})),n.forEach((function(e){if("spend"===e.type&&-1!==Object(m.a)(Object(p.a)(e.date),Object(p.a)(E))&&1!==Object(m.a)(Object(p.a)(e.date),Object(p.a)(x))&&void 0!==e.category&&e.category===f){var t=M(T,e.date);A[t][e.account]+=e.amount,A.totals[e.account]+=e.amount}}));var N=Object.values(A.totals).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Breakdown"),r.a.createElement(Qe,{label:"Category",type:"dropdown",value:f,options:e.map((function(e){return{value:e.id,display:e.name}})),onChange:function(e){b(Number(e.target.value))}}),r.a.createElement(he,{width:"600px"},r.a.createElement(Qe,{label:"From",type:"date",value:E,onChange:function(e){y(e.target.value)},min:o,max:x}),r.a.createElement(Qe,{label:"To",type:"date",value:x,onChange:function(e){w(e.target.value)},min:E})),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Total"),t.map((function(e){return 0===A.totals[e.id]?null:r.a.createElement("td",{key:"table-head-"+e.id},e.name)})))),r.a.createElement("tbody",null,T.map((function(e){return function(e){var n=A[e],a=Object.values(n).reduce((function(e,t){return e+t}),0);return r.a.createElement("tr",{key:"table-row-date-"+e},r.a.createElement("td",{style:{minWidth:"125px"}},Y(e)),r.a.createElement("td",null,I(a)),t.map((function(e){return 0===A.totals[e.id]?null:r.a.createElement("td",{key:"table-row-data-"+e.id},I(n[e.id]))})))}(e)})),r.a.createElement("tr",null,r.a.createElement("th",null,"Totals"),r.a.createElement("td",null,I(N)),t.map((function(e){return 0===A.totals[e.id]?null:r.a.createElement("td",{key:"table-totals-"+e.id},I(A.totals[e.id]))})))))))},Zt=function(){var e=Object(i.c)((function(e){return W(e.funds)})),t=Object(i.c)((function(e){return W(e.transactions)})),n=Object(i.c)((function(e){return e.general.startDate})),o=Object(i.c)((function(e){return e.general.payPeriodType})),l=e.length>0?e[0].id:0,c=Object(a.useState)(l),u=Object(le.a)(c,2),d=u[0],s=u[1],f=Object(a.useState)(n),b=Object(le.a)(f,2),g=b[0],v=b[1],h=Object(a.useState)(H()),E=Object(le.a)(h,2),y=E[0],O=E[1];if(0===e.length)return r.a.createElement("div",null,"Please add a fund to use this feature.");var j=C(n,o),x=M(j,g),w=j.indexOf(x);w>0&&(j=j.slice(w));var T=0,S=t.filter((function(e){return"spend"===e.type&&(-1!==Object(m.a)(Object(p.a)(e.date),Object(p.a)(g))&&(1!==Object(m.a)(Object(p.a)(e.date),Object(p.a)(y))&&(void 0!==e.fund&&e.fund===d&&(T+=e.amount,!0))))}));S.sort((function(e,t){return Object(m.a)(Object(p.a)(e.date),Object(p.a)(t.date))}));return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Fund Breakdown"),r.a.createElement(Qe,{label:"Category",type:"dropdown",value:d,options:e.map((function(e){return{value:e.id,display:e.name}})),onChange:function(e){s(Number(e.target.value))}}),r.a.createElement(he,{width:"600px"},r.a.createElement(Qe,{label:"From",type:"date",value:g,onChange:function(e){v(e.target.value)},min:n,max:y}),r.a.createElement(Qe,{label:"To",type:"date",value:y,onChange:function(e){O(e.target.value)},min:g})),S.length>0?r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Date"),r.a.createElement("td",null,"Description"),r.a.createElement("td",null,"Cost"))),r.a.createElement("tbody",null,S.map((function(e){return r.a.createElement("tr",{key:"fund-transaction-"+e.id},r.a.createElement("td",null,L(e.date)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,I(e.amount)))})),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{textAlign:"right"}},"Total"),r.a.createElement("td",null,I(T))))):r.a.createElement("p",null,"No transactions to display.")))},en=function(){var e=Object(i.c)((function(e){return W(e.categories)})),t=Object(i.c)((function(e){return W(e.funds)})),n=Object(i.c)((function(e){return W(e.accounts)})),o=Object(i.c)((function(e){return W(e.transactions)})),l=Object(i.c)((function(e){return e.general.startDate})),c=Object(a.useState)(l),u=Object(le.a)(c,2),d=u[0],s=u[1],f=Object(a.useState)(H()),b=Object(le.a)(f,2),g=b[0],v=b[1];if(0===n.length)return r.a.createElement("div",null,"Please add an account to use this feature.");if(0===o.length)return r.a.createElement("div",null,"There are no transactions to display.");var h={totals:{}},E={},y=function(e){if("income"!==e.type){var t={};n.forEach((function(e){return t[e.name]=0})),h[e.name]=t,h.totals[e.name]=0}};e.forEach(y),t.forEach(y),n.forEach((function(e){return E[e.name]=0})),o.forEach((function(t){if("spend"===t.type&&-1!==Object(m.a)(Object(p.a)(t.date),Object(p.a)(d))&&1!==Object(m.a)(Object(p.a)(t.date),Object(p.a)(g))){var n=e.find((function(e){return e.id===t.category}));if(void 0===n||"income"!==n.type){var a=V(t),r=void 0!==a.category?a.category:a.fund;h[r][a.account]+=a.amount,h.totals[r]+=a.amount,E[a.account]+=a.amount}}}));var O=Object.values(h.totals).reduce((function(e,t){return e+t}),0),j=function(e){var t=h[e];return 0===h.totals[e]?null:r.a.createElement("tr",{key:"row-"+e},r.a.createElement("td",null,e),r.a.createElement("td",null,I(h.totals[e])),n.map((function(n){return r.a.createElement("td",{key:"data-".concat(e,"-").concat(n.name)},I(t[n.name]))})))};return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Spendings"),r.a.createElement(he,{width:"600px"},r.a.createElement(Qe,{label:"From",type:"date",value:d,onChange:function(e){s(e.target.value)},min:l,max:g}),r.a.createElement(Qe,{label:"To",type:"date",value:g,onChange:function(e){v(e.target.value)},min:d})),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Total"),n.map((function(e){return r.a.createElement("td",{key:"account-"+e.id},e.name)})))),r.a.createElement("tbody",null,e.map((function(e){return"income"===e.type?null:j(e.name)})),t.map((function(e){return j(e.name)})),r.a.createElement("tr",null,r.a.createElement("th",null,"Totals"),r.a.createElement("td",null,I(O)),n.map((function(e){return r.a.createElement("td",{key:"totals-"+e.name},I(E[e.name]))})))))))},tn=n(66),nn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.general.savingsGoalDate})),n=Object(i.c)((function(e){return e.general.savingsGoalTarget})),a=Object(i.c)((function(e){return e.transactions})),o=Object(i.c)((function(e){return e.accounts})),l=Object(i.c)((function(e){return e.categories})),c=D(a,o,l).reduce((function(e,t){return e+t.total}),0),u=n-c,d=Object(tn.a)(Object(p.a)(t),new Date),s=u/d;return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Savings Goal"),r.a.createElement(Qe,{label:"Target Date",type:"date",value:t,onChange:function(t){return e({type:"SET_SAVINGS_GOAL_DATE",payload:t.target.value})}}),r.a.createElement(Qe,{label:"Target",type:"number",value:n,onChange:function(t){return e({type:"SET_SAVINGS_GOAL_TARGET",payload:t.target.value})}}),r.a.createElement("br",null),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total Money"),r.a.createElement("td",null,"Months to Target"),r.a.createElement("td",null,"Amount to Save"),r.a.createElement("td",null,"Monthly"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,I(c)),r.a.createElement("td",null,d),r.a.createElement("td",null,I(u>0?u:0)),r.a.createElement("td",null,I(s>0?s:0)))))))},an=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.general.salary})),n=Object(i.c)((function(e){return e.transactions})),a=Object(i.c)((function(e){return e.accounts})),o=Object(i.c)((function(e){return e.categories})),l=D(n,a,o).reduce((function(e,t){return e+t.total}),0),c=2.5*(18600-t)+16e3;t>=18600&&(c=0);var u=c-l;return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"UK Visa Requirements"),r.a.createElement("p",null,"This tool calculates how much cash savings you need to meet the UK visa requirements, taking into account your current salary. If your salary is above \xa318,600, then no savings are required."),r.a.createElement(Qe,{label:"Salary",type:"number",value:t,onChange:function(t){return e({type:"SET_SALARY",payload:t.target.value})}}),r.a.createElement(Ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Savings Required"),r.a.createElement("td",null,"Total Money"),r.a.createElement("td",null,u>0?"Still Needed":"Spare Money"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,I(c)),r.a.createElement("td",null,I(l)),r.a.createElement("td",null,I(u>=0?u:-u)))))))},rn=function(){var e=Object(a.useState)("Breakdown"),t=Object(le.a)(e,2),n=t[0],o=t[1],l=function(e){return function(){o(e)}};return r.a.createElement("div",null,r.a.createElement(Pt,null,r.a.createElement("h4",null,"Tools"),r.a.createElement(Ze,{value:"Category Breakdown",width:"180px",inline:!0,onClick:l("Breakdown"),selected:"Breakdown"===n}),r.a.createElement(Ze,{value:"Fund List",width:"100px",inline:!0,onClick:l("FundList"),selected:"FundList"===n}),r.a.createElement(Ze,{value:"Spendings",width:"120px",inline:!0,onClick:l("Spendings"),selected:"Spendings"===n}),r.a.createElement(Ze,{value:"Interest",width:"100px",inline:!0,onClick:l("Interest"),selected:"Interest"===n}),r.a.createElement(Ze,{value:"Savings Goal",width:"120px",inline:!0,onClick:l("SavingsGoal"),selected:"SavingsGoal"===n}),r.a.createElement(Ze,{value:"Visa Tool",width:"120px",inline:!0,onClick:l("VisaTool"),selected:"VisaTool"===n})),"Interest"===n?r.a.createElement(Kt,null):null,"Breakdown"===n?r.a.createElement($t,null):null,"FundList"===n?r.a.createElement(Zt,null):null,"SavingsGoal"===n?r.a.createElement(nn,null):null,"VisaTool"===n?r.a.createElement(an,null):null,"Spendings"===n?r.a.createElement(en,null):null)};function on(){var e=Object(K.a)(["\n    & > * {\n        transition: 0.3s;\n    }\n\n    & > svg {\n        background-color: var(--footer-bg);\n        border: 3px solid var(--footer-border);\n        border-radius: 100%;\n        font-size: 51px;\n        position: fixed;\n        bottom: 5px;\n        left: 50%;\n        transform: translate(-50%,",");\n        z-index: 4;\n        fill: var(--footer-border);\n    }\n\n    & > div.left, & > div.right {\n        border-bottom: 3px solid var(--footer-border);\n        position: fixed;\n        bottom: 31px;\n        width: calc(50% - 22.5px);\n        height: 20px;\n        z-index: 4;\n        ",";\n    }\n\n    & > div.right {\n        border-left: 3px solid var(--footer-border);\n        right: 0px;\n        border-radius: 0px 0px 0px 20px;\n    }\n\n    & > div.left {\n        border-right: 3px solid var(--footer-border);\n        left: 0px;\n        border-radius: 0px 0px 20px 0px;\n    }\n\n    & > div.middle {\n        background-color: var(--footer-bg);\n        position: fixed;\n        z-index: 1;\n        width: 55px;\n        height: 55px;\n        left: 50%;\n        transform: translate(-50%,",") rotate(-45deg);\n        bottom: -16px;\n        border-radius: 0px 51px 0px 100%;\n    }\n"]);return on=function(){return e},e}function ln(){var e=Object(K.a)(["\n    position: fixed;\n    bottom: -275px;\n    transition: 0.3s;\n    width: 100%;\n    height: 308px;\n    background-color: var(--footer-bg);\n    padding: 10px;\n    padding-top: 40px;\n    border: 2px solid var(--footer-bg);\n    z-index: 3;\n    ",";\n    ",";\n\n    & > div {\n        margin: auto;\n    }\n"]);return ln=function(){return e},e}var cn=Z.a.div(ln(),(function(e){return e.open?"transform: translateY(-275px);":""}),(function(e){return e.open?"padding-top: 10px":""})),un=Z.a.div(on(),(function(e){return e.open?"-295px":"-20px"}),(function(e){return e.open?"transform: translateY(-275px);":""}),(function(e){return e.open?"-295px":"-20px"})),dn=function(){var e=Object($.useMediaQuery)({maxWidth:700}),t=Object(a.useState)(!1),n=Object(le.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(!1),c=Object(le.a)(i,2),u=c[0],d=c[1];if(!e)return null;var s=function(){l(!o),setTimeout((function(){d(!u)}),300)};return r.a.createElement("div",null,r.a.createElement(un,{open:o},u?r.a.createElement(me.b,{onClick:s}):r.a.createElement(me.a,{onClick:s}),r.a.createElement("div",{className:"right"}),r.a.createElement("div",{className:"left"}),r.a.createElement("div",{className:"middle"})),r.a.createElement(cn,{open:o},r.a.createElement(ot,{onAdd:function(){l(!1),setTimeout((function(){d(!1)}),300)}})))};var sn=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.currentPage})),n=Object(i.c)((function(e){return e.addTransaction})),o=Object(i.c)((function(e){return e.user})),l=Object(i.c)((function(e){return{general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions}}));return Object(a.useEffect)((function(){null!==o&&X(l,e)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(oe,null),r.a.createElement("div",{style:{height:"40px"}}),r.a.createElement(be,null),"Home"===t?r.a.createElement(Ge,null):null,"Categories"===t?r.a.createElement(Ht,null):null,"Funds"===t?r.a.createElement(Vt,null):null,"Accounts"===t?r.a.createElement(zt,null):null,"Settings"===t?r.a.createElement(Qt,null):null,"Tools"===t?r.a.createElement(rn,null):null,n?r.a.createElement(se,{onClose:function(){e({type:"SET_ADD_TRANSACTION",payload:!1})}},r.a.createElement(ot,null)):null,r.a.createElement(dn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,{store:q},r.a.createElement(sn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.5d11c0a0.chunk.js.map