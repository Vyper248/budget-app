(this["webpackJsonpbudget-app"]=this["webpackJsonpbudget-app"]||[]).push([[0],{43:function(e,n,t){e.exports=t(57)},48:function(e,n,t){},49:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(24),i=t.n(o),c=(t(48),t(49),t(2)),l=t(21),u=t(12),d=t(3),s=t(62),p=t(58),m=t(59),f=t(60),b={currentPage:"Home",addTransaction:!1,editMode:!1,lastSync:0,user:null,fetching:!1,message:{text:"",type:""},general:{payPeriodType:"fourWeekly",currencySymbol:"\xa3",colourScheme:"dark",showDecimals:!0,startDate:"2019-11-08",updated:20200220153001},accounts:[],categories:[{id:20200723153e3,name:"Earnings",description:"",type:"income",hidden:!1,dateCreated:"2020-06-03"},{id:20200723153001,name:"Interest",description:"",type:"income",hidden:!1,dateCreated:"2020-06-03"},{id:20200723153102,name:"Food",description:"",type:"expense",hidden:!1,dateCreated:"2020-06-03"}],budgets:[],funds:[{id:20200723153130,name:"Savings",description:"General Savings",targetAmount:0,complete:!1,dateCreated:"2020-01-03"}],fundAdditions:[],transactions:[]},v=function(e,n){n.id=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));var t=g(e,n.startDate,n.category),r=e.find((function(e){return e.startDate===n.startDate&&e.category===n.category}));if(void 0!==r)return void 0!==t&&t.amount===n.amount?y(e,r.id):(r.amount=n.amount,h(e,r));if(void 0!==t&&n.amount===t.amount)return e;var a=[].concat(Object(u.a)(e),[n]);return a.sort((function(e,n){return Object(p.a)(Object(m.a)(e.startDate),Object(m.a)(n.startDate))})),a},g=function(e,n,t){for(var r=e.length-1;r>=0;r--){var a=e[r];if(a.category===t&&1===Object(f.a)(Object(m.a)(a.startDate),Object(m.a)(n)))return a}},y=function(e,n){return e.map((function(e){if(e.id===n){var t=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));return{id:e.id,deleted:t}}return e}))},h=function(e,n){var t=Object(u.a)(e),r=t.findIndex((function(e){return e.id===n.id}));return-1===r?e:(n.updated=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),t.splice(r,1,n),t)},E=function(e,n){var t=Object(u.a)(e);!0===n.defaultAccount&&t.forEach((function(e){return e.id!==n.id?e.defaultAccount=!1:null}));var r=t.findIndex((function(e){return e.id===n.id}));return-1===r?e:(n.updated=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),t.splice(r,1,n),t)},O=function(e,n){return n.id=Number(Object(s.a)(new Date,"yyyyMMddHHmmss")),[].concat(Object(u.a)(e),[n])},x=t(33),j=t(63),w=function(e,n){var t={},r={};return e.forEach((function(e){return t[e.id]=e.name})),n.forEach((function(e){return r[e.id]=e.name})),{categoryNames:t,fundNames:r}},k=function(e,n){var t=e.find((function(e){return e.id===n.fund}));return void 0!==t?t.targetAmount:0},C=function(e,n,t){if(void 0!==t.category){var r=n[t.category];if(void 0!==r)return r}else if(void 0!==t.fund){var a=e[t.fund];if(void 0!==a)return a}return"Un-Categorised"},S=function(e,n){var t,r=e[0],a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(!(Object(p.a)(Object(m.a)(n),Object(m.a)(o))>=0))break;r=o}}catch(i){a.e(i)}finally{a.f()}return r},T=function(e){var n=G.getState().general,t=n.currencySymbol,r=n.showDecimals;if(e>-.009&&e<.009)return"".concat(t,"0").concat(r?".00":"");if(null===e||void 0===e||0===e||isNaN(e))return"".concat(t,"0").concat(r?".00":"");var a=Number(e).toFixed(r?2:0),o=!1;a.includes("-")&&(a=a.replace("-",""),o=!0);for(var i=a.split(""),c=i.length-4;c>=0;c--){var l=i.length-c-4;l>0&&l%3===0&&(i[c]+=",")}return i.unshift(t),o&&i.unshift("-"),i.join("")},D=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=A(e,n,t);return void 0!==o&&o.amount>0?a?o.amount:" / ".concat(T(o.amount)):a?0:""},A=function(e,n,t){e.sort((function(e,n){return Object(p.a)(Object(m.a)(e.startDate),Object(m.a)(n.startDate))}));for(var r=e.length-1;r>=0;r--){var a=e[r];if(a.category===t&&Object(f.a)(Object(m.a)(a.startDate),Object(m.a)(n))>=0)return a}},N=function(e){return void 0===e?"":0!==e.target?" / ".concat(T(e.target)):""},_=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},M=function(e){var n=e.replace(/[A-Z]/g," $&");return _(n)},P=function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(void 0===e.type)return r?T(e.amount):e.amount;if(void 0!==e.fund)return r?T(-e.amount):-e.amount;if(void 0!==e.category){var a=n.find((function(n){return n.id===e.category}));if(void 0===a)return r?T(0):0;if("expense"===a.type)return r?T(-e.amount):-e.amount;if("income"===a.type)return r?T(e.amount):e.amount}if(void 0!==e.from&&void 0!==t){if(e.from===t)return r?T(-e.amount):-e.amount;if(e.to===t)return r?T(e.amount):e.amount}},R=function(e){var n,t=e.id,r=G.getState(),a=r.transactions,o=r.fundAdditions,i=r.budgets,c=[].concat(Object(u.a)(a),Object(u.a)(o),Object(u.a)(i)),l=Object(x.a)(c);try{for(l.s();!(n=l.n()).done;){var d=n.value;if(d.category===t)return!1;if(d.fund===t)return!1;if(d.account===t)return!1}}catch(s){l.e(s)}finally{l.f()}return!0},I=function(e){return e.filter((function(e){return void 0===e.deleted}))},F=function(e){var n=document.documentElement;"dark"===e&&(n.style.setProperty("--bg-color","#222"),n.style.setProperty("--text-color","white"),n.style.setProperty("--light-text-color","#CCC"),n.style.setProperty("--icon-color","#4dc6ff"),n.style.setProperty("--menu-bg-color","#009fe8"),n.style.setProperty("--menu-selected-bg-color","#0076ad"),n.style.setProperty("--menu-text-color","white"),n.style.setProperty("--menu-selected-text-color","white"),n.style.setProperty("--menu-border-color","#BBB"),n.style.setProperty("--footer-bg","#222"),n.style.setProperty("--footer-border","#009fe8"),n.style.setProperty("--table-heading-bg-color","#555"),n.style.setProperty("--table-heading-text-color","white")),"black"===e&&(n.style.setProperty("--bg-color","black"),n.style.setProperty("--text-color","white"),n.style.setProperty("--light-text-color","#CCC"),n.style.setProperty("--icon-color","#4dc6ff"),n.style.setProperty("--menu-bg-color","#009fe8"),n.style.setProperty("--menu-selected-bg-color","#0076ad"),n.style.setProperty("--menu-text-color","white"),n.style.setProperty("--menu-selected-text-color","white"),n.style.setProperty("--menu-border-color","#BBB"),n.style.setProperty("--footer-bg","black"),n.style.setProperty("--footer-border","#009fe8"),n.style.setProperty("--table-heading-bg-color","#555"),n.style.setProperty("--table-heading-text-color","white")),"light"===e&&(n.style.setProperty("--bg-color","white"),n.style.setProperty("--text-color","black"),n.style.setProperty("--light-text-color","#555"),n.style.setProperty("--icon-color","black"),n.style.setProperty("--menu-bg-color","#009fe8"),n.style.setProperty("--menu-selected-bg-color","#0076ad"),n.style.setProperty("--menu-text-color","white"),n.style.setProperty("--menu-selected-text-color","white"),n.style.setProperty("--menu-border-color","black"),n.style.setProperty("--footer-bg","white"),n.style.setProperty("--footer-border","black"),n.style.setProperty("--table-heading-bg-color","#AAA"),n.style.setProperty("--table-heading-text-color","black"))},B="https://budget-app-ap1.herokuapp.com/",U=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.user){var r=function(e){return n({type:"SET_USER",payload:e})},a=function(e){return n({type:"SET_MESSAGE",payload:e})},o=function(e){return n({type:"SET_FETCHING",payload:e})},i={general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions,user:e.user};o(!0),fetch(B+"api/backup",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){o(!1),"success"===e.status?(n({type:"SYNC",payload:e.data}),r(e.user),F(e.data.general.colourScheme),t&&a({text:"Data successfully synced!",type:"success"})):(console.log(e),"logout"===e.type&&r(null),a({text:e.message,type:"error"}))})).catch((function(e){console.log("Error Syncing: ",e.message),o(!1),r(null),a({text:"Failed to contact server for syncing. Please try to login again.",type:"error"})}))}},G=Object(l.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0,t=n.payload,r=Number(Object(s.a)(new Date,"yyyyMMddHHmmss"));switch(n.type){case"SET_CURRENT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t,editMode:!1,addTransaction:!1,message:{text:"",type:""}});case"SET_ADD_TRANSACTION":return Object(d.a)(Object(d.a)({},e),{},{addTransaction:t});case"SET_EDIT_MODE":return Object(d.a)(Object(d.a)({},e),{},{editMode:t});case"SET_USER":return Object(d.a)(Object(d.a)({},e),{},{user:t});case"SET_FETCHING":return Object(d.a)(Object(d.a)({},e),{},{fetching:t});case"SET_MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{message:t});case"SET_PAY_PERIOD_TYPE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{payPeriodType:t,updated:r})});case"SET_COLOUR_SCHEME":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{colourScheme:t,updated:r})});case"SET_CURRENCY_SYMBOL":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{currencySymbol:t,updated:r})});case"SET_SHOW_DECIMALS":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{showDecimals:t,updated:r})});case"SET_START_DATE":return Object(d.a)(Object(d.a)({},e),{},{general:Object(d.a)(Object(d.a)({},e.general),{},{startDate:t,updated:r})});case"ADD_ACCOUNT":var a=O(e.accounts,t);return Object(d.a)(Object(d.a)({},e),{},{accounts:a});case"ADD_CATEGORY":var o=O(e.categories,t);return Object(d.a)(Object(d.a)({},e),{},{categories:o});case"ADD_BUDGET":var i=O(e.budgets,t);return Object(d.a)(Object(d.a)({},e),{},{budgets:i});case"ADD_FUND":var c=O(e.funds,t);return Object(d.a)(Object(d.a)({},e),{},{funds:c});case"ADD_FUND_ADDITION":var l=O(e.fundAdditions,t);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:l,addTransaction:!1});case"ADD_TRANSACTION":var u=O(e.transactions,t);return Object(d.a)(Object(d.a)({},e),{},{transactions:u,addTransaction:!1});case"UPDATE_ACCOUNT":var p=E(e.accounts,t);return Object(d.a)(Object(d.a)({},e),{},{accounts:p});case"UPDATE_CATEGORY":var m=h(e.categories,t);return Object(d.a)(Object(d.a)({},e),{},{categories:m});case"UPDATE_BUDGET":var f=v(e.budgets,t);return Object(d.a)(Object(d.a)({},e),{},{budgets:f});case"UPDATE_FUND":var g=h(e.funds,t);return Object(d.a)(Object(d.a)({},e),{},{funds:g});case"UPDATE_FUND_ADDITION":var x=h(e.fundAdditions,t);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:x});case"REMOVE_ACCOUNT":var j=y(e.accounts,t);return Object(d.a)(Object(d.a)({},e),{},{accounts:j});case"REMOVE_CATEGORY":var w=y(e.categories,t);return Object(d.a)(Object(d.a)({},e),{},{categories:w});case"REMOVE_BUDGET":var k=y(e.budgets,t);return Object(d.a)(Object(d.a)({},e),{},{budgets:k});case"REMOVE_FUND":var C=y(e.funds,t);return Object(d.a)(Object(d.a)({},e),{},{funds:C});case"REMOVE_FUND_ADDITION":var S=y(e.fundAdditions,t);return Object(d.a)(Object(d.a)({},e),{},{fundAdditions:S});case"REMOVE_TRANSACTION":var T=y(e.transactions,t);return Object(d.a)(Object(d.a)({},e),{},{transactions:T});case"SYNC":return Object(d.a)(Object(d.a)(Object(d.a)({},e),t),{},{lastSync:r});default:return e}}),function(){var e=localStorage.getItem("budgetState");if(null!==e)return(e=JSON.parse(e)).currentPage="Home",e.message={text:"",type:""},e.editMode=!1,e.addTransaction=!1,e.fetching=!1,F(e.general.colourScheme),e}(),Object(l.a)((function(e){var n=e.getState;return function(e){return function(t){var r=e(t);return["SET_CURRENT_PAGE","SET_ADD_TRANSACTION","SET_EDIT_MODE","SET_FETCHING"].includes(t.type)||localStorage.setItem("budgetState",JSON.stringify(n())),r}}}),(function(e){var n=e.getState,t=e.dispatch;return function(e){return function(r){var a=e(r);return["SET_CURRENT_PAGE","SET_EDIT_MODE","SYNC","SET_USER","SET_ADD_TRANSACTION","SET_MESSAGE","SET_FETCHING"].includes(r.type)||U(n(),t),a}}}))),W=t(5),H=t(10),z=t(6),Y=t(11),L=t(41);function V(){var e=Object(W.a)(["\n    display: flex;\n    border-bottom: 1px solid var(--menu-border-color);\n    width: 100%;\n    background-color: var(--menu-bg-color);\n\n    & > div {\n        color: var(--menu-text-color);\n        padding: 5px 10px;\n        border-right: 1px solid var(--menu-border-color);\n        ",";\n        ",";\n    }\n\n    & > div:last-of-type {\n        ",";\n    }\n\n    & > div.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div:hover {\n        background-color: var(--menu-selected-bg-color);\n        cursor: pointer;\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div.spacer:hover {\n        background-color: transparent;\n        cursor: default;\n    }\n\n    & > div.spacer {\n        flex-grow: 1;\n    }\n\n    & > div.right {\n        border-right: none;\n    }\n\n    & > div > svg {\n        position: relative;\n        top: 3px;\n    }\n"]);return V=function(){return e},e}var Q=z.a.div(V(),(function(e){return e.isMobile?"flex-grow: 1;":""}),(function(e){return e.isMobile?"padding: 10px":""}),(function(e){return e.isMobile?"border-right: none;":""})),J=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(c.b)(),t=Object(c.c)((function(e){return e.addTransaction})),r=Object(c.c)((function(e){return e.currentPage}));return a.a.createElement(Q,{isMobile:e},a.a.createElement("div",{onClick:function(){return n({type:"SET_CURRENT_PAGE",payload:"Home"})},className:"Home"===r?"selected":""},e?a.a.createElement(Y.a,null):"Home"),a.a.createElement("div",{onClick:function(){return n({type:"SET_CURRENT_PAGE",payload:"Categories"})},className:"Categories"===r?"selected":""},"Categories"),a.a.createElement("div",{onClick:function(){return n({type:"SET_CURRENT_PAGE",payload:"Funds"})},className:"Funds"===r?"selected":""},"Funds"),a.a.createElement("div",{onClick:function(){return n({type:"SET_CURRENT_PAGE",payload:"Accounts"})},className:"Accounts"===r?"selected":""},"Accounts"),e?null:a.a.createElement("div",{onClick:function(){return n({type:"SET_ADD_TRANSACTION",payload:!t})}},"Add Transaction"),e?null:a.a.createElement("div",{className:"spacer"}),a.a.createElement("div",{onClick:function(){return n({type:"SET_CURRENT_PAGE",payload:"Settings"})},className:"Settings"===r?"selected right":"right"},e?a.a.createElement(L.a,null):"Settings"))};function q(){var e=Object(W.a)(["\n    position: fixed;\n    top: 28px;\n    width: 100%;\n\n    & > div {\n        border: 1px solid var(--menu-border-color);\n        width: 300px;\n        margin: auto;\n        padding: 10px;\n        background-color: var(--bg-color);\n    }\n"]);return q=function(){return e},e}var $=z.a.div(q()),Z=function(e){var n=e.children;return a.a.createElement($,null,n)},K=t(23);function X(){var e=Object(W.a)(["\n    width: 95%;\n    max-width: 1200px;\n    border: 2px solid white;\n    ",";\n    ",";\n    margin: auto;\n    margin-top: 5px;\n    padding: 5px;\n    position: relative;\n\n    & > div:last-child {\n        position: absolute;\n        right: -1px;\n        top: -2px;\n        font-size: 2em;\n    }\n\n    & > div:last-child:hover {\n        color: red;\n        cursor: pointer;\n    }\n"]);return X=function(){return e},e}var ee=z.a.div(X(),(function(e){return"error"===e.type?"border: 2px solid red":""}),(function(e){return"success"===e.type?"border: 2px solid #0F0":""})),ne=function(){var e=Object(c.b)(),n=Object(c.c)((function(e){return e.message}));return 0===n.text.length?null:a.a.createElement(ee,{type:n.type},a.a.createElement("div",null,n.text),a.a.createElement("div",{onClick:function(){return e({type:"SET_MESSAGE",payload:{text:"",type:""}})}},a.a.createElement(K.c,null)))},te=t(9),re=t(34);function ae(){var e=Object(W.a)(["\n    margin: 5px auto;\n    ","\n    border-spacing: 0px;\n    overflow: hidden;\n    border-radius: 5px;\n    background-color: var(--bg-color);\n    color: var(--text-color);\n\n    & thead td {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n    }\n\n    & thead td.income {\n        background-color: green;\n        color: white;\n    }\n\n    & thead td.expense {\n        background-color: darkorange;\n        color: black;\n    }\n\n    & thead td.fund {\n        background-color: lightsteelblue;\n        color: black;\n    }\n\n    & thead td.remaining {\n        background-color: deepskyblue;\n        color: black;\n    }\n\n    & tbody th {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n        font-weight: normal;\n    }\n\n    & tr td.corner-top-left {\n        border-top: none !important;\n        border-left: none !important;\n        background-color: transparent;\n    }\n\n    & td, & th {\n        padding: ",";\n        border-right: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n    \n    & > *:first-child tr:first-child > * {\n        border-top: 1px solid var(--menu-border-color);\n    }\n\n    & tr td:first-child, & tr th:first-child {\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    & > *:first-child tr:first-child > *:first-child {\n        border-top-left-radius: 5px;\n    }\n\n    & > *:first-child tr:first-child > *:last-child {\n        border-top-right-radius: 5px;\n    }\n\n    & tbody tr:last-child td:first-child {\n        border-bottom-left-radius: 5px;\n    }\n\n    & tbody tr:last-child td:last-child {\n        border-bottom-right-radius: 5px;\n    }\n\n    & td {\n        position: relative;\n    }\n\n    & .budgetIcon {\n        ","\n        float: right;\n        margin-left: 5px;\n    }\n\n    & .budgetIcon:hover {\n        cursor: pointer;\n    }\n"]);return ae=function(){return e},e}var oe=z.a.table(ae(),"",(function(e){return e.padding?e.padding:"10px 15px"}),"");function ie(){var e=Object(W.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    grid-gap: 10px;\n    margin: 10px;\n    ",";\n    ",";\n"]);return ie=function(){return e},e}var ce=z.a.div(ie(),(function(e){return e.template?e.template:"1fr 1fr"}),(function(e){return void 0!==e.start?"grid-column-start:"+e.start:""}),(function(e){return void 0!==e.end?"grid-column-end:"+e.end:""}));function le(){var e=Object(W.a)(["\n    width: 60px;\n    border: 1px solid var(--text-color);\n    background-color: var(--bg-color);\n    color: var(--text-color);\n"]);return le=function(){return e},e}var ue=z.a.input(le()),de=function(e){var n=e.value,t=e.category,o=e.date,i=Object(r.useState)(n),l=Object(te.a)(i,2),u=l[0],d=l[1],s=Object(r.useState)(n),p=Object(te.a)(s,2),m=p[0],f=p[1],b=Object(c.b)();n!==u&&(d(n),f(n));return a.a.createElement(ue,{type:"number",value:isNaN(m)||null===m?"":m,onChange:function(e){var n=parseFloat(e.target.value);f(n)},onBlur:function(e){b({type:"UPDATE_BUDGET",payload:{category:t,amount:m,startDate:o,carryOver:!1}})}})};function se(){var e=Object(W.a)(["\n    text-align: center;\n    border-radius: 5px;\n    box-shadow: 0px 1px 4px gray;\n    width: 100%;\n    overflow: hidden;\n\n    &.fullRow {\n        grid-column-start: 1;\n        grid-column-end: 3;\n    }\n\n    & > div:first-of-type {\n        position: relative;\n        font-size: 1.2em;\n        font-weight: bold;\n        padding: 2px;\n        margin-bottom: 4px;\n        ",";\n        ",";\n        ",";\n        ",";\n        ",";\n    }\n\n    & > div:last-of-type {\n        font-size: 1em;\n        margin-bottom: 5px;\n    }\n\n    & .budgetIcon {\n        position: absolute;\n        right: 5px;\n        top: 5px;\n    }\n\n    & .budgetIcon:hover {\n        cursor: pointer;\n    }\n"]);return se=function(){return e},e}var pe=z.a.div(se(),(function(e){return"income"===e.type?"background-color: green; color: white;":""}),(function(e){return"expense"===e.type?"background-color: darkorange; color: black;":""}),(function(e){return"fund"===e.type?"background-color: lightsteelblue; color: black;":""}),(function(e){return"remaining"===e.type?"background-color: deepskyblue; color: black;":""}),(function(e){return"account"===e.type?"background-color: deepskyblue; color: black;":""})),me=function(e){var n=e.title,t=e.amount,o=e.type,i=e.budget,c=void 0===i?0:i,l=e.editBudget,u=void 0!==l&&l,d=e.id,s=e.date,p=Object(r.useState)(!1),m=Object(te.a)(p,2),f=m[0],b=m[1];return a.a.createElement(pe,{type:o,className:"Earnings"===n||"Remaining"===n?"fullRow":""},a.a.createElement("div",null,n,u?a.a.createElement("div",{className:"budgetIcon",onClick:function(){b(!f)}},a.a.createElement(Y.b,null)):null),a.a.createElement("div",null,t,!f&&c>0?" / ".concat(T(c)):"",f?a.a.createElement("span",null," / ",a.a.createElement(de,{value:c,category:d,date:s})):null))};function fe(){var e=Object(W.a)(["\n    color: ",";\n    display: inline-block;\n    font-size: ",";\n    ",";\n    width: ",";\n    padding: ",";\n    border-radius: 5px;\n    \n    :hover {\n        cursor: pointer;\n    }\n\n    & > svg {\n        position: relative;\n        top: ",";\n    }\n"]);return fe=function(){return e},e}var be=z.a.div(fe(),(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.bordered?"border: 1px solid white":""}),(function(e){return e.width?e.width:"auto"}),(function(e){return e.bordered?"5px":"0px"}),(function(e){return e.topAdjust})),ve=function(e){var n=e.Icon,t=e.onClick,r=e.color,o=void 0===r?"var(--icon-color)":r,i=e.topAdjust,c=void 0===i?"3px":i,l=e.size,u=void 0===l?"1em":l,d=e.width,s=void 0===d?"auto":d,p=e.bordered,m=void 0!==p&&p;return a.a.createElement(be,{color:o,topAdjust:c,size:u,width:s,bordered:m},a.a.createElement(n,{onClick:t}))},ge=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(c.c)((function(e){return e.general})),t=Object(c.c)((function(e){return I(e.transactions)})),o=Object(c.c)((function(e){return I(e.categories)})),i=Object(c.c)((function(e){return I(e.budgets)})),l=Object(c.c)((function(e){return I(e.funds)})),u=Object(c.c)((function(e){return I(e.fundAdditions)})),d=Object(c.c)((function(e){return I(e.accounts)})),f=l.filter((function(e){return!1===e.complete})),b=function(e,n){var t=0;switch(n){case"monthly":t=30;break;case"weekly":t=7;break;case"twoWeekly":t=14;break;case"fourWeekly":t=28;break;default:t=30}for(var r=Object(m.a)(e),a=new Date;1===Object(p.a)(a,r);)r="monthly"===n?Object(j.a)(r,{months:1}):Object(j.a)(r,{days:t});for(var o="monthly"===n?Object(j.a)(r,{months:-1}):Object(j.a)(r,{days:-t}),i=[],c="fourWeekly"===n?13:12,l=0;l<c&&(i.push(Object(s.a)(o,"yyyy-MM-dd")),o="monthly"===n?Object(j.a)(o,{months:-1}):Object(j.a)(o,{days:-t}),!(Object(p.a)(Object(m.a)(e),o)>=1));l++);return i.reverse(),i}(n.startDate,n.payPeriodType),v=Object(r.useState)(b[b.length-1]),g=Object(te.a)(v,2),y=g[0],h=g[1],E=Object(r.useState)(0),O=Object(te.a)(E,2),x=O[0],A=O[1],_=function(e,n,t,r,a){if(0===e.length)return[];var o={};e.forEach((function(e){return o[e]={}}));var i=w(r,t),c=i.categoryNames,l=i.fundNames,u=n.filter((function(n){return void 0===n.fund&&Object(p.a)(Object(m.a)(n.date),Object(m.a)(e[0]))>=0})),d=a.filter((function(n){return Object(p.a)(Object(m.a)(n.date),Object(m.a)(e[0]))>=0})),s=function(n){var t=S(e,n.date),r=C(l,c,n);void 0===o[t][r]&&(o[t][r]=0),o[t][r]+=n.amount};return u.forEach(s),d.forEach(s),Object.values(o).forEach((function(e){var n=r.filter((function(e){return"income"===e.type})),a=r.filter((function(e){return"expense"===e.type})),o=0;n.forEach((function(n){return o+=void 0!==e[n.name]?e[n.name]:0})),a.forEach((function(n){return o-=void 0!==e[n.name]?e[n.name]:0})),t.forEach((function(n){return o-=void 0!==e[n.name]?e[n.name]:0})),e.remaining=o})),o}(b,t,l,o,u),M=o.filter((function(e){return"income"===e.type&&!1===e.hidden})),R=o.filter((function(e){return"expense"===e.type&&!1===e.hidden})),F=function(e,n,t,r){var a={},o=w(t,n),i=o.categoryNames,c=o.fundNames;n.forEach((function(e){var n=e.startingBalance>0?e.startingBalance:0;a[e.name]={saved:n,target:e.targetAmount,spent:0,remaining:n}})),t.forEach((function(e){return a[e.name]=e.startingBalance>0?e.startingBalance:0}));var l=function(e){var t=C(c,i,e);if(void 0!==e.fund){var r=k(n,e);return void 0===a[t]&&(a[t]={saved:0,target:r,spent:0,remaining:0}),e.account>0?a[t].spent+=e.amount:a[t].saved+=e.amount,void(a[t].remaining=a[t].saved-a[t].spent)}void 0===a[t]&&(a[t]=0),a[t]+=e.amount};e.forEach(l),r.forEach(l);var u=t.filter((function(e){return"income"===e.type})),d=t.filter((function(e){return"expense"===e.type})),s=0;return u.forEach((function(e){return s+=a[e.name]})),d.forEach((function(e){return s-=a[e.name]})),n.forEach((function(e){return s-=a[e.name].saved})),a.remaining=s,a}(t,l,o,u),B=function(e,n,t){var r=[];return n.forEach((function(n){if(!n.closed){var a=e.filter((function(e){return void 0!==e.from&&void 0!==e.to&&(e.from===n.id||e.to===n.id)||void 0!==e.account&&e.account===n.id})).reduce((function(e,r){return e+=P(r,t,n.id,!1)}),0);void 0!==n.startingBalance&&(a+=parseFloat(n.startingBalance)),r.push({name:n.name,total:a,id:n.id})}})),r}(t,d,o),U=function(){if("Totals"!==y){var e=b.indexOf(y)-1;if(!(e<0)){var n=b[e];h(n)}}else h(b[b.length-1])},G=function(){var e=b.indexOf(y)+1;if(e>b.length-1)h("Totals");else if("Totals"!==y){var n=b[e];h(n)}};if(e){var W=y;"Totals"!==y&&(W=Object(s.a)(new Date(y),"do MMMM yyyy"));var z=b.indexOf(y),L=function(){return a.a.createElement(ce,{style:{fontSize:"1.5em",fontWeight:"bold",margin:"0px"},start:"1",end:"3",template:"50px auto 50px"},0===z?a.a.createElement("div",null):a.a.createElement(ve,{Icon:re.a,onClick:U,size:"1.3em",topAdjust:"0px"}),a.a.createElement("div",null,W),"Totals"===y?a.a.createElement("div",null):a.a.createElement(ve,{Icon:re.b,onClick:G,size:"1.3em",topAdjust:"0px"}))};return"Totals"===y?a.a.createElement("div",null,a.a.createElement(ce,null,L(),M.map((function(e){return a.a.createElement(me,{key:"totals-heading-"+e.id,title:e.name,amount:T(F[e.name]),type:"income"})})),f.map((function(e){return a.a.createElement(me,{key:"totals-heading-"+e.id,title:e.name,amount:T(F[e.name]?F[e.name].remaining:0)+N(F[e.name]),type:"fund"})})),R.map((function(e){return a.a.createElement(me,{key:"totals-heading-"+e.id,title:e.name,amount:T(F[e.name]),type:"expense"})})),a.a.createElement(me,{title:"Remaining",amount:T(F.remaining),type:"remaining"})),a.a.createElement("h3",null,"Accounts"),a.a.createElement(ce,null,B.map((function(e){return a.a.createElement(me,{key:"account-"+e.id,title:e.name,amount:T(e.total),type:"account"})})))):a.a.createElement("div",null,a.a.createElement(ce,null,L(),M.map((function(e){return a.a.createElement(me,{key:"heading-"+e.id,title:e.name,amount:T(_[y][e.name]),type:"income"})})),f.map((function(e){return a.a.createElement(me,{key:"heading-"+e.id,title:e.name,amount:T(_[y][e.name]),type:"fund"})})),R.map((function(e){return a.a.createElement(me,{key:"heading-"+e.id,title:e.name,amount:T(_[y][e.name]),type:"expense",editBudget:!0,budget:D(i,y,e.id,t,!0),id:e.id,date:y})})),a.a.createElement(me,{title:"Remaining",amount:T(_[y].remaining),type:"remaining"})))}return a.a.createElement("div",null,a.a.createElement("h4",null,"Period Summaries"),a.a.createElement(oe,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Date"),M.map((function(e){return a.a.createElement("td",{key:"heading-"+e.id,className:"income"},e.name)})),f.map((function(e){return a.a.createElement("td",{key:"heading-"+e.id,className:"fund"},e.name)})),R.map((function(e){return a.a.createElement("td",{key:"heading-"+e.id,className:"expense"},e.name,a.a.createElement("div",{className:"budgetIcon",onClick:(n=e.id,function(){A(x===n?0:n)})},a.a.createElement(Y.b,null)));var n})),a.a.createElement("td",{className:"remaining"},"Remaining"))),a.a.createElement("tbody",null,b.map((function(e){return a.a.createElement("tr",{key:"summaryDate-"+e},a.a.createElement("td",null,e),M.map((function(n){return a.a.createElement("td",{key:n.id},T(_[e][n.name]))})),f.map((function(n){return a.a.createElement("td",{key:n.id},T(_[e][n.name]))})),R.map((function(n){return a.a.createElement("td",{key:n.id},T(_[e][n.name]),x===n.id?a.a.createElement("span",null," / ",a.a.createElement(de,{value:D(i,e,n.id,t,!0),category:n.id,date:e})):D(i,e,n.id,t))})),a.a.createElement("td",null,T(_[e].remaining)))})),a.a.createElement("tr",null,a.a.createElement("td",null,"Total"),M.map((function(e){return a.a.createElement("td",{key:"totalsRow-"+e.id},T(F[e.name]))})),f.map((function(e){return a.a.createElement("td",{key:"fundHeading-"+e.id},T(F[e.name].remaining),N(F[e.name]))})),R.map((function(e){return a.a.createElement("td",{key:"totalsRow-"+e.id},T(F[e.name]))})),a.a.createElement("td",null,T(F.remaining))))),a.a.createElement("h4",null,"Account Summaries"),a.a.createElement(oe,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Account"),a.a.createElement("td",null,"Total"))),a.a.createElement("tbody",null,B.map((function(e){return a.a.createElement("tr",{key:"account-"+e.id},a.a.createElement("td",null,e.name),a.a.createElement("td",null,T(e.total)))})))))};function ye(){var e=Object(W.a)(["\n    border: ",";\n    height: var(--input-height);\n    background-color: var(--bg-color);\n    color: var(--text-color);\n    padding-left: 10px;\n    font-size: 1em;\n    width: ",";\n    border-radius: 0px;\n    -webkit-appearance: none;\n\n    :focus {\n        outline: none;\n        border: 1px solid #33C9F9;\n    }\n\n    &::-webkit-calendar-picker-indicator {\n        filter: invert(100%);\n    }\n"]);return ye=function(){return e},e}var he=z.a.input(ye(),(function(e){return e.noBorder?"none":"1px solid var(--menu-border-color)"}),(function(e){return e.width})),Ee=function(e){var n=e.value,t=e.type,r=void 0===t?"text":t,o=e.placeholder,i=void 0===o?"":o,c=e.onChange,l=e.options,u=void 0===l?[]:l,d=e.groups,s=void 0===d?[]:d,p=e.width,m=void 0===p?"100px":p,f=e.noBorder,b=void 0!==f&&f;return"dropdown"===r&&(u.length>0||s.length>0)?a.a.createElement(he,{as:"select",onChange:c,value:n,width:m,noBorder:b},a.a.createElement("option",{hidden:!0,value:void 0},"Select an Option"),u.length>0?u.map((function(e){return 0===e.display.length?null:a.a.createElement("option",{key:"inputOption-"+e.value,value:e.value},e.display)})):s.map((function(e){return a.a.createElement("optgroup",{key:"inputGroup-"+e.label,label:e.label},e.options.map((function(e){return 0===e.display.length?null:a.a.createElement("option",{key:"inputGroupOption-"+e.value,value:e.value},e.display)})))}))):"dropdown"===r&&0===u.length&&0===s.length?a.a.createElement(he,{value:"No Options",type:r,onChange:c,placeholder:i,width:m,noBorder:b,disabled:!0}):("number"===r&&isNaN(n)&&(n=""),a.a.createElement(he,{value:n,type:r,onChange:c,placeholder:i,width:m,noBorder:b}))};function Oe(){var e=Object(W.a)(["\n    display: flex;\n    justify-content: center;\n    margin: 5px;\n\n    & > label {\n        width: ",";\n        display: inline-flex;\n        justify-content: flex-end;\n        align-items: center;\n        height: var(--input-height);\n        padding: 0px 10px;\n        border-left: 1px solid var(--menu-border-color);\n        border-top: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n        border-top-left-radius: 5px;\n        border-bottom-left-radius: 5px;\n        background-color: var(--table-heading-bg-color);\n    }\n\n    & > input, & > select {\n        border-top-right-radius: 5px;\n        border-bottom-right-radius: 5px;\n        width: 150px;\n    }\n"]);return Oe=function(){return e},e}var xe=z.a.div(Oe(),(function(e){return e.labelWidth})),je=function(e){var n=e.label,t=e.type,r=void 0===t?"text":t,o=e.value,i=e.placeholder,c=void 0===i?"":i,l=e.onChange,u=e.options,d=void 0===u?[]:u,s=e.groups,p=void 0===s?[]:s,m=e.labelWidth,f=void 0===m?"120px":m,b=o;return isNaN(b)&&"number"===r&&(b=""),a.a.createElement(xe,{labelWidth:f},a.a.createElement("label",null,n),a.a.createElement(Ee,{value:b,type:r,onChange:l,placeholder:c,options:d,groups:p}))};function we(){var e=Object(W.a)(["\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n\n    background-color: rgba(0,0,0,0.6);\n    border-radius: 5px;\n    cursor: default;\n\n    :after {\n        content: ' ';\n        position: relative;\n        top: 2px;\n        border: 3px solid black;\n        border-radius: 50%;\n        border-top: none;\n        border-left: none;\n        width: 20px;\n        height: 20px;\n        display: block;\n        margin: auto;\n        animation-name: spin;\n        animation-duration: 0.9s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes spin {\n        from {transform: rotate(0deg);}\n        to {transform: rotate(360deg);}\n    }\n"]);return we=function(){return e},e}function ke(){var e=Object(W.a)(["\n    background-color: var(--menu-bg-color);\n    color: var(--menu-text-color);\n    border: 1px solid var(--menu-border-color);\n    ",";\n    border-radius: 5px;\n    height: var(--input-height);\n    display: ",";\n    justify-content: center;\n    align-items: center;\n    width: ",";\n    margin: auto;\n    position: relative;\n\n    :hover {\n        cursor: pointer;\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n"]);return ke=function(){return e},e}var Ce=z.a.div(ke(),(function(e){return e.color?"border-color: ".concat(e.color):""}),(function(e){return e.inline?"inline flex":"flex"}),(function(e){return e.width})),Se=z.a.div(we()),Te=function(e){var n=e.value,t=e.onClick,r=e.width,o=void 0===r?"100%":r,i=e.inline,c=void 0!==i&&i,l=e.color,u=void 0===l?void 0:l,d=e.style,s=void 0===d?{}:d,p=e.loading;return void 0!==p&&p?a.a.createElement(Ce,{width:o,inline:c,color:u,style:s},a.a.createElement(Se,null),n):a.a.createElement(Ce,{width:o,onClick:t,inline:c,color:u,style:s},n)},De=function(e){var n=e.onAdd,t=void 0===n?function(){}:n,o=Object(c.b)(),i=Object(c.c)((function(e){return I(e.accounts)})),l=Object(c.c)((function(e){return I(e.funds)})),u=Object(c.c)((function(e){return I(e.categories)})),d=i.find((function(e){return!0===e.defaultAccount})),p=void 0!==d?d.id:i.length>0?i[0].id:void 0,m=Object(r.useState)("spend"),f=Object(te.a)(m,2),b=f[0],v=f[1],g=Object(r.useState)(""),y=Object(te.a)(g,2),h=y[0],E=y[1],O=Object(r.useState)(""),x=Object(te.a)(O,2),j=x[0],w=x[1],k=Object(r.useState)(Object(s.a)(new Date,"yyyy-MM-dd")),C=Object(te.a)(k,2),S=C[0],T=C[1],D=Object(r.useState)(p),A=Object(te.a)(D,2),N=A[0],_=A[1],M=Object(r.useState)(void 0),P=Object(te.a)(M,2),R=P[0],F=P[1],B=Object(r.useState)(void 0),U=Object(te.a)(B,2),G=U[0],W=U[1],H=Object(r.useState)(void 0),z=Object(te.a)(H,2),Y=z[0],L=z[1],V=Object(r.useState)(void 0),Q=Object(te.a)(V,2),J=Q[0],q=Q[1],$=function(){v("spend"),E(""),w(""),T(Object(s.a)(new Date,"yyyy-MM-dd")),_(p),F(void 0),W(void 0),L(void 0),q(void 0)},Z=[{value:"spend",display:"Spend/Receive"},{value:"fundAddition",display:"Add to Fund"}];return i.length>1&&Z.push({value:"transfer",display:"Transfer"}),"fundAddition"===b?a.a.createElement("div",null,a.a.createElement("strong",null,"Add Transaction"),a.a.createElement(je,{label:"Type",type:"dropdown",value:b,onChange:function(e){return v(e.target.value)},options:Z}),a.a.createElement(je,{label:"Amount",type:"number",value:h,onChange:function(e){return E(parseFloat(e.target.value))}}),a.a.createElement(je,{label:"Date",type:"date",value:S,onChange:function(e){return T(e.target.value)}}),a.a.createElement(je,{label:"Fund",type:"dropdown",value:R,onChange:function(e){return F(Number(e.target.value))},options:l.map((function(e){return{value:e.id,display:e.name}}))}),a.a.createElement(Te,{value:"Add Transaction",onClick:function(){0===h||isNaN(h)||0!==S.length&&void 0!==R&&(o({type:"ADD_FUND_ADDITION",payload:{amount:h,date:S,fund:R}}),t(),$())},width:"140px"})):a.a.createElement("div",null,a.a.createElement("strong",null,"Add Transaction"),a.a.createElement(je,{label:"Type",type:"dropdown",value:b,onChange:function(e){return v(e.target.value)},options:Z}),a.a.createElement(je,{label:"Amount",type:"number",value:h,onChange:function(e){return E(parseFloat(e.target.value))}}),"transfer"===b?null:a.a.createElement(je,{label:"Description",value:j,onChange:function(e){return w(e.target.value)}}),a.a.createElement(je,{label:"Date",type:"date",value:S,onChange:function(e){return T(e.target.value)}}),"transfer"===b?null:a.a.createElement(je,{label:"Account",type:"dropdown",value:N,onChange:function(e){return _(Number(e.target.value))},options:i.map((function(e){return{value:e.id,display:e.name}}))}),"transfer"===b?a.a.createElement(je,{label:"From",type:"dropdown",value:Y,onChange:function(e){return L(Number(e.target.value))},options:i.map((function(e){return{value:e.id,display:e.name}}))}):null,"transfer"===b?a.a.createElement(je,{label:"To",type:"dropdown",value:J,onChange:function(e){return q(Number(e.target.value))},options:i.map((function(e){return{value:e.id,display:e.name}}))}):null,"transfer"===b?null:a.a.createElement(je,{label:"Group",type:"dropdown",value:void 0,onChange:function(e){var n=e.target.value.split(":"),t=Object(te.a)(n,2),r=t[0],a=t[1];(r=Number(r),void 0!==l.find((function(e){return e.id===r&&e.name===a})))?(F(r),W(void 0)):void 0!==u.find((function(e){return e.id===r&&e.name===a}))&&(W(r),F(void 0))},groups:[{label:"Funds",options:l.map((function(e){return{value:e.id+":"+e.name,display:e.name}}))},{label:"Categories",options:u.map((function(e){return{value:e.id+":"+e.name,display:e.name}}))}]}),a.a.createElement(Te,{value:"Add Transaction",onClick:function(){var e;0===h||isNaN(h)||0!==S.length&&void 0!==N&&("spend"===b&&void 0===R&&void 0===G||"transfer"===b&&void 0===Y&&void 0===J||("spend"===b?e={type:b,amount:h,description:j,date:S,account:N,fund:R,category:G}:"transfer"===b&&(e={type:b,amount:h,date:S,from:Y,to:J}),o({type:"ADD_TRANSACTION",payload:e}),t(),$()))},width:"140px"}))};function Ae(){var e=Object(W.a)(["\n    display: flex;\n    width: 100%;\n    height: calc(100vh - 70px);\n\n    & > div:last-child {\n        flex-grow: 1;\n    }\n"]);return Ae=function(){return e},e}var Ne=z.a.div(Ae());function _e(){var e=Object(W.a)(["\n    border: 1px solid var(--menu-border-color);\n    width: 200px;\n    margin: 5px;\n    padding: 0px 5px;\n    overflow: scroll;\n    position: relative;\n\n    & > div {\n        border: 1px solid var(--menu-border-color);\n        padding: 5px;\n        width: 100%;\n        margin-bottom: 5px;\n        background-color: var(--menu-bg-color);\n        color: var(--menu-text-color);\n    }\n\n    & > div:hover {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n        cursor: pointer;\n    }\n\n    & > div.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div:last-child {\n        position: absolute;\n        bottom: 0px;\n        left: 5px;\n        width: calc(100% - 10px);\n    }\n"]);return _e=function(){return e},e}var Me=z.a.div(_e()),Pe=function(e){var n=e.heading,t=void 0===n?"":n,r=e.array,o=void 0===r?[]:r,i=e.onClickObj,l=e.selected,u=Object(c.b)(),d=Object(c.c)((function(e){return e.editMode}));return a.a.createElement(Me,null,a.a.createElement("h4",null,t),o.map((function(e){return 0===e.name.length?null:a.a.createElement("div",{key:"objList-"+e.id,onClick:i(e.id),className:l===e.id&&!1===d?"selected":""},e.name)})),a.a.createElement("div",{onClick:function(){u({type:"SET_EDIT_MODE",payload:!d})},className:d?"selected":""},"Edit ",t))},Re=t(61);function Ie(){var e=Object(W.a)(["\n    & > table {\n        width: 100%;\n        max-width: 650px;\n        margin: auto;\n    }\n\n    & td {\n        ","\n        height: 39px;\n    }\n\n    & td:nth-child(1) {\n        text-align: left;\n    }\n\n    & td:nth-child(2) {\n        width: 100px;\n        text-align: right;\n    }\n\n    & td:nth-child(3) {\n        width: 50px;\n        text-align: right;\n    }\n\n    & div.description {\n        max-width: 540px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & td span.date {\n        font-size: 0.8em;\n        color: var(--light-text-color);\n    }\n\n    &:hover {\n        cursor: pointer;\n        background-color: var(--table-heading-bg-color);\n    }\n\n    @media screen and (max-width: 700px) {        \n        & > table {\n            width: 100%;\n        }\n\n        & div.description {\n            max-width: 250px;\n        }\n\n        & td {\n            height: 40px;\n        }\n\n        & tr > td:first-child {\n            padding-left: 15px;\n        }\n\n        & tr > td:last-child {\n            padding-right: 15px;\n        }\n    }\n"]);return Ie=function(){return e},e}var Fe=z.a.div(Ie(),""),Be=function(e,n,t,r,a,o){if("Categories"===o){var i=e.account,c=a.find((function(e){return e.id===i}));if(void 0!==c)return e.description.length>0?c.name+" - "+e.description:c.name;if(e.description.length>0)return e.description}if("Funds"===o)return e.description&&e.description.length>0?e.description:"";if(void 0===n)return"";if(void 0!==e.category){var l=t.find((function(n){return n.id===e.category}));if(void 0!==l)return e.description.length>0?l.name+" - "+e.description:l.name;if(e.description.length>0)return e.description}if(void 0!==e.fund){var u=r.find((function(n){return n.id===e.fund}));if(void 0!==u)return e.description.length>0?"".concat(u.name," Fund - ").concat(e.description):"".concat(u.name," Fund")}if(void 0!==e.from)if(e.from===n){var d=a.find((function(n){return n.id===e.to}));if(void 0!==d)return"Transfered to ".concat(d.name)}else{var s=a.find((function(n){return n.id===e.from}));if(void 0!==s)return"Transfered from ".concat(s.name)}return""},Ue=function(e){var n=e.obj,t=e.accountId,r=e.showDelete,o=void 0!==r&&r,i=e.onClick,l=void 0===i?function(){}:i,u=Object(c.b)(),d=Object(c.c)((function(e){return I(e.categories)})),p=Object(c.c)((function(e){return I(e.funds)})),f=Object(c.c)((function(e){return I(e.accounts)})),b=Object(c.c)((function(e){return e.currentPage})),v=void 0!==n.date?Object(s.a)(Object(m.a)(n.date),"MMM d, yyyy"):"",g=Be(n,t,d,p,f,b);return a.a.createElement(Fe,{onClick:l(n)},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,g.length>0?a.a.createElement("div",{className:"description"},g):null,g.length>0?a.a.createElement("span",{className:"date"},v):a.a.createElement("div",{className:"description"},v)),a.a.createElement("td",null,P(n,d,t)),o?a.a.createElement("td",null,a.a.createElement(ve,{Icon:Y.c,onClick:function(){void 0===n.type?u({type:"REMOVE_FUND_ADDITION",payload:n.id}):u({type:"REMOVE_TRANSACTION",payload:n.id})},color:"red",topAdjust:"1px"})):null))))},Ge=t(42);function We(){var e=Object(W.a)(["\n    width: 250px;\n    margin: 5px auto;\n    position: relative;\n\n    & > div > svg {\n        fill: var(--icon-color);\n    }\n\n    & > div.dropdownDisplay {\n        font-size: 1.5em;\n        font-weight: bold;\n        border-bottom: 2px solid var(--icon-color);\n        padding: 5px;\n        position: relative;\n        padding-right: 30px;\n        padding-left: 30px;\n        overflow: hidden;\n    }\n\n    & > div.dropdownDisplay > svg {\n        position: absolute;\n        right: 0px;\n        top: 2px;\n        font-size: 1.5em;\n    }\n\n    & > div.dropdownGroup {\n        border-left: 1px solid var(--menu-border-color);\n        border-bottom: ",";\n        border-right: 1px solid var(--menu-border-color);\n        position: absolute;\n        top: 100%;\n        left: 0px;\n        right: 0px;\n        background-color: var(--bg-color);\n        max-height: ",";\n        overflow: scroll;\n        transition: 0.3s;\n    }\n\n    & div.dropdownItem {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n\n    & div.dropdownItem:last-child {\n        border-bottom: none;\n    }\n"]);return We=function(){return e},e}var He=z.a.div(We(),(function(e){return e.open?"1px solid var(--menu-border-color)":"none"}),(function(e){return e.open?e.maxHeight:"0px"})),ze=function(e){var n=e.value,t=e.options,o=void 0===t?[]:t,i=e.onChange,l=Object(c.b)(),u=Object(r.useState)(!1),d=Object(te.a)(u,2),s=d[0],p=d[1],m=o.find((function(e){return e.value===n}));"Edit"===n&&(m={display:"Edit"}),void 0===m&&(m={display:"Edit"});var f=40*o.length+40;return f>300&&(f=300),a.a.createElement(He,{open:s,maxHeight:f+"px"},a.a.createElement("div",{className:"dropdownDisplay",onClick:function(){p(!s)}},m.display,a.a.createElement(Ge.a,null)),a.a.createElement("div",{className:"dropdownGroup"},o.map((function(e){return a.a.createElement("div",{key:"headerDropdown-"+e.value,className:"dropdownItem",onClick:(n=e.value,function(){i(n),p(!1)})},e.display);var n})),a.a.createElement("div",{className:"dropdownItem",onClick:function(){l({type:"SET_EDIT_MODE",payload:!0})}},"Edit")))};function Ye(){var e=Object(W.a)(["\n    margin: 10px;\n    font-size: 1em;\n    font-weight: bold;\n\n    & > table {\n        margin: auto;\n    }\n\n    & > table td:first-of-type {\n        text-align: right;\n    }\n\n    & > table td:last-of-type {\n        text-align: left;\n    }\n"]);return Ye=function(){return e},e}var Le=z.a.div(Ye()),Ve=function(e){var n=e.label,t=e.value,r=e.fundObj;return void 0!==r?a.a.createElement(Le,null,a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Total Saved: "),a.a.createElement("td",null,T(t))),r.target>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",null,"Fund Target: "),a.a.createElement("td",null,T(r.target))),a.a.createElement("tr",null,a.a.createElement("td",null,"Total Needed: "),a.a.createElement("td",null,T(r.remaining)))):null))):a.a.createElement(Le,null,n,": ",T(t))};function Qe(){var e=Object(W.a)(["\n    width: ",";\n    border: 1px solid white;\n    position: fixed;\n    top: 50px;\n    background-color: var(--bg-color);\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    opacity: 0;\n    transition: 0.4s;\n    pointer-events: none;\n\n    &.visible {\n        opacity: 1;\n        transition: 0.4s;\n        pointer-events: all;\n    }\n"]);return Qe=function(){return e},e}var Je=z.a.div(Qe(),(function(e){return e.width+"px"})),qe=function(e){var n=e.children,t=e.width,r=void 0===t?350:t,o=e.visible,i=void 0!==o&&o;return a.a.createElement(Je,{width:r,className:i?"visible":""},n)};function $e(){var e=Object(W.a)(["    \n    padding: 10px;\n\n    & > table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    & > table td {\n        border: 1px solid var(--menu-border-color);\n        padding: 5px;\n        text-transform: capitalize;\n    }\n\n    & > table tr > td:first-child {\n        width: 110px;\n    }\n\n    & strong {\n        font-size: 1.3em;\n    }\n"]);return $e=function(){return e},e}var Ze=z.a.div($e()),Ke=function(e,n){return void 0===n||0===n.length?null:a.a.createElement("tr",null,a.a.createElement("td",null,e),a.a.createElement("td",null,n))},Xe=function(e){var n=e.obj,t=e.onClose,r=(e.onDelete,Object(c.b)());if(null===n)return null;var o=function(e){var n=G.getState(),t=n.categories,r=n.accounts,a=n.funds,o=Object(d.a)({},e);if(void 0!==o.category){var i=t.find((function(e){return e.id===o.category}));void 0!==i&&(o.category=i.name)}if(void 0!==o.account){var c=r.find((function(e){return e.id===o.account}));void 0!==c&&(o.account=c.name)}if(void 0!==o.fund){var l=a.find((function(e){return e.id===o.fund}));void 0!==l&&(o.fund=l.name)}if(void 0!==o.from){var u=r.find((function(e){return e.id===o.from}));void 0!==u&&(o.from=u.name)}if(void 0!==o.to){var s=r.find((function(e){return e.id===o.to}));void 0!==s&&(o.to=s.name)}return o}(n);return a.a.createElement(Ze,null,a.a.createElement(ce,{template:"50px auto 50px"},a.a.createElement("div",{style:{textAlign:"left"}},a.a.createElement(ve,{Icon:Y.c,onClick:function(){void 0===o.type?r({type:"REMOVE_FUND_ADDITION",payload:o.id}):r({type:"REMOVE_TRANSACTION",payload:o.id}),t()},color:"red",topAdjust:"1px",size:"1.3em"})),a.a.createElement("strong",null,"Transaction Details")),a.a.createElement("table",null,a.a.createElement("tbody",null,Ke("Type",o.type),Ke("From",o.from),Ke("To",o.to),Ke("Category",o.category),Ke("Account",o.account),Ke("Fund",o.fund),Ke("Date",function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM d, yyyy";return void 0===e||0===e.length?"":Object(s.a)(Object(m.a)(e),n)}(o.date)),Ke("Description",o.description),Ke("Amount",T(o.amount)))),a.a.createElement("br",null),a.a.createElement(Te,{onClick:t,value:"Close"}))};function en(){var e=Object(W.a)(["\n    margin: 0px 10px;\n\n    & > div > div {\n        border-bottom: 1px solid gray;\n        padding: 3px;\n    }\n\n    & > div > div:first-of-type {\n        margin-top: 0px;\n        border-top: none;\n    }\n\n    & > div > div:last-of-type {\n        border-bottom: none;\n    }\n\n    & > div {\n        border-bottom: ",";\n        ",";\n        overflow: hidden;\n        transition: 0.3s;\n    }\n\n    & > strong {\n        display: block;\n        width: 100%;\n        background-color: var(--menu-bg-color);\n        padding: 10px;\n        color: var(--menu-text-color);\n    }\n\n    & > strong:hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n\n        & > div > div {\n            padding: 0px;\n        }\n\n        & > div {\n            border-bottom: ",";\n            ",";\n            overflow: hidden;\n            transition: 0.3s;\n        }\n    }\n"]);return en=function(){return e},e}function nn(){var e=Object(W.a)(["\n    border: 1px solid var(--menu-border-color);\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n    position: relative;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n    }\n"]);return nn=function(){return e},e}var tn=z.a.div(nn()),rn=z.a.div(en(),(function(e){return!1===e.open?"1px solid var(--menu-border-color)":"1px solid var(--bg-color)"}),(function(e){return!1===e.open?"height: 0px":"height: ".concat(51*e.qty,"px")}),(function(e){return!1===e.open?"1px solid var(--menu-border-color)":"1px solid var(--bg-color)"}),(function(e){return!1===e.open?"height: 0px":"height: ".concat(45*e.qty,"px")})),an=function(e){var n=e.transactions,t=void 0===n?[]:n,o=e.heading,i=void 0===o?"":o,l=e.id,u=e.onClickDropdown,f=void 0===u?function(){}:u,b=e.objArray,v=void 0===b?[]:b,g=Object(H.useMediaQuery)({maxWidth:700}),y=Object(c.c)((function(e){return I(e.categories)})),h=Object(c.c)((function(e){return e.currentPage})),E=Object(r.useState)({}),O=Object(te.a)(E,2),x=O[0],j=O[1],w=Object(r.useState)({}),k=Object(te.a)(w,2),C=k[0],S=k[1],T=Object(r.useState)(!1),D=Object(te.a)(T,2),A=D[0],N=D[1],_="Accounts"===h?l:void 0,M=v.find((function(e){return e.id===l})),R={};t.forEach((function(e){var n=e.date,t=Object(s.a)(Object(m.a)(n),"MMMM yyyy");void 0===R[t]&&(R[t]=[]),R[t].push(e)}));var F=Object.keys(R).map((function(e){return{month:e,transactions:R[e].sort((function(e,n){return Object(p.a)(Object(m.a)(n.date),Object(m.a)(e.date))}))}})).sort((function(e,n){var t=Object(Re.a)(e.month,"MMMM yyyy",new Date),r=Object(Re.a)(n.month,"MMMM yyyy",new Date);return Object(p.a)(r,t)})),B=function(e){return function(){S(e),N(!0)}},U=t.reduce((function(e,n){return e+=P(n,y,l,!1)}),0),G=!1;M&&void 0!==M.startingBalance&&("expense"===M.type?(U-=parseFloat(M.startingBalance),G=!0):U+=parseFloat(M.startingBalance));var W="Expense";"Categories"===h&&void 0!==M&&(W=M.type);var z={};return"Funds"===h&&void 0!==M&&(z={target:M.targetAmount,remaining:M.targetAmount-U}),a.a.createElement(tn,null,g?null:a.a.createElement("h4",null,i),g?a.a.createElement(ze,{value:l,options:v.map((function(e){return{display:e.name,value:e.id}})),onChange:function(e){f(Number(e))()}}):null,a.a.createElement(qe,{visible:A},a.a.createElement(Xe,{obj:C,onClose:function(){N(!1)}})),"Accounts"===h?a.a.createElement(Ve,{label:"Balance",value:U}):null,"Categories"===h&&"expense"===W?a.a.createElement(Ve,{label:"Total Spent",value:-U}):null,"Categories"===h&&"income"===W?a.a.createElement(Ve,{label:"Total Earned",value:U}):null,"Funds"===h?a.a.createElement(Ve,{value:U,fundObj:z}):null,0===F.length&&v.length>0?a.a.createElement("div",{style:{margin:"10px"}},"No Transactions to Display"):null,F.map((function(e){return a.a.createElement(rn,{key:"transactionGroup-"+e.month+l,open:!0!==x[e.month],qty:e.transactions.length},a.a.createElement("strong",{onClick:(n=e.month,function(){var e=Object(d.a)({},x);void 0===e[n]?e[n]=!0:e[n]=!e[n],j(e)})},e.month),a.a.createElement("div",null,e.transactions.map((function(e){return a.a.createElement(Ue,{key:"transaction-"+e.id,obj:e,accountId:_,showDelete:!1,onClick:B})}))));var n})),M&&void 0!==M.startingBalance?a.a.createElement(rn,null,a.a.createElement("strong",null,"Opening Balance"),a.a.createElement(Ue,{obj:{date:M.dateOpened,amount:G?-M.startingBalance:M.startingBalance,description:""},accountId:_})):null)};function on(){var e=Object(W.a)(["\n    width: 90%;\n    max-width: 1150px;\n    margin: 10px auto;\n\n    @media screen and (max-width: 700px) {\n        width: 100%;\n        margin: 0px;\n    }\n"]);return on=function(){return e},e}var cn=z.a.div(on()),ln=function(e){var n=e.label,t=e.defaultValue,r=e.value,o=e.onChange,i=e.width,l=void 0===i?void 0:i,u=Object(c.c)((function(e){return I(e.categories)})),d="100px";return void 0===l&&"description"===n?d="300px":void 0!==l&&(d=l),"category"===n?a.a.createElement(Ee,{type:"dropdown",onChange:o,value:void 0!==r?r:t,placeholder:n,options:u.map((function(e){return{value:e.id,display:e.name}})),width:d,noBorder:!0}):"number"===typeof t?a.a.createElement(Ee,{type:"number",onChange:o,value:void 0!==r?r:t,placeholder:n,width:d,noBorder:!0}):"string"===typeof t&&"date"===t?a.a.createElement(Ee,{type:"date",onChange:o,value:void 0!==r?r:t,placeholder:n,width:d,noBorder:!0}):"string"===typeof t&&t.includes(",")>0?a.a.createElement(Ee,{type:"dropdown",onChange:o,value:void 0!==r?r:t,placeholder:n,options:t.split(",").map((function(e){return{value:e,display:_(e)}})),width:d,noBorder:!0}):"string"===typeof t?a.a.createElement(Ee,{onChange:o,value:void 0!==r?r:t,placeholder:n,width:d,noBorder:!0}):"boolean"===typeof t?a.a.createElement(Ee,{type:"dropdown",onChange:o,value:void 0!==r?r:t,placeholder:n,options:[{display:"Yes",value:!0},{display:"No",value:!1}],width:d,noBorder:!0}):void 0};function un(){var e=Object(W.a)(["\n    border: 1px solid var(--menu-border-color);\n    display: inline-block;\n    margin: 10px;\n    border-radius: 5px;\n    width: 40%;\n\n    & > div:first-child {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n        font-weight: bold;\n    }\n\n    & > div:last-child {\n        display: flex;\n    }\n\n    & > div:last-child > div {\n        padding: 10px;\n        width: 50%;\n    }\n\n    & > div:last-child > div:first-child {\n        border-right: 1px solid white;\n    }\n\n    & > div.popup {\n        background-color: rgba(0,0,0,0.5);\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        left: 0px;\n        right: 0px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transform: scale(",");\n        transition: 0.3s;\n    }\n\n    & > div.popup > div {\n        width: 100%;\n        padding: 10px;\n    }\n"]);return un=function(){return e},e}var dn=z.a.div(un(),(function(e){return e.open?"1.0":"0.0"})),sn=function(e){var n=e.modal,t=e.obj,o=e.onChange,i=e.onDelete,c=Object(r.useState)(0===t.name.length),l=Object(te.a)(c,2),u=l[0],d=l[1],s=Object(r.useState)(!1),p=Object(te.a)(s,2),m=p[0],f=p[1];return a.a.createElement(dn,{open:u},a.a.createElement("div",null,t.name),a.a.createElement("div",{className:"popup"},a.a.createElement("div",null,a.a.createElement(oe,{key:"EditListTable-"+t.id,style:{marginBottom:"10px",width:"100%",borderTop:"1px solid #555"},padding:"2px"},a.a.createElement("tbody",null,Object.keys(n).map((function(e){return a.a.createElement("tr",{key:"EditListRow-"+e},a.a.createElement("td",{style:{backgroundColor:"#222",fontWeight:"bold"}},M(e)),a.a.createElement("td",null,a.a.createElement(ln,{label:e,defaultValue:n[e],value:t[e],onChange:o(t,e),width:"100%"})))})))),m?null:a.a.createElement(Te,{value:"Cancel",onClick:function(){i(t.id)()},width:"150px",inline:!0,style:{marginRight:"5px"}}),a.a.createElement(Te,{value:"Close",onClick:function(){0!==t.name.length&&(d(!1),f(!1))},width:"150px",inline:!0}))),a.a.createElement("div",null,a.a.createElement("div",{onClick:function(){d(!0),f(!0)}},"Edit"),R(t)?a.a.createElement("div",{onClick:i(t.id)},"Delete"):a.a.createElement("div",{style:{color:"grey"}},"Delete")))},pn={categories:{modal:{name:"",description:"",type:"income,expense",hidden:!1,startingBalance:0},editString:"_CATEGORY"},funds:{modal:{name:"",description:"",targetAmount:0,complete:!1,startingBalance:0},editString:"_FUND"},accounts:{modal:{name:"",note:"",interestRate:0,startingBalance:0,defaultAccount:!1,closed:!1,extraCharges:0,currency:"\xa3",dateOpened:"date"},editString:"_ACCOUNT"},budgets:{modal:{category:0,amount:0,startDate:"date",endDate:"date"},editString:"_BUDGET"}};function mn(){var e=Object(W.a)(["\n    border: 1px solid white;\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n    }\n"]);return mn=function(){return e},e}var fn=z.a.div(mn()),bn=function(e){var n=e.array,t=void 0===n?[]:n,r=(e.vertical,e.onClickDropdown),o=void 0===r?function(){}:r,i=(e.id,Object(H.useMediaQuery)({maxWidth:700})),l=Object(c.b)(),u=Object(c.c)((function(e){return e.currentPage})),p=u.toLowerCase(),m=Object(d.a)({},pn[p]),f=Object(d.a)({},m.modal),b="ADD"+m.editString,v="UPDATE"+m.editString,g="REMOVE"+m.editString,y=function(e,n){return function(t){var r=t.target.value;"number"===typeof f[n]&&(r=parseFloat(r)),e[n]=r,"false"===e[n]&&(e[n]=!1),"true"===e[n]&&(e[n]=!0),l({type:v,payload:e})}},h=function(e){return function(){l({type:g,payload:e})}},E=function(){var e=Object(d.a)({},f);Object.keys(e).forEach((function(n){"string"===typeof e[n]&&e[n].includes(",")&&(e[n]=e[n].split(",")[0]),"string"===typeof e[n]&&"date"===e[n]&&(e[n]=Object(s.a)(new Date,"yyyy-MM-dd"))})),l({type:b,payload:e})};return i?a.a.createElement(fn,null,a.a.createElement(ze,{value:"Edit",options:t.map((function(e){return{display:e.name,value:e.id}})),onChange:function(e){o(Number(e))()}}),t.map((function(e){return a.a.createElement(sn,{key:"MobileEditGroup-"+e.id,modal:f,obj:e,onChange:y,onDelete:h})})),a.a.createElement(Te,{value:"Add New",width:"150px",onClick:E,color:"#0F0"})):a.a.createElement(fn,null,a.a.createElement("h4",null,"Edit ",u),t.map((function(e){return a.a.createElement(oe,{key:"EditListTable-"+e.id,style:{display:"inline-block",margin:"10px"},padding:"2px 5px"},a.a.createElement("tbody",null,Object.keys(f).map((function(n){return a.a.createElement("tr",{key:"EditListRow-"+n},a.a.createElement("th",null,M(n)),a.a.createElement("td",null,a.a.createElement(ln,{label:n,defaultValue:f[n],value:e[n],onChange:y(e,n),width:"140px"})))})),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"2"},R(e)?a.a.createElement(Te,{value:"Delete",onClick:h(e.id),width:"50%",color:"red"}):a.a.createElement("div",{style:{height:"var(--input-height)",display:"flex",alignItems:"center",justifyContent:"center"}},"Being Used")))))})),a.a.createElement(Te,{value:"Add New",width:"150px",onClick:E,color:"#0F0"}))},vn=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(c.b)(),t=Object(c.c)((function(e){return e.editMode})),o=Object(c.c)((function(e){return I(e.categories)})),i=o.filter((function(e){return!e.hidden})),l=i[0],u=void 0!==l?l.id:void 0,d=void 0!==l?l.name:"",s=Object(c.c)((function(e){return I(e.transactions)})),p=Object(r.useState)(u),m=Object(te.a)(p,2),f=m[0],b=m[1],v=Object(r.useState)(d),g=Object(te.a)(v,2),y=g[0],h=g[1];a.a.useEffect((function(){0!==i.length||t||n({type:"SET_EDIT_MODE",payload:!0})}));var E=function(e){return function(){var t=i.find((function(n){return n.id===e}));b(e),h(t.name),n({type:"SET_EDIT_MODE",payload:!1})}},O=s.filter((function(e){return void 0!==e.category&&e.category===f}));return a.a.createElement("div",null,a.a.createElement(cn,null,a.a.createElement(Ne,null,e?null:a.a.createElement(Pe,{heading:"Categories",array:i,onClickObj:E,selected:f}),t?a.a.createElement(bn,{array:o,onClickDropdown:E,id:f}):a.a.createElement(an,{transactions:O,heading:y,onClickDropdown:E,objArray:i,id:f}))))},gn=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(c.b)(),t=Object(c.c)((function(e){return e.editMode})),o=Object(c.c)((function(e){return I(e.funds)})),i=o.filter((function(e){return!e.complete})),l=i[0],d=void 0!==l?l.id:void 0,s=void 0!==l?l.name:"",p=Object(c.c)((function(e){return I(e.transactions)})),m=Object(c.c)((function(e){return I(e.fundAdditions)})),f=Object(r.useState)(d),b=Object(te.a)(f,2),v=b[0],g=b[1],y=Object(r.useState)(s),h=Object(te.a)(y,2),E=h[0],O=h[1];a.a.useEffect((function(){0!==i.length||t||n({type:"SET_EDIT_MODE",payload:!0})}));var x=function(e){return function(){var t=i.find((function(n){return n.id===e}));g(e),O(t.name),n({type:"SET_EDIT_MODE",payload:!1})}},j=p.filter((function(e){return void 0!==e.fund&&e.fund===v})),w=m.filter((function(e){return void 0!==e.fund&&e.fund===v})),k=[].concat(Object(u.a)(j),Object(u.a)(w));return a.a.createElement("div",null,a.a.createElement(cn,null,a.a.createElement(Ne,null,e?null:a.a.createElement(Pe,{heading:"Funds",array:i,onClickObj:x,selected:v}),t?a.a.createElement(bn,{array:o,onClickDropdown:x,id:v}):a.a.createElement(an,{transactions:k,heading:E,onClickDropdown:x,objArray:i,id:v}))))},yn=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(c.b)(),t=Object(c.c)((function(e){return e.editMode})),o=Object(c.c)((function(e){return I(e.accounts)})),i=o.filter((function(e){return!e.closed})),l=i[0],u=void 0!==l?l.id:void 0,d=void 0!==l?l.name:"",s=Object(c.c)((function(e){return I(e.transactions)})),p=Object(r.useState)(u),m=Object(te.a)(p,2),f=m[0],b=m[1],v=Object(r.useState)(d),g=Object(te.a)(v,2),y=g[0],h=g[1];a.a.useEffect((function(){0!==i.length||t||n({type:"SET_EDIT_MODE",payload:!0})}));var E=function(e){return function(){var t=i.find((function(n){return n.id===e}));b(e),h(t.name),n({type:"SET_EDIT_MODE",payload:!1})}},O=s.filter((function(e){return void 0!==e.from&&void 0!==e.to&&(e.from===f||e.to===f)||void 0!==e.account&&e.account===f}));return a.a.createElement("div",null,a.a.createElement(cn,null,a.a.createElement(Ne,null,e?null:a.a.createElement(Pe,{heading:"Accounts",array:i,onClickObj:E,selected:f}),t?a.a.createElement(bn,{array:o,vertical:!0,onClickDropdown:E,id:f}):a.a.createElement(an,{transactions:O,heading:y,id:f,onClickDropdown:E,objArray:i}))))},hn="https://budget-app-ap1.herokuapp.com/",En=function(){var e=Object(c.b)(),n=Object(c.c)((function(e){return e.user})),t=Object(c.c)((function(e){return e.lastSync})),o=Object(c.c)((function(e){return e.fetching})),i=Object(c.c)((function(e){return e.general.payPeriodType})),l=Object(c.c)((function(e){return e.general.currencySymbol})),u=Object(c.c)((function(e){return e.general.showDecimals})),d=Object(c.c)((function(e){return e.general.startDate})),s=Object(c.c)((function(e){return e.general.colourScheme})),p=function(n){return e({type:"SET_USER",payload:n})},m=function(n){return e({type:"SET_MESSAGE",payload:n})},f=function(n){return e({type:"SET_FETCHING",payload:n})},b=Object(r.useState)(""),v=Object(te.a)(b,2),g=v[0],y=v[1],h=Object(r.useState)(""),E=Object(te.a)(h,2),O=E[0],x=E[1],j=Object(c.c)((function(e){return{general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions,user:e.user}})),w=t.toFixed(0),k="".concat(w.slice(6,8),"/").concat(w.slice(4,6),"/").concat(w.slice(0,4)," at ").concat(w.slice(8,10),":").concat(w.slice(10,12));return 0!==t&&void 0!==t||(k="Never"),a.a.createElement("div",null,a.a.createElement(cn,null,a.a.createElement("h4",null,"Settings"),a.a.createElement(je,{label:"Start Date",type:"date",value:d,onChange:function(n){return e({type:"SET_START_DATE",payload:n.target.value})},labelWidth:"150px"}),a.a.createElement(je,{label:"Currency Symbol",value:l,onChange:function(n){return e({type:"SET_CURRENCY_SYMBOL",payload:n.target.value})},labelWidth:"150px"}),a.a.createElement(je,{label:"Show Decimals",type:"dropdown",value:u,options:[{value:!0,display:"Yes"},{value:!1,display:"No"}],onChange:function(n){var t="false"!==n.target.value;e({type:"SET_SHOW_DECIMALS",payload:t})},labelWidth:"150px"}),a.a.createElement(je,{label:"Pay Period",type:"dropdown",value:i,onChange:function(n){return e({type:"SET_PAY_PERIOD_TYPE",payload:n.target.value})},labelWidth:"150px",options:[{value:"monthly",display:"Monthly"},{value:"fourWeekly",display:"4-Weekly"},{value:"twoWeekly",display:"2-Weekly"},{value:"weekly",display:"Weekly"}]}),a.a.createElement(je,{label:"Colour Scheme",type:"dropdown",value:s,options:[{value:"dark",display:"Dark"},{value:"black",display:"Black"},{value:"light",display:"Light"}],onChange:function(n){var t=n.target.value;F(t),function(n){e({type:"SET_COLOUR_SCHEME",payload:n})}(t)},labelWidth:"150px"}),a.a.createElement("h4",null,"Syncing"),a.a.createElement("p",null,"This will allow you to upload your data to a server for backup and to sync with other devices."),a.a.createElement("p",null,"Last synced on: ",k),null===n?a.a.createElement("div",null,a.a.createElement(je,{label:"Username",value:g,onChange:function(e){return y(e.target.value)}}),a.a.createElement(je,{label:"Password",value:O,onChange:function(e){return x(e.target.value)},type:"password"}),a.a.createElement(Te,{value:"Login",width:"120px",inline:!0,onClick:function(){e({type:"SET_MESSAGE",payload:{text:"",type:""}}),f(!0),fetch(hn+"api/login",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:g,password:O})}).then((function(e){return e.json()})).then((function(e){f(!1),"success"===e.status?(y(""),x(""),p(e.user)):("logout"===e.type&&p(null),m({text:e.message,type:"error"}))})).catch((function(e){console.log(e.message),m({text:"Failed to contact server.",type:"error"}),f(!1)}))},loading:o})," ",a.a.createElement(Te,{value:"Register",width:"120px",inline:!0,onClick:function(){g.length<3?m({text:"Username should be 3 or more characters",type:"error"}):O.length<5?m({text:"Password should be 5 or more characters",type:"error"}):(m({text:"",type:""}),f(!0),fetch(hn+"api/register",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:g,password:O})}).then((function(e){return e.json()})).then((function(n){console.log(n),y(""),x(""),f(!1),"success"===n.status?e({type:"SET_USER",payload:n.user}):m({text:n.message,type:"error"})})).catch((function(e){console.log(e.message),p(null),m({text:"Failed to contact server. Please try again.",type:"error"}),f(!1)})))},loading:o})):a.a.createElement("div",null,a.a.createElement(Te,{value:"Sync Now",width:"120px",inline:!0,onClick:function(){U(j,e,!0)},loading:o})," ",a.a.createElement(Te,{value:"Logout",width:"120px",inline:!0,onClick:function(){p(null)}}))))};function On(){var e=Object(W.a)(["\n    & > * {\n        transition: 0.3s;\n    }\n\n    & > svg {\n        background-color: var(--footer-bg);\n        border: 3px solid var(--footer-border);\n        border-radius: 100%;\n        font-size: 51px;\n        position: fixed;\n        bottom: 5px;\n        left: 50%;\n        transform: translate(-50%,",");\n        z-index: 4;\n        fill: var(--footer-border);\n    }\n\n    & > div.left, & > div.right {\n        border-bottom: 3px solid var(--footer-border);\n        position: fixed;\n        bottom: 11px;\n        width: calc(50% - 22.5px);\n        height: 20px;\n        z-index: 4;\n        ",";\n    }\n\n    & > div.right {\n        border-left: 3px solid var(--footer-border);\n        right: 0px;\n        border-radius: 0px 0px 0px 20px;\n    }\n\n    & > div.left {\n        border-right: 3px solid var(--footer-border);\n        left: 0px;\n        border-radius: 0px 0px 20px 0px;\n    }\n\n    & > div.middle {\n        background-color: var(--footer-bg);\n        position: fixed;\n        z-index: 1;\n        width: 55px;\n        height: 55px;\n        left: 50%;\n        transform: translate(-50%,",") rotate(-45deg);\n        bottom: -16px;\n        border-radius: 0px 51px 0px 100%;\n    }\n"]);return On=function(){return e},e}function xn(){var e=Object(W.a)(["\n    position: fixed;\n    bottom: -275px;\n    transition: 0.3s;\n    width: 100%;\n    height: 288px;\n    background-color: var(--footer-bg);\n    padding: 10px;\n    border: 2px solid var(--footer-bg);\n    z-index: 3;\n    ",";\n\n    & > div {\n        margin: auto;\n    }\n"]);return xn=function(){return e},e}var jn=z.a.div(xn(),(function(e){return e.open?"transform: translateY(-275px);":""})),wn=z.a.div(On(),(function(e){return e.open?"-275px":"0px"}),(function(e){return e.open?"transform: translateY(-275px);":""}),(function(e){return e.open?"-275px":"0px"})),kn=function(){var e=Object(H.useMediaQuery)({maxWidth:700}),n=Object(r.useState)(!1),t=Object(te.a)(n,2),o=t[0],i=t[1],c=Object(r.useState)(!1),l=Object(te.a)(c,2),u=l[0],d=l[1];if(!e)return null;var s=function(){i(!o),setTimeout((function(){d(!u)}),300)};return a.a.createElement("div",null,a.a.createElement(wn,{open:o},u?a.a.createElement(K.b,{onClick:s}):a.a.createElement(K.a,{onClick:s}),a.a.createElement("div",{className:"right"}),a.a.createElement("div",{className:"left"}),a.a.createElement("div",{className:"middle"})),a.a.createElement(jn,{open:o},a.a.createElement(De,{onAdd:function(){i(!1),setTimeout((function(){d(!1)}),300)}})))};var Cn=function(){var e=Object(c.b)(),n=Object(c.c)((function(e){return e.currentPage})),t=Object(c.c)((function(e){return e.addTransaction})),o=Object(c.c)((function(e){return e.user})),i=Object(c.c)((function(e){return{general:e.general,accounts:e.accounts,categories:e.categories,budgets:e.budgets,funds:e.funds,fundAdditions:e.fundAdditions,transactions:e.transactions}}));return Object(r.useEffect)((function(){null!==o&&U(i,e)}),[]),a.a.createElement("div",{className:"App"},a.a.createElement(J,null),a.a.createElement(ne,null),"Home"===n?a.a.createElement(ge,null):null,"Categories"===n?a.a.createElement(vn,null):null,"Funds"===n?a.a.createElement(gn,null):null,"Accounts"===n?a.a.createElement(yn,null):null,"Settings"===n?a.a.createElement(En,null):null,t?a.a.createElement(Z,null,a.a.createElement(De,null)):null,a.a.createElement(kn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,{store:G},a.a.createElement(Cn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.1d24beb8.chunk.js.map