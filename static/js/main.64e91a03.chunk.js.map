{"version":3,"sources":["redux/reducer.js","functions.js","redux/store.js","components/Header.js","components/TopPopup.js","components/MessagePopup.js","components/Table.js","components/Grid.js","components/BudgetInput.js","components/AmountGroup.js","components/IconButton.js","containers/SummaryTables.js","components/Input.js","components/LabelledInput.js","components/Button.js","containers/AddTransaction.js","components/ListContainer.js","components/List.js","components/Transaction.js","components/HeaderDropdown.js","components/TotalsDisplay.js","components/Modal.js","components/TransactionDetails.js","components/Transactions.js","components/Container.js","components/EditInput.js","components/MobileEditGroup.js","modals.js","containers/EditList.js","containers/Categories.js","containers/Funds.js","containers/Accounts.js","containers/Settings.js","containers/Footer.js","App.js","serviceWorker.js","index.js"],"names":["initialState","currentPage","addTransaction","editMode","lastSync","user","message","text","type","general","payPeriodType","currencySymbol","colourScheme","showDecimals","startDate","updated","accounts","categories","id","name","description","hidden","dateCreated","budgets","funds","targetAmount","complete","fundAdditions","transactions","updateBudget","newBudget","Number","format","Date","previousBudget","getPreviousBudget","category","budget","find","obj","undefined","amount","removeObject","replaceObject","newBudgets","sort","a","b","compareAsc","parseISO","date","i","length","compareDesc","arr","map","deleted","object","copy","index","findIndex","splice","replaceAccount","defaultAccount","forEach","getNewArray","createNameObjects","categoryNames","fundNames","fund","getFundTarget","tr","getTransactionHeading","getPeriodOfTransaction","dates","trDate","periodDate","parseCurrency","value","store","getState","isNaN","string","toFixed","negative","includes","replace","split","fromRight","unshift","join","checkBudget","categoryId","number","getLatestBudget","checkFundTarget","target","capitalize","slice","toUpperCase","fromCamelCase","replaceCapitals","getAmount","transaction","accountId","asCurrency","from","to","checkIfCanDelete","allObjs","account","filterDeleted","filter","changeColourScheme","scheme","root","document","documentElement","style","setProperty","sync","state","dispatch","manual","backupData","fetch","method","headers","credentials","body","JSON","stringify","then","res","json","data","status","console","log","payload","catch","err","createStore","action","dateValue","newAccounts","newCategories","newFunds","newFundAdditions","newTransactions","updatedAccounts","updatedCategories","updatedBudgets","updatedFunds","updatedFundAdditions","removedAccounts","removedCategories","removedBudgets","removedFunds","removedFundAdditions","removedTransactions","localStorage","getItem","parse","getFromLocalStorage","applyMiddleware","next","result","setItem","StyledComp","styled","div","props","isMobile","Header","useMediaQuery","maxWidth","useDispatch","useSelector","onClick","className","TopPopup","children","MessagePopup","Table","table","padding","Grid","template","start","end","input","BudgetInput","useState","oldValue","setOldValue","currentValue","setCurrentValue","onChange","e","parseFloat","onBlur","carryOver","AmountGroup","title","editBudget","setEditMode","color","size","bordered","width","topAdjust","IconButton","Icon","SummaryTables","filteredFunds","periodLength","daysInPeriod","currentDate","today","add","months","days","latestDate","latestDates","numberOfPeriods","push","reverse","getLatestDates","setLatestDate","editCategory","setEditCategory","rows","filteredTransactions","filteredFundAdditions","addFunc","heading","Object","values","row","incomeCategories","expenseCategories","remaining","getSummaryRows","summaryTotals","saved","startingBalance","spent","addToTotals","totalRemaining","getSummaryTotals","accountSummary","objs","total","reduce","t","c","getAccountSummary","setPreviousDate","newIndex","indexOf","newDate","setNextDate","displayDate","getHeading","fontSize","fontWeight","margin","FiArrowLeft","FiArrowRight","key","noBorder","Input","placeholder","options","groups","as","option","display","group","label","disabled","labelWidth","LabelledInput","inputValue","inline","Button","AddTransaction","onAdd","defaultAccountObj","setType","setAmount","setDescription","setDate","setAccount","setFund","setCategory","setFrom","setTo","reset","types","ListContainer","List","array","onClickObj","selected","getType","page","Transaction","showDelete","FaTrashAlt","open","maxHeight","HeaderDropdown","setOpen","itemValue","TotalsDisplay","fundObj","Fragment","Modal","visible","getTableRow","TransactionDetails","onClose","onDelete","parsedObj","copyTr","parseTransaction","textAlign","formatMethod","formatDate","StyledGroup","qty","Transactions","onClickDropdown","objArray","closed","setClosed","details","setDetails","showDetails","setShowDetails","currentObj","organisedObj","formatted","organisedArr","keys","month","first","second","onToggleDetails","categoryType","fundInfo","closedObj","dateOpened","Container","EditInput","defaultValue","itemWidth","MobileEditGroup","modal","editing","setEditing","marginBottom","borderTop","backgroundColor","marginRight","modals","editString","note","interestRate","extraCharges","currency","endDate","EditList","vertical","modalKey","toLowerCase","modalObj","update","remove","newObj","colSpan","height","alignItems","justifyContent","Categories","firstCategory","firstCategoryId","firstCategoryName","categoryName","setCategoryName","React","useEffect","Funds","firstFund","firstFundId","firstFundName","fundName","setFundName","combined","Accounts","firstAccount","firstAccountId","firstAccountName","accountName","setAccountName","Settings","username","setUsername","password","setPassword","lastSyncDate","lastSyncDisplay","setColourScheme","BottomArea","MobileAddButton","Footer","isOpen","isFullyOpen","setFullyOpen","toggle","setTimeout","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.64e91a03.chunk.js","sourcesContent":["import { format, compareAsc, compareDesc, parseISO } from 'date-fns';\n\nconst initialState = {\n    currentPage: 'Home',\n    addTransaction: false,\n    editMode: false,\n    lastSync: 0,\n    user: null,\n    message: {\n        text: '', \n        type: ''\n    },\n    general: {\n        payPeriodType: 'fourWeekly',\n        currencySymbol: '£',\n        colourScheme: 'dark',\n        showDecimals: true,\n        startDate: '2019-11-08',\n        updated: 20200220153001,\n    },\n    accounts: [],\n    categories: [\n        {\n            id: 20200723153000,\n            name: 'Earnings',\n            description: '',\n            type: 'income',\n            hidden: false,\n            dateCreated: '2020-06-03'\n        },\n        {\n            id: 20200723153001,\n            name: 'Interest',\n            description: '',\n            type: 'income',\n            hidden: false,\n            dateCreated: '2020-06-03'\n        },\n        {\n            id: 20200723153102,\n            name: 'Food',\n            description: '',\n            type: 'expense',\n            hidden: false,\n            dateCreated: '2020-06-03'\n        },\n    ],\n    budgets: [],\n    funds: [\n        {\n            id: 20200723153130,\n            name: 'Savings',\n            description: 'General Savings',\n            targetAmount: 0,\n            complete: false,\n            dateCreated: '2020-01-03'\n        }\n    ],\n    fundAdditions: [],\n    transactions: [],\n};\n\nexport const reducer = (state = initialState, action) => {\n    let value = action.payload;\n    let dateValue = Number(format(new Date(),'yyyyMMddHHmmss'));\n    switch(action.type) {\n        case 'SET_CURRENT_PAGE': return {...state, currentPage: value, editMode: false, addTransaction: false, message: {text: '', type: ''}};\n        case 'SET_ADD_TRANSACTION': return {...state, addTransaction: value};\n        case 'SET_EDIT_MODE': return {...state, editMode: value};\n        case 'SET_USER': return {...state, user: value};\n        case 'SET_MESSAGE': return {...state, message: value};\n\n        case 'SET_PAY_PERIOD_TYPE': return {...state, general: {...state.general, payPeriodType: value, updated: dateValue}};\n        case 'SET_COLOUR_SCHEME': return {...state, general: {...state.general, colourScheme: value, updated: dateValue}};\n        case 'SET_CURRENCY_SYMBOL': return {...state, general: {...state.general, currencySymbol: value, updated: dateValue}};\n        case 'SET_SHOW_DECIMALS': return {...state, general: {...state.general, showDecimals: value, updated: dateValue}};\n        case 'SET_START_DATE': return {...state, general: {...state.general, startDate: value, updated: dateValue}};\n\n        case 'ADD_ACCOUNT': let newAccounts = getNewArray(state.accounts, value); return {...state, accounts: newAccounts};\n        case 'ADD_CATEGORY': let newCategories = getNewArray(state.categories, value); return {...state, categories: newCategories};\n        case 'ADD_BUDGET': let newBudgets = getNewArray(state.budgets, value); return {...state, budgets: newBudgets};\n        case 'ADD_FUND': let newFunds = getNewArray(state.funds, value); return {...state, funds: newFunds};\n        case 'ADD_FUND_ADDITION': let newFundAdditions = getNewArray(state.fundAdditions, value); return {...state, fundAdditions: newFundAdditions, addTransaction: false};\n        case 'ADD_TRANSACTION': let newTransactions = getNewArray(state.transactions, value); return {...state, transactions: newTransactions, addTransaction: false};\n\n        case 'UPDATE_ACCOUNT': let updatedAccounts = replaceAccount(state.accounts, value); return {...state, accounts: updatedAccounts};\n        case 'UPDATE_CATEGORY': let updatedCategories = replaceObject(state.categories, value); return {...state, categories: updatedCategories};\n        case 'UPDATE_BUDGET': let updatedBudgets = updateBudget(state.budgets, value); return {...state, budgets: updatedBudgets};\n        case 'UPDATE_FUND': let updatedFunds = replaceObject(state.funds, value); return {...state, funds: updatedFunds};\n        case 'UPDATE_FUND_ADDITION': let updatedFundAdditions = replaceObject(state.fundAdditions, value); return {...state, fundAdditions: updatedFundAdditions};\n\n        case 'REMOVE_ACCOUNT': let removedAccounts = removeObject(state.accounts, value); return {...state, accounts: removedAccounts};\n        case 'REMOVE_CATEGORY': let removedCategories = removeObject(state.categories, value); return {...state, categories: removedCategories};\n        case 'REMOVE_BUDGET': let removedBudgets = removeObject(state.budgets, value); return {...state, budgets: removedBudgets};\n        case 'REMOVE_FUND': let removedFunds = removeObject(state.funds, value); return {...state, funds: removedFunds};\n        case 'REMOVE_FUND_ADDITION': let removedFundAdditions = removeObject(state.fundAdditions, value); return {...state, fundAdditions: removedFundAdditions};\n        case 'REMOVE_TRANSACTION': let removedTransactions = removeObject(state.transactions, value); return {...state, transactions: removedTransactions};\n\n        case 'SYNC': return {...state, ...value, lastSync: dateValue};\n        default: return state;\n    }\n}\n\nconst updateBudget = (budgets, newBudget) => {\n    newBudget.id = Number(format(new Date(),'yyyyMMddHHmmss')); \n    //get previous budget\n    let previousBudget = getPreviousBudget(budgets, newBudget.startDate, newBudget.category);\n\n    //check if there's already a budget with this start date\n    let budget = budgets.find(obj => obj.startDate === newBudget.startDate && obj.category === newBudget.category);\n    if (budget !== undefined) {\n        //check if this budget is same as previous - then delete\n        if (previousBudget !== undefined && previousBudget.amount === newBudget.amount) {\n            return removeObject(budgets, budget.id);\n        }\n\n        budget.amount = newBudget.amount;\n        return replaceObject(budgets, budget);\n    }\n\n    //if there's no budget already, but new budget is same as previous budget, don't do anything\n    if (previousBudget !== undefined && newBudget.amount === previousBudget.amount) return budgets;\n\n    //if no budget already, and new budget is different, then add new\n    let newBudgets = [...budgets, newBudget];\n    newBudgets.sort((a,b) => {\n        return compareAsc(parseISO(a.startDate), parseISO(b.startDate));\n    });\n\n    return newBudgets;\n}\n\nconst getPreviousBudget = (budgets, date, category) => {\n    for (let i = budgets.length-1; i >= 0; i--) {\n        let budget = budgets[i];\n        if (budget.category !== category) continue;\n        if (compareDesc(parseISO(budget.startDate), parseISO(date)) === 1) return budget;\n    }\n    return undefined;\n}\n\nconst removeObject = (arr, id) => {\n    return arr.map(obj => {\n        if (obj.id === id) {\n            let date = Number(format(new Date(),'yyyyMMddHHmmss'));\n            return {id: obj.id, deleted: date};\n        } else return obj;\n    });\n}\n\nconst replaceObject = (arr, object) => {\n    let copy = [...arr];\n    let index = copy.findIndex(obj => obj.id === object.id);\n    if (index === -1) return arr;\n    object.updated = Number(format(new Date(),'yyyyMMddHHmmss'));\n    copy.splice(index,1,object);\n    return copy;\n}\n\nconst replaceAccount = (arr, object) => {\n    let copy = [...arr];\n\n    //there can only be one default account\n    if (object.defaultAccount === true) {\n        copy.forEach(obj => obj.id !== object.id ? obj.defaultAccount = false : null);\n    }\n\n    let index = copy.findIndex(obj => obj.id === object.id);\n    if (index === -1) return arr;\n    object.updated = Number(format(new Date(),'yyyyMMddHHmmss'));\n    copy.splice(index,1,object);\n    return copy;\n}\n\nconst getNewArray = (arr, object) => {\n    object.id = Number(format(new Date(),'yyyyMMddHHmmss'));    \n    return [...arr, object];\n}","import { add, compareAsc, compareDesc, parseISO, format } from 'date-fns';\nimport store from './redux/store';\n\nexport const getLatestDates = (startDate, periodLength) => {\n    let daysInPeriod = 0;\n    switch (periodLength) {\n        case 'monthly': daysInPeriod = 30; break;\n        case 'weekly': daysInPeriod = 7; break;\n        case 'twoWeekly': daysInPeriod = 14; break;\n        case 'fourWeekly': daysInPeriod = 28; break;\n        default: daysInPeriod = 30; break;\n    }\n\n    //go forwards from starting date to todays date\n    let currentDate = parseISO(startDate);\n    let today = new Date();\n\n    while (compareAsc(today, currentDate) === 1) {\n        if (periodLength === 'monthly') currentDate = add(currentDate, {months: 1});\n        else currentDate = add(currentDate, {days: daysInPeriod});\n    }\n\n    //go back 1 pay period to get last pay date\n    let latestDate = periodLength === 'monthly' ? add(currentDate, {months: -1}) : add(currentDate, {days: -daysInPeriod});\n\n    //go back and add to array previous pay periods (up to 12/13);\n    let latestDates = [];\n    let numberOfPeriods = periodLength === 'fourWeekly' ? 13 : 12;\n    for (let i = 0; i < numberOfPeriods; i++) {\n        latestDates.push(format(latestDate, 'yyyy-MM-dd'));\n        latestDate = periodLength === 'monthly' ? add(latestDate, {months: -1}) : add(latestDate, {days: -daysInPeriod});\n        if (compareAsc(parseISO(startDate), latestDate) >= 1) break;\n    }\n\n    latestDates.reverse();\n\n    return latestDates;\n};\n\nexport const getSummaryTotals = (transactions, funds, categories, fundAdditions) => {\n    let obj = {};\n\n    //store names in object for quick lookup\n    let {categoryNames, fundNames} = createNameObjects(categories, funds);\n\n    //make sure every key has a value even if no transactions for it\n    funds.forEach(fund => {\n        let saved = fund.startingBalance > 0 ? fund.startingBalance : 0;\n        obj[fund.name] = {saved: saved, target: fund.targetAmount, spent: 0, remaining: saved};\n    });\n    categories.forEach(category => obj[category.name] = category.startingBalance > 0 ? category.startingBalance : 0);\n\n    const addToTotals = tr => {\n        let heading = getTransactionHeading(fundNames, categoryNames, tr);\n\n        if (tr.fund !== undefined) {\n            let target = getFundTarget(funds, tr);            \n            if (obj[heading] === undefined) obj[heading] = {saved: 0, target: target, spent: 0, remaining: 0};            \n            \n            if (tr.account > 0) obj[heading].spent += tr.amount;\n            else obj[heading].saved += tr.amount;\n\n            obj[heading].remaining = obj[heading].saved - obj[heading].spent;\n\n            return;\n        }\n\n        if (obj[heading] === undefined) obj[heading] = 0;\n        obj[heading] += tr.amount;\n    }\n\n    transactions.forEach(addToTotals);\n    fundAdditions.forEach(addToTotals);\n\n    //work out total remaining\n    const incomeCategories = categories.filter(obj => obj.type === 'income');\n    const expenseCategories = categories.filter(obj => obj.type === 'expense');\n\n    let totalRemaining = 0;\n    incomeCategories.forEach(category => totalRemaining += obj[category.name]);\n    expenseCategories.forEach(category => totalRemaining -= obj[category.name]);\n    funds.forEach(fund => totalRemaining -= obj[fund.name].saved);\n    obj.remaining = totalRemaining;\n\n    return obj;\n}\n\nexport const getSummaryRows = (dates, transactions, funds, categories, fundAdditions) => {\n    if (dates.length === 0) return [];    \n\n    //create object to store final values\n    let obj = {};\n    dates.forEach(date => obj[date] = {});\n\n    //store names in object for quick lookup\n    let {categoryNames, fundNames} = createNameObjects(categories, funds);\n\n    //filter out transactions that happened before first date and those which are for funds\n    let filteredTransactions = transactions.filter(tr => {\n        if (tr.fund !== undefined) return false;\n        if (compareAsc(parseISO(tr.date), parseISO(dates[0])) >= 0) return true;\n        return false;\n    });\n\n    //filter out fund additions that happened before first date\n    let filteredFundAdditions = fundAdditions.filter(tr => {\n        if (compareAsc(parseISO(tr.date), parseISO(dates[0])) >= 0) return true;\n        return false;\n    })\n    \n\n    //add transaction amounts to correct heading in object\n    const addFunc = (tr) => {\n        let periodDate = getPeriodOfTransaction(dates, tr.date);\n        let heading = getTransactionHeading(fundNames, categoryNames, tr);\n        if (obj[periodDate][heading] === undefined) obj[periodDate][heading] = 0;\n        obj[periodDate][heading] += tr.amount;\n    }\n    filteredTransactions.forEach(addFunc);\n    filteredFundAdditions.forEach(addFunc);\n\n    //calculate remaining amount in each period\n    Object.values(obj).forEach(row => {        \n        const incomeCategories = categories.filter(obj => obj.type === 'income');\n        const expenseCategories = categories.filter(obj => obj.type === 'expense');\n\n        let remaining = 0;\n        incomeCategories.forEach(obj => remaining += row[obj.name] !== undefined ? row[obj.name] : 0);\n        expenseCategories.forEach(obj => remaining -= row[obj.name] !== undefined ? row[obj.name] : 0);\n        funds.forEach(obj => remaining -= row[obj.name] !== undefined ? row[obj.name] : 0);\n        \n        row.remaining = remaining;\n    });\n    \n    return obj;\n};\n\nexport const getAccountSummary = (transactions, accounts, categories) => {\n    let objs = [];\n\n    accounts.forEach(account => {\n        const filteredTransactions = transactions.filter(obj => {\n            if (obj.from !== undefined && obj.to !== undefined && (obj.from === account.id || obj.to === account.id)) return true; \n            return obj.account !== undefined && obj.account === account.id ? true : false;\n        });   \n\n        let total = filteredTransactions.reduce((t,c) => {\n            t += getAmount(c, categories, account.id, false);\n            return t;\n        }, 0);        \n\n        if (account.startingBalance !== undefined) {\n            total += parseFloat(account.startingBalance);\n        }\n\n        objs.push({name: account.name, total: total, id: account.id});\n    });\n\n    return objs;\n}\n\nconst createNameObjects = (categories, funds) => {\n    let categoryNames = {};\n    let fundNames = {};\n\n    categories.forEach(category => categoryNames[category.id] = category.name);\n    funds.forEach(fund => fundNames[fund.id] = fund.name);\n\n    return {categoryNames, fundNames};\n}\n\nconst getFundTarget = (funds, tr) => {\n    let fund = funds.find(obj => obj.id === tr.fund);\n    if (fund !== undefined) return fund.targetAmount;\n    return 0;\n}\n\nconst getTransactionHeading = (fundNames, categoryNames, tr) => {\n    if (tr.category !== undefined) {\n        let name = categoryNames[tr.category];\n        if (name !== undefined) return name;\n    } else if (tr.fund !== undefined) {\n        let name = fundNames[tr.fund];\n        if (name !== undefined) return name;\n    }\n    return 'Un-Categorised';\n}\n\nconst getPeriodOfTransaction = (dates, trDate) => {\n    let periodDate = dates[0];\n\n    for (let date of dates) {\n        if (compareAsc(parseISO(trDate), parseISO(date)) >= 0) periodDate = date;\n        else break;\n    }\n    \n    return periodDate;\n};\n\nexport const parseCurrency = (value) => {\n    let { general } = store.getState();    \n    let { currencySymbol, showDecimals } = general;    \n\n    //make sure it doens't return -£0.00\n    if (value > -0.009 && value < 0.009) return `${currencySymbol}0${showDecimals ? '.00' : ''}`;\n    if (value === null || value === undefined || value === 0 || isNaN(value)) return `${currencySymbol}0${showDecimals ? '.00' : ''}`;\n    let string = Number(value).toFixed(showDecimals ? 2 : 0);    \n\n    let negative = false;\n    if (string.includes('-')) {\n        string = string.replace('-','');\n        negative = true;\n    }\n    let arr = string.split('');\n\n    for (let i = arr.length-4; i >= 0; i--) {\n        let fromRight = arr.length - i - 4;\n        if (fromRight > 0 && fromRight%3 === 0) arr[i] += ',';\n    }\n\n    arr.unshift(currencySymbol);\n    if (negative) arr.unshift('-');\n    return arr.join('');    \n}\n\nexport const checkBudget = (budgets, date, categoryId, transactions, number=false) => {\n    let budget = getLatestBudget(budgets, date, categoryId);\n\n    if (budget !== undefined && budget.amount > 0) {\n        if (number) return budget.amount;\n        return ` / ${parseCurrency(budget.amount)}`;\n    } else {\n        if (number) return 0;\n        return '';\n    }    \n}\n\n\nconst getLatestBudget = (budgets, date, category) => {\n    budgets.sort((a,b) => {\n        return compareAsc(parseISO(a.startDate), parseISO(b.startDate));\n    });\n\n    for (let i = budgets.length-1; i >= 0; i--) {\n        let budget = budgets[i];\n        if (budget.category !== category) continue;\n        if (compareDesc(parseISO(budget.startDate), parseISO(date)) >= 0) return budget;\n    }\n    return undefined;\n}\n\nexport const checkFundTarget = (fund) => {\n    if (fund === undefined) return '';\n    if (fund.target !== 0) return ` / ${parseCurrency(fund.target)}`;\n    else return '';\n}\n\nexport const capitalize = (string) => {\n    return string.slice(0,1).toUpperCase() + string.slice(1);\n}\n\nexport const toCamelCase = (string) => {\n    let removeSpaces = string.replace(/ /g, '');\n    return removeSpaces.slice(0,1).toLowerCase() + removeSpaces.slice(1);\n}\n\nexport const fromCamelCase = (string) => {\n    let replaceCapitals = string.replace(/[A-Z]/g, ' $&');\n    return capitalize(replaceCapitals);\n}\n\n//determine whether amount should be positive or negative\nexport const getAmount = (transaction, categories, accountId, asCurrency=true) => {\n    //fund addition, so positive\n    if (transaction.type === undefined) return asCurrency ? parseCurrency(transaction.amount) : transaction.amount;\n\n    //transaction for a fund, so negative\n    if (transaction.fund !== undefined) return asCurrency ? parseCurrency(-transaction.amount) : -transaction.amount;\n\n    if (transaction.category !== undefined) {\n        let category = categories.find(obj => obj.id === transaction.category);\n        if (category !== undefined) {\n            //transaction for expense category, so negative\n            if (category.type === 'expense') return asCurrency ? parseCurrency(-transaction.amount) : -transaction.amount;\n\n            //transaction for income category, so positive\n            if (category.type ===  'income') return asCurrency ? parseCurrency(transaction.amount) : transaction.amount;\n        } else {\n            //has a category, but can't find it, so return 0\n            return asCurrency ? parseCurrency(0) : 0;\n        }\n    }    \n\n    if (transaction.from !== undefined && accountId !== undefined) {\n        //transfer from this account, so negative\n        if (transaction.from === accountId) return asCurrency ? parseCurrency(-transaction.amount) : -transaction.amount;\n\n        //transfer to this account, so positive\n        if (transaction.to === accountId) return asCurrency ? parseCurrency(transaction.amount) : transaction.amount;\n    }\n}\n\nexport const checkIfCanDelete = (obj) => {\n    let id = obj.id;\n\n    let { transactions, fundAdditions, budgets } = store.getState();\n\n    let allObjs = [...transactions, ...fundAdditions, ...budgets];\n\n    for (let obj of allObjs) {\n        if (obj.category === id) return false;\n        if (obj.fund === id) return false;\n        if (obj.account === id) return false;\n    }\n\n    return true;\n}\n\nexport const filterDeleted = (arr) => {\n    return arr.filter(obj => obj.deleted !== undefined ? false : true);\n}\n\nexport const formatDate = (date, formatMethod='MMM d, yyyy') => {\n    if (date === undefined) return '';\n    if (date.length == 0) return '';\n    return format(parseISO(date), formatMethod);\n} \n\nexport const parseTransaction = (tr) => {\n    let { categories, accounts, funds } = store.getState();\n    let copyTr = {...tr};\n\n    if (copyTr.category !== undefined) {\n        let category = categories.find((obj) => obj.id === copyTr.category);\n        if (category !== undefined) copyTr.category = category.name;\n    }\n\n    if (copyTr.account !== undefined) {\n        let account = accounts.find((obj) => obj.id === copyTr.account);\n        if (account !== undefined) copyTr.account = account.name;\n    }\n\n    if (copyTr.fund !== undefined) {\n        let fund = funds.find((obj) => obj.id === copyTr.fund);\n        if (fund !== undefined) copyTr.fund = fund.name;\n    }\n\n    if (copyTr.from !== undefined) {\n        let account = accounts.find((obj) => obj.id === copyTr.from);\n        if (account !== undefined) copyTr.from = account.name;\n    }\n\n    if (copyTr.to !== undefined) {\n        let account = accounts.find((obj) => obj.id === copyTr.to);\n        if (account !== undefined) copyTr.to = account.name;\n    }\n\n    return copyTr;\n}\n\nexport const changeColourScheme = (scheme) => {\n    let root = document.documentElement;\n\n    if (scheme === 'dark') {\n        root.style.setProperty('--bg-color', '#222');\n        root.style.setProperty('--text-color', 'white');\n        root.style.setProperty('--light-text-color', '#CCC');\n        root.style.setProperty('--icon-color', '#4dc6ff');\n\n        root.style.setProperty('--menu-bg-color', '#009fe8');\n        root.style.setProperty('--menu-selected-bg-color', '#0076ad');\n        root.style.setProperty('--menu-text-color', 'white');\n        root.style.setProperty('--menu-selected-text-color', 'white');\n        root.style.setProperty('--menu-border-color', '#BBB');\n        \n        root.style.setProperty('--footer-bg', '#222');\n        root.style.setProperty('--footer-border', '#009fe8');\n        \n        root.style.setProperty('--table-heading-bg-color', '#555');\n        root.style.setProperty('--table-heading-text-color', 'white');\n    }\n\n    if (scheme === 'black') {\n        root.style.setProperty('--bg-color', 'black');\n        root.style.setProperty('--text-color', 'white');\n        root.style.setProperty('--light-text-color', '#CCC');\n        root.style.setProperty('--icon-color', '#4dc6ff');\n\n        root.style.setProperty('--menu-bg-color', '#009fe8');\n        root.style.setProperty('--menu-selected-bg-color', '#0076ad');\n        root.style.setProperty('--menu-text-color', 'white');\n        root.style.setProperty('--menu-selected-text-color', 'white');\n        root.style.setProperty('--menu-border-color', '#BBB');\n        \n        root.style.setProperty('--footer-bg', 'black');\n        root.style.setProperty('--footer-border', '#009fe8');\n        \n        root.style.setProperty('--table-heading-bg-color', '#555');\n        root.style.setProperty('--table-heading-text-color', 'white');\n    }\n\n    if (scheme === 'light') {\n        root.style.setProperty('--bg-color', 'white');\n        root.style.setProperty('--text-color', 'black');\n        root.style.setProperty('--light-text-color', '#555');\n        root.style.setProperty('--icon-color', 'black');\n\n        root.style.setProperty('--menu-bg-color', '#009fe8');\n        root.style.setProperty('--menu-selected-bg-color', '#0076ad');\n        root.style.setProperty('--menu-text-color', 'white');\n        root.style.setProperty('--menu-selected-text-color', 'white');\n        root.style.setProperty('--menu-border-color', 'black');\n        \n        root.style.setProperty('--footer-bg', 'white');\n        root.style.setProperty('--footer-border', 'black');\n        \n        root.style.setProperty('--table-heading-bg-color', '#AAA');\n        root.style.setProperty('--table-heading-text-color', 'black');\n    }\n}","import { createStore, applyMiddleware } from 'redux';\nimport { reducer } from './reducer';\nimport { changeColourScheme } from '../functions';\n\nconst localStorageMiddleware = ({getState}) => {\n    return (next) => (action) => {\n        const result = next(action);\n        \n        const ignore = ['SET_CURRENT_PAGE', 'SET_ADD_TRANSACTION', 'SET_EDIT_MODE'];\n        if (ignore.includes(action.type)) return result;\n\n        localStorage.setItem('budgetState', JSON.stringify(getState()));\n\n        return result;\n    }\n};\n\nconst syncMiddleware = ({getState, dispatch}) => {\n    return (next) => (action) => {\n        const result = next(action);\n        //sync with server if possible\n        const ignore = ['SET_CURRENT_PAGE', 'SET_EDIT_MODE', 'SYNC', 'SET_USER', 'SET_ADD_TRANSACTION', 'SET_MESSAGE'];\n        if (ignore.includes(action.type)) return result;\n        sync(getState(), dispatch);\n\n        return result;\n    }\n};\n\nexport const sync = (state, dispatch, manual=false) => {\n    if (state.user === null) return;\n\n    const backupData = {\n        general: state.general,\n        accounts: state.accounts,\n        categories: state.categories,\n        budgets: state.budgets,\n        funds: state.funds,\n        fundAdditions: state.fundAdditions,\n        transactions: state.transactions\n    };\n\n    fetch('http://localhost:3001/api/backup', {\n        method: 'POST', \n        headers: {'content-type': 'application/json'},\n        credentials: 'include',\n        body: JSON.stringify(backupData)\n    }).then(res => res.json()).then(data => {\n        if (data.status === 'success') {\n            console.log('Updating data: ', data);\n            dispatch({type: 'SYNC', payload: data.data});\n            dispatch({type: 'SET_USER', payload: data.user});\n            changeColourScheme(data.data.general.colourScheme);\n            if (manual) dispatch({type: 'SET_MESSAGE', payload: {text: 'Data successfully synced!', type: 'success'}});\n        } else {\n            console.log(data);\n            dispatch({type: 'SET_MESSAGE', payload: {text: data.message, type: 'error'}});\n        }\n    }).catch(err => {\n        console.log('Error Syncing: ', err.message);\n        dispatch({type: 'SET_USER', payload: null});\n        dispatch({type: 'SET_MESSAGE', payload: {text: 'Failed to contact server for syncing. Please try to login again.', type: 'error'}});\n    });\n}\n\nconst getFromLocalStorage = () => {\n    let state = localStorage.getItem('budgetState');\n    if (state !== null) {\n        state = JSON.parse(state);\n        state.currentPage = 'Home';\n        state.message = {text: '', type: ''};\n        state.editMode = false;\n        state.addTransaction = false;\n        changeColourScheme(state.general.colourScheme);\n        return state;\n    }\n}\n\nconst store = createStore(reducer, getFromLocalStorage(), applyMiddleware(localStorageMiddleware, syncMiddleware));\n\nexport default store;","import React from 'react';\nimport { useMediaQuery } from 'react-responsive'\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { FaHome } from 'react-icons/fa';\nimport { MdSettings } from 'react-icons/md';\n\nconst StyledComp = styled.div`\n    display: flex;\n    border-bottom: 1px solid var(--menu-border-color);\n    width: 100%;\n    background-color: var(--menu-bg-color);\n\n    & > div {\n        color: var(--menu-text-color);\n        padding: 5px 10px;\n        border-right: 1px solid var(--menu-border-color);\n        ${props => props.isMobile ? 'flex-grow: 1;' : ''};\n        ${props => props.isMobile ? 'padding: 10px' : ''};\n    }\n\n    & > div:last-of-type {\n        ${props => props.isMobile ? 'border-right: none;' : ''};\n    }\n\n    & > div.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div:hover {\n        background-color: var(--menu-selected-bg-color);\n        cursor: pointer;\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div.spacer:hover {\n        background-color: transparent;\n        cursor: default;\n    }\n\n    & > div.spacer {\n        flex-grow: 1;\n    }\n\n    & > div.right {\n        border-right: none;\n    }\n\n    & > div > svg {\n        position: relative;\n        top: 3px;\n    }\n`;\n\nconst Header = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const dispatch = useDispatch();\n    const addTransaction = useSelector(state => state.addTransaction);\n    const currentPage = useSelector(state => state.currentPage);\n\n    return (\n        <StyledComp isMobile={isMobile}>\n            <div onClick={() => dispatch({type: 'SET_CURRENT_PAGE', payload: 'Home'})} className={currentPage === 'Home' ? 'selected' : ''}>\n                { isMobile ? <FaHome/> : 'Home' }\n            </div>\n            <div onClick={() => dispatch({type: 'SET_CURRENT_PAGE', payload: 'Categories'})} className={currentPage === 'Categories' ? 'selected' : ''}>Categories</div>\n            <div onClick={() => dispatch({type: 'SET_CURRENT_PAGE', payload: 'Funds'})} className={currentPage === 'Funds' ? 'selected' : ''}>Funds</div>\n            <div onClick={() => dispatch({type: 'SET_CURRENT_PAGE', payload: 'Accounts'})} className={currentPage === 'Accounts' ? 'selected' : ''}>Accounts</div>\n            { !isMobile ? <div onClick={() => dispatch({type: 'SET_ADD_TRANSACTION', payload: !addTransaction})}>Add Transaction</div> : null }\n            { !isMobile ? <div className=\"spacer\"></div> : null }\n            <div onClick={() => dispatch({type: 'SET_CURRENT_PAGE', payload: 'Settings'})} className={currentPage === 'Settings' ? 'selected right' : 'right'}>\n                { isMobile ? <MdSettings/> : 'Settings' }\n            </div>\n        </StyledComp>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    position: fixed;\n    top: 28px;\n    width: 100%;\n\n    & > div {\n        border: 1px solid var(--menu-border-color);\n        width: 300px;\n        margin: auto;\n        padding: 10px;\n        background-color: var(--bg-color);\n    }\n`;\n\nconst TopPopup = ({children}) => {\n    return (\n        <StyledComp>{children}</StyledComp>\n    );\n}\n\nexport default TopPopup;","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { IoMdClose } from 'react-icons/io';\n\nconst StyledComp = styled.div`\n    width: 95%;\n    max-width: 1200px;\n    border: 2px solid white;\n    ${props => props.type === 'error' ? 'border: 2px solid red' : ''};\n    ${props => props.type === 'success' ? 'border: 2px solid #0F0' : ''};\n    margin: auto;\n    margin-top: 5px;\n    padding: 5px;\n    position: relative;\n\n    & > div:last-child {\n        position: absolute;\n        right: -1px;\n        top: -2px;\n        font-size: 2em;\n    }\n\n    & > div:last-child:hover {\n        color: red;\n        cursor: pointer;\n    }\n`;\n\nconst MessagePopup = () => {\n    const dispatch = useDispatch();\n    const message = useSelector(state => state.message);\n    const clearMessage = () => dispatch({type: 'SET_MESSAGE', payload: {text: '', type: ''}});\n\n    if (message.text.length === 0) return null;\n\n    return (\n        <StyledComp type={message.type}>\n            <div>{message.text}</div>\n            <div onClick={clearMessage}><IoMdClose/></div>\n        </StyledComp>\n    );\n}\n\nexport default MessagePopup;","import styled from 'styled-components';\n\nconst Table = styled.table`\n    margin: 5px auto;\n    ${'' /* border-collapse: collapse; */}\n    border-spacing: 0px;\n    overflow: hidden;\n    border-radius: 5px;\n    background-color: var(--bg-color);\n    color: var(--text-color);\n\n    & thead td {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n    }\n\n    & thead td.income {\n        background-color: green;\n        color: white;\n    }\n\n    & thead td.expense {\n        background-color: darkorange;\n        color: black;\n    }\n\n    & thead td.fund {\n        background-color: lightsteelblue;\n        color: black;\n    }\n\n    & thead td.remaining {\n        background-color: deepskyblue;\n        color: black;\n    }\n\n    & tbody th {\n        background-color: var(--table-heading-bg-color);\n        color: var(--table-heading-text-color);\n        font-weight: normal;\n    }\n\n    & tr td.corner-top-left {\n        border-top: none !important;\n        border-left: none !important;\n        background-color: transparent;\n    }\n\n    & td, & th {\n        padding: ${props => props.padding ? props.padding : '10px 15px'};\n        border-right: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n    \n    & > *:first-child tr:first-child > * {\n        border-top: 1px solid var(--menu-border-color);\n    }\n\n    & tr td:first-child, & tr th:first-child {\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    & > *:first-child tr:first-child > *:first-child {\n        border-top-left-radius: 5px;\n    }\n\n    & > *:first-child tr:first-child > *:last-child {\n        border-top-right-radius: 5px;\n    }\n\n    & tbody tr:last-child td:first-child {\n        border-bottom-left-radius: 5px;\n    }\n\n    & tbody tr:last-child td:last-child {\n        border-bottom-right-radius: 5px;\n    }\n\n    & td {\n        position: relative;\n    }\n\n    & .budgetIcon {\n        ${'' /* position: absolute; */}\n        float: right;\n        margin-left: 5px;\n    }\n\n    & .budgetIcon:hover {\n        cursor: pointer;\n    }\n`;\n\nexport default Table;","import styled from 'styled-components';\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: ${props => props.template ? props.template : '1fr 1fr'};\n    grid-gap: 10px;\n    margin: 10px;\n    ${props => props.start !== undefined ? 'grid-column-start:'+props.start : ''};\n    ${props => props.end !== undefined ? 'grid-column-end:'+props.end : ''};\n`;\n\nexport default Grid;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.input`\n    width: 60px;\n    border: 1px solid var(--text-color);\n    background-color: var(--bg-color);\n    color: var(--text-color);\n`;\n\nconst BudgetInput = ({value, category, date}) => {\n    const [oldValue, setOldValue] = useState(value);\n    const [currentValue, setCurrentValue] = useState(value);\n    const dispatch = useDispatch();\n    const updateBudget = (val) => dispatch({type: 'UPDATE_BUDGET', payload: val});\n\n    //use local state for editing object, but change if global state changes (don't want to sync with server for every keystroke)\n    if (value !== oldValue) {\n        setOldValue(value);\n        setCurrentValue(value);\n    }\n\n    const onChangeBudget = (e) => {\n        let amount = parseFloat(e.target.value);\n        setCurrentValue(amount);\n    }\n\n    const onBlurBudget = (e) => {\n        let newBudget = {\n            category: category,\n            amount: currentValue,\n            startDate: date,\n            carryOver: false,\n        };\n\n        updateBudget(newBudget);\n    }\n\n    return (\n        <StyledComp type=\"number\" value={isNaN(currentValue) || currentValue === null ? '' : currentValue} onChange={onChangeBudget} onBlur={onBlurBudget}/>\n    );\n}\n\nexport default BudgetInput;","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FaPiggyBank } from 'react-icons/fa';\n\nimport { parseCurrency } from '../functions';\n\nimport BudgetInput from './BudgetInput';\n\nconst StyledComp = styled.div`\n    text-align: center;\n    border-radius: 5px;\n    box-shadow: 0px 1px 4px gray;\n    width: 100%;\n    overflow: hidden;\n\n    &.fullRow {\n        grid-column-start: 1;\n        grid-column-end: 3;\n    }\n\n    & > div:first-of-type {\n        position: relative;\n        font-size: 1.2em;\n        font-weight: bold;\n        padding: 2px;\n        margin-bottom: 4px;\n        ${props => props.type === 'income' ? 'background-color: green; color: white;' : ''};\n        ${props => props.type === 'expense' ? 'background-color: darkorange; color: black;' : ''};\n        ${props => props.type === 'fund' ? 'background-color: lightsteelblue; color: black;' : ''};\n        ${props => props.type === 'remaining' ? 'background-color: deepskyblue; color: black;' : ''};\n        ${props => props.type === 'account' ? 'background-color: deepskyblue; color: black;' : ''};\n    }\n\n    & > div:last-of-type {\n        font-size: 1em;\n        margin-bottom: 5px;\n    }\n\n    & .budgetIcon {\n        position: absolute;\n        right: 5px;\n        top: 5px;\n    }\n\n    & .budgetIcon:hover {\n        cursor: pointer;\n    }\n`;\n\nconst AmountGroup = ({title, amount, type, budget=0, editBudget=false, id, date}) => {\n    const [editMode, setEditMode] = useState(false);\n\n    const toggleEditMode = () => {\n        setEditMode(!editMode);\n    }\n\n    return (\n        <StyledComp type={type} className={title === 'Earnings' || title === 'Remaining' ? 'fullRow' : ''}>\n            <div>\n                { title }\n                { editBudget ? <div className=\"budgetIcon\" onClick={toggleEditMode}><FaPiggyBank/></div> : null }\n            </div>\n            <div>\n                { amount }\n                { !editMode && budget > 0 ? ` / ${parseCurrency(budget)}` : '' }\n                { editMode ? <span> / <BudgetInput value={budget} category={id} date={date}/></span> : null }\n            </div>\n        </StyledComp>\n    );\n}\n\nexport default AmountGroup;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    color: ${props => props.color};\n    display: inline-block;\n    font-size: ${props => props.size};\n    ${props => props.bordered ? 'border: 1px solid white' : ''};\n    width: ${props => props.width ? props.width : 'auto'};\n    padding: ${props => props.bordered ? '5px' : '0px'};\n    border-radius: 5px;\n    \n    :hover {\n        cursor: pointer;\n    }\n\n    & > svg {\n        position: relative;\n        top: ${props => props.topAdjust};\n    }\n`;\n\nconst IconButton = ({Icon, onClick, color='var(--icon-color)', topAdjust='3px', size='1em', width='auto', bordered=false}) => {\n    return (\n        <StyledComp color={color} topAdjust={topAdjust} size={size} width={width} bordered={bordered}>\n            <Icon onClick={onClick}/>\n        </StyledComp>\n    );\n}\n\nexport default IconButton;","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { useSelector } from 'react-redux';\nimport { format } from 'date-fns';\nimport { FiArrowLeft, FiArrowRight } from 'react-icons/fi';\nimport { FaPiggyBank } from 'react-icons/fa';\n\nimport Table from '../components/Table';\nimport Grid from '../components/Grid';\nimport AmountGroup from '../components/AmountGroup';\nimport IconButton from '../components/IconButton';\nimport BudgetInput from '../components/BudgetInput';\n\nimport { getLatestDates, getSummaryRows, getSummaryTotals, getAccountSummary, parseCurrency, checkBudget, checkFundTarget, filterDeleted } from '../functions';\n\nconst SummaryTables = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const general = useSelector(state => state.general);\n    const transactions = useSelector(state => filterDeleted(state.transactions));\n    const categories = useSelector(state => filterDeleted(state.categories));\n    const budgets = useSelector(state => filterDeleted(state.budgets));\n    const funds = useSelector(state => filterDeleted(state.funds));\n    const fundAdditions = useSelector(state => filterDeleted(state.fundAdditions));\n    const accounts = useSelector(state => filterDeleted(state.accounts));\n\n    const filteredFunds = funds.filter(obj => obj.complete === false);\n\n    const dates = getLatestDates(general.startDate, general.payPeriodType);\n    const [latestDate, setLatestDate] = useState(dates[dates.length-1]);\n\n    const [editCategory, setEditCategory] = useState(0);\n\n    const rows = getSummaryRows(dates, transactions, funds, categories, fundAdditions);\n\n    const incomeCategories = categories.filter(obj => obj.type === 'income');\n    const expenseCategories = categories.filter(obj => obj.type === 'expense');\n\n    const summaryTotals = getSummaryTotals(transactions, funds, categories, fundAdditions);\n    const accountSummary = getAccountSummary(transactions, accounts, categories);\n\n    const toggleEditCategory = (id) => () => {\n        if (editCategory === id) setEditCategory(0);\n        else setEditCategory(id);\n    }\n\n    const setPreviousDate = () => {\n        if (latestDate === 'Totals') {\n            setLatestDate(dates[dates.length-1]);\n            return;\n        }\n\n        let currentIndex = dates.indexOf(latestDate);\n        let newIndex = currentIndex-1;\n        if (newIndex < 0) return;\n\n        let newDate = dates[newIndex];\n        setLatestDate(newDate);\n    }\n\n    const setNextDate = () => {\n        let currentIndex = dates.indexOf(latestDate);\n        let newIndex = currentIndex+1;\n        if (newIndex > dates.length-1) {\n            setLatestDate('Totals');\n            return;\n        } else if (latestDate === 'Totals') {\n            return;\n        }\n\n        let newDate = dates[newIndex];\n        setLatestDate(newDate);\n    }\n\n    if (isMobile) {\n        let displayDate = latestDate;\n        if (latestDate !== 'Totals') {\n            displayDate = format(new Date(latestDate), 'do MMMM yyyy');\n        }\n\n        let index = dates.indexOf(latestDate);\n\n        const getHeading = () => {\n            return (\n                <Grid style={{fontSize: '1.5em', fontWeight: 'bold', margin: '0px'}} start='1' end='3' template='50px auto 50px'>\n                    { index === 0 ? <div></div> : <IconButton Icon={FiArrowLeft} onClick={setPreviousDate} size='1.3em' topAdjust='0px'/> }\n                    <div>{displayDate}</div> \n                    { latestDate === 'Totals' ? <div></div> : <IconButton Icon={FiArrowRight} onClick={setNextDate} size='1.3em' topAdjust='0px'/> }\n                </Grid>\n            );\n        }\n\n        //when user goes foward from starting date, they can see the totals for each category\n        if (latestDate === 'Totals') {\n            return (\n                <div>\n                    <Grid>\n                        { getHeading() }\n                        { incomeCategories.map(obj => <AmountGroup key={'totals-heading-'+obj.id} title={obj.name} amount={parseCurrency(summaryTotals[obj.name])} type='income'/>) }\n                        { filteredFunds.map(obj => <AmountGroup key={'totals-heading-'+obj.id} title={obj.name} amount={parseCurrency(summaryTotals[obj.name] ? summaryTotals[obj.name].remaining : 0)+checkFundTarget(summaryTotals[obj.name])} type='fund'/>) }\n                        { expenseCategories.map(obj => <AmountGroup key={'totals-heading-'+obj.id} title={obj.name} amount={parseCurrency(summaryTotals[obj.name])} type='expense'/>) }\n                        <AmountGroup title='Remaining' amount={parseCurrency(summaryTotals.remaining)} type='remaining'/>\n                    </Grid>\n\n                    <h3>Accounts</h3>\n                    <Grid>\n                        { accountSummary.map(obj => <AmountGroup key={'account-'+obj.id} title={obj.name} amount={parseCurrency(obj.total)} type='account'/>) }\n                    </Grid>\n                </div>\n            );\n        }\n        \n        return (\n            <div>\n                <Grid>\n                    { getHeading() }\n                    { incomeCategories.map(obj => <AmountGroup key={'heading-'+obj.id} title={obj.name} amount={parseCurrency(rows[latestDate][obj.name])} type='income'/>) }\n                    { filteredFunds.map(obj => <AmountGroup key={'heading-'+obj.id} title={obj.name} amount={parseCurrency(rows[latestDate][obj.name])} type='fund'/>) }\n                    { expenseCategories.map(obj => <AmountGroup key={'heading-'+obj.id} title={obj.name} amount={parseCurrency(rows[latestDate][obj.name])} type='expense' editBudget={true} budget={checkBudget(budgets, latestDate, obj.id, transactions, true)} id={obj.id} date={latestDate}/>) }\n                    <AmountGroup title='Remaining' amount={parseCurrency(rows[latestDate].remaining)} type='remaining'/>\n                </Grid>\n            </div>\n        );\n    }    \n\n    return (\n        <div>\n            <h4>Period Summaries</h4>\n            <Table>\n                <thead>\n                    <tr>\n                        <td>Date</td>\n                        { incomeCategories.map(obj => <td key={'heading-'+obj.id} className=\"income\">{obj.name}</td>) }\n                        { filteredFunds.map(obj => <td key={'heading-'+obj.id} className=\"fund\">{obj.name}</td>) }\n                        { expenseCategories.map(obj => <td key={'heading-'+obj.id} className=\"expense\">{obj.name}<div className=\"budgetIcon\" onClick={toggleEditCategory(obj.id)}><FaPiggyBank/></div></td>) }\n                        <td className=\"remaining\">Remaining</td>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        dates.map(date => {\n                            return (\n                                <tr key={'summaryDate-'+date}>\n                                    <td>{date}</td>\n                                    { incomeCategories.map(obj => <td key={obj.id}>{parseCurrency(rows[date][obj.name])}</td>) }\n                                    { filteredFunds.map(obj => <td key={obj.id}>{parseCurrency(rows[date][obj.name])}</td>) }\n                                    { expenseCategories.map(obj => <td key={obj.id}>{parseCurrency(rows[date][obj.name])}{editCategory === obj.id ? <span> / <BudgetInput value={checkBudget(budgets, date, obj.id, transactions, true)} category={obj.id} date={date}/></span> : checkBudget(budgets, date, obj.id, transactions)}</td>) }\n                                    <td>{ parseCurrency(rows[date].remaining) }</td>\n                                </tr>\n                            )\n                        })\n                    }\n                    <tr>\n                        <td>Total</td>\n                        { incomeCategories.map(obj => <td key={'totalsRow-'+obj.id}>{parseCurrency(summaryTotals[obj.name])}</td>) }\n                        { filteredFunds.map(obj => <td key={'fundHeading-'+obj.id}>{parseCurrency(summaryTotals[obj.name].remaining)}{checkFundTarget(summaryTotals[obj.name])}</td>) }\n                        { expenseCategories.map(obj => <td key={'totalsRow-'+obj.id}>{parseCurrency(summaryTotals[obj.name])}</td>) }\n                        <td>{parseCurrency(summaryTotals.remaining)}</td>\n                    </tr>\n                </tbody>\n            </Table>\n            <h4>Account Summaries</h4>\n            <Table>\n                <thead>\n                    <tr>\n                        <td>Account</td>\n                        <td>Total</td>\n                    </tr>\n                </thead>\n                <tbody>\n                {\n                    accountSummary.map(obj => \n                        <tr key={'account-'+obj.id}>\n                            <td>{obj.name}</td>\n                            <td>{parseCurrency(obj.total)}</td>\n                        </tr>\n                    )\n                }\n                </tbody>\n            </Table>\n        </div>\n    );\n}\n\nexport default SummaryTables;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.input`\n    border: ${props => props.noBorder ? 'none' : '1px solid var(--menu-border-color)'};\n    height: var(--input-height);\n    background-color: var(--bg-color);\n    color: var(--text-color);\n    padding-left: 10px;\n    font-size: 1em;\n    width: ${props => props.width};\n    border-radius: 0px;\n    -webkit-appearance: none;\n\n    :focus {\n        outline: none;\n        border: 1px solid #33C9F9;\n    }\n\n    &::-webkit-calendar-picker-indicator {\n        filter: invert(100%);\n    }\n`;\n\nconst Input = ({value, type='text', placeholder='', onChange, options=[], groups=[], width=\"100px\", noBorder=false}) => {\n    if (type === 'dropdown' && (options.length > 0 || groups.length > 0)) return (\n        <StyledComp as='select' onChange={onChange} value={value} width={width} noBorder={noBorder}>\n            <option hidden value={undefined}>Select an Option</option>\n        {\n            options.length > 0 \n            ? options.map(option => {\n                if (option.display.length === 0) return null;\n                return <option key={'inputOption-'+option.value} value={option.value}>{option.display}</option>\n            })\n            : groups.map(group => {\n                return (\n                    <optgroup key={'inputGroup-'+group.label} label={group.label}>\n                    {\n                        group.options.map(option => {\n                            if (option.display.length === 0) return null;\n                            return <option key={'inputGroupOption-'+option.value} value={option.value}>{option.display}</option>\n                        })\n                    }\n                    </optgroup>\n                )\n            })\n        }\n        </StyledComp>\n    );\n\n    if (type === 'dropdown' && (options.length === 0 && groups.length === 0)) return <StyledComp value={'No Options'} type={type} onChange={onChange} placeholder={placeholder} width={width} noBorder={noBorder} disabled={true}/>\n\n    if (type === 'number' && isNaN(value)) value = '';\n\n    return (\n        <StyledComp value={value} type={type} onChange={onChange} placeholder={placeholder} width={width} noBorder={noBorder}/>\n    );\n}\n\nexport default Input;","import React from 'react';\nimport styled from 'styled-components';\n\nimport Input from './Input';\n\nconst StyledComp = styled.div`\n    display: flex;\n    justify-content: center;\n    margin: 5px;\n\n    & > label {\n        width: ${props => props.labelWidth};\n        display: inline-flex;\n        justify-content: flex-end;\n        align-items: center;\n        height: var(--input-height);\n        padding: 0px 10px;\n        border-left: 1px solid var(--menu-border-color);\n        border-top: 1px solid var(--menu-border-color);\n        border-bottom: 1px solid var(--menu-border-color);\n        border-top-left-radius: 5px;\n        border-bottom-left-radius: 5px;\n        background-color: var(--table-heading-bg-color);\n    }\n\n    & > input, & > select {\n        border-top-right-radius: 5px;\n        border-bottom-right-radius: 5px;\n        width: 150px;\n    }\n`;\n\nconst LabelledInput = ({label, type='text', value, placeholder='', onChange, options=[], groups=[], labelWidth='120px'}) => {\n    let inputValue = value;\n    if (isNaN(inputValue) && type === 'number') inputValue = '';\n\n    return (\n        <StyledComp labelWidth={labelWidth}>\n            <label>{label}</label>\n            <Input value={inputValue} type={type} onChange={onChange} placeholder={placeholder} options={options} groups={groups}/>\n        </StyledComp>\n    );\n}\n\nexport default LabelledInput;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    background-color: var(--menu-bg-color);\n    color: var(--menu-text-color);\n    border: 1px solid var(--menu-border-color);\n    ${props => props.color ? `border-color: ${props.color}` : ''};\n    border-radius: 5px;\n    height: var(--input-height);\n    display: ${props => props.inline ? 'inline flex' : 'flex'};\n    justify-content: center;\n    align-items: center;\n    width: ${props => props.width};\n    margin: auto;\n\n    :hover {\n        cursor: pointer;\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n`;\n\nconst Button = ({value, onClick, width='100%', inline=false, color=undefined, style={}}) => {\n    return (\n        <StyledComp width={width} onClick={onClick} inline={inline} color={color} style={style}>{value}</StyledComp>\n    );\n}\n\nexport default Button;","import React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { filterDeleted } from '../functions';\n\nimport LabelledInput from '../components/LabelledInput';\nimport Button from '../components/Button';\n\nconst AddTransaction = ({onAdd=()=>{}}) => {\n    const dispatch = useDispatch();\n\n    const accounts = useSelector(state => filterDeleted(state.accounts));\n    const funds = useSelector(state => filterDeleted(state.funds));\n    const categories = useSelector(state => filterDeleted(state.categories));\n\n    let defaultAccountObj = accounts.find(obj => obj.defaultAccount === true);\n    let defaultAccount = defaultAccountObj !== undefined ? defaultAccountObj.id : accounts.length > 0 ? accounts[0].id : undefined;\n\n    const [type, setType] = useState('spend');\n    const [amount, setAmount] = useState('');\n    const [description, setDescription] = useState('');\n    const [date, setDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n    const [account, setAccount] = useState(defaultAccount);\n    const [fund, setFund] = useState(undefined);\n    const [category, setCategory] = useState(undefined);\n    const [from, setFrom] = useState(undefined);\n    const [to, setTo] = useState(undefined);\n\n    const reset = () => {\n        setType('spend');\n        setAmount('');\n        setDescription('');\n        setDate(format(new Date(), 'yyyy-MM-dd'));\n        setAccount(defaultAccount);\n        setFund(undefined);\n        setCategory(undefined);\n        setFrom(undefined);\n        setTo(undefined);\n    }\n\n\n    const addTransaction = () => {\n        //make sure transaction is valid\n        if (amount === 0 || isNaN(amount)) return;\n        if (date.length === 0) return;\n        if (account === undefined) return;\n        if (type === 'spend' && fund === undefined && category === undefined) return;\n        if (type === 'transfer' && from === undefined && to === undefined) return;\n\n        let transaction;\n        if (type === 'spend') {\n            transaction = {type, amount, description, date, account, fund, category};\n        } else if (type === 'transfer') {\n            transaction = {type, amount, date, from, to};\n        }        \n\n        dispatch({type: 'ADD_TRANSACTION', payload: transaction});\n        onAdd();\n        reset();\n    }\n\n    const addFundAddition = () => {\n        //make sure transaction is valid\n        if (amount === 0 || isNaN(amount)) return;\n        if (date.length === 0) return;\n        if (fund === undefined) return;\n\n        let fundAddition = {amount, date, fund};        \n        dispatch({type: 'ADD_FUND_ADDITION', payload: fundAddition});\n        onAdd();\n        reset();\n    }\n\n    const onChangeGroup = (e) => {\n        let value = e.target.value;\n        let [id, name] = value.split(':');\n        id = Number(id);\n        \n        let fund = funds.find(obj => obj.id === id && obj.name === name);\n        \n        if (fund !== undefined) {\n            setFund(id);\n            setCategory(undefined);\n        } else {\n            let category = categories.find(obj => obj.id === id && obj.name === name);\n            if (category !== undefined) {\n                setCategory(id);\n                setFund(undefined);\n            }\n        }\n    }\n\n    let types = [\n        {value: 'spend', display: 'Spend/Receive'},\n        {value: 'fundAddition', display: 'Add to Fund'},\n    ];\n\n    if (accounts.length > 1) types.push({value: 'transfer', display: 'Transfer'});\n\n    if (type === 'fundAddition') {\n        return (\n            <div>\n                <strong>Add Transaction</strong>\n                <LabelledInput label={'Type'} type='dropdown' value={type} onChange={(e) => setType(e.target.value)} options={types}/>\n                <LabelledInput label={'Amount'} type='number' value={amount} onChange={(e) => setAmount(parseFloat(e.target.value))}/>\n                <LabelledInput label={'Date'} type='date' value={date} onChange={(e) => setDate(e.target.value)}/>\n                <LabelledInput label={'Fund'} type='dropdown' value={fund} onChange={(e) => setFund(Number(e.target.value))} options={funds.map(obj => ({value: obj.id, display: obj.name}))}/>\n                <Button value=\"Add Transaction\" onClick={addFundAddition} width=\"140px\"/>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            <strong>Add Transaction</strong>\n            <LabelledInput label={'Type'} type='dropdown' value={type} onChange={(e) => setType(e.target.value)} options={types}/>\n            <LabelledInput label={'Amount'} type='number' value={amount} onChange={(e) => setAmount(parseFloat(e.target.value))}/>\n            { type === 'transfer' ? null : <LabelledInput label={'Description'} value={description} onChange={(e) => setDescription(e.target.value)}/> }\n            <LabelledInput label={'Date'} type='date' value={date} onChange={(e) => setDate(e.target.value)}/>\n            { type === 'transfer' ? null : <LabelledInput label={'Account'} type='dropdown' value={account} onChange={(e) => setAccount(Number(e.target.value))} options={accounts.map(obj => ({value: obj.id, display: obj.name}))}/> }\n            { type === 'transfer' ? <LabelledInput label={'From'} type='dropdown' value={from} onChange={(e) => setFrom(Number(e.target.value))} options={accounts.map(obj => ({value: obj.id, display: obj.name}))}/> : null }\n            { type === 'transfer' ? <LabelledInput label={'To'} type='dropdown' value={to} onChange={(e) => setTo(Number(e.target.value))} options={accounts.map(obj => ({value: obj.id, display: obj.name}))}/> : null }\n            { type === 'transfer' ? null : <LabelledInput label={'Group'} type='dropdown' value={undefined} onChange={onChangeGroup} groups={[ \n                                                                    {label: 'Funds', options: funds.map(obj => ({value: obj.id+':'+obj.name, display: obj.name}) )} , \n                                                                    {label: 'Categories', options: categories.map(obj => ({value: obj.id+':'+obj.name, display: obj.name}) )}  ]}/> }\n            <Button value=\"Add Transaction\" onClick={addTransaction} width=\"140px\"/>\n        </div>\n    );\n}\n\nexport default AddTransaction;","import styled from 'styled-components';\n\nconst ListContainer = styled.div`\n    display: flex;\n    width: 100%;\n    height: calc(100vh - 70px);\n\n    & > div:last-child {\n        flex-grow: 1;\n    }\n`;\n\nexport default ListContainer;","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    border: 1px solid var(--menu-border-color);\n    width: 200px;\n    margin: 5px;\n    padding: 0px 5px;\n    overflow: scroll;\n    position: relative;\n\n    & > div {\n        border: 1px solid var(--menu-border-color);\n        padding: 5px;\n        width: 100%;\n        margin-bottom: 5px;\n        background-color: var(--menu-bg-color);\n        color: var(--menu-text-color);\n    }\n\n    & > div:hover {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n        cursor: pointer;\n    }\n\n    & > div.selected {\n        background-color: var(--menu-selected-bg-color);\n        color: var(--menu-selected-text-color);\n    }\n\n    & > div:last-child {\n        position: absolute;\n        bottom: 0px;\n        left: 5px;\n        width: calc(100% - 10px);\n    }\n`;\n\nconst List = ({heading='', array=[], onClickObj, selected}) => {\n    const dispatch = useDispatch();\n    const editMode = useSelector(state => state.editMode);\n\n    const toggleEditMode = () => {\n        dispatch({type: 'SET_EDIT_MODE', payload: !editMode});\n    }\n\n    return (\n        <StyledComp>\n            <h4>{heading}</h4>\n            {\n                array.map(obj => {\n                    if (obj.name.length === 0) return null;\n                    return (\n                        <div key={'objList-'+obj.id} onClick={onClickObj(obj.id)} className={selected === obj.id && editMode === false ? 'selected': ''}>{obj.name}</div>\n                    );\n                })\n            }\n            <div onClick={toggleEditMode} className={editMode ? 'selected' : ''}>Edit {heading}</div>\n        </StyledComp>\n    );\n}\n\nexport default List;","import React from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { format, parseISO } from 'date-fns';\n\nimport { getAmount, filterDeleted } from '../functions';\n\nimport IconButton from '../components/IconButton';\n\nconst StyledComp = styled.div`\n    & > table {\n        width: 100%;\n        max-width: 650px;\n        margin: auto;\n    }\n\n    & td {\n        ${'' /* border: 1px solid white; */}\n        height: 39px;\n    }\n\n    & td:nth-child(1) {\n        text-align: left;\n    }\n\n    & td:nth-child(2) {\n        width: 100px;\n        text-align: right;\n    }\n\n    & td:nth-child(3) {\n        width: 50px;\n        text-align: right;\n    }\n\n    & div.description {\n        max-width: 540px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & td span.date {\n        font-size: 0.8em;\n        color: var(--light-text-color);\n    }\n\n    &:hover {\n        cursor: pointer;\n        background-color: var(--table-heading-bg-color);\n    }\n\n    @media screen and (max-width: 700px) {        \n        & > table {\n            width: 100%;\n        }\n\n        & div.description {\n            max-width: 250px;\n        }\n\n        & td {\n            height: 40px;\n        }\n\n        & tr > td:first-child {\n            padding-left: 15px;\n        }\n\n        & tr > td:last-child {\n            padding-right: 15px;\n        }\n    }\n`;\n\nconst Transaction = ({obj, accountId, showDelete=false, onClick=()=>{}}) => {\n    const dispatch = useDispatch();\n    const categories = useSelector(state => filterDeleted(state.categories));\n    const funds = useSelector(state => filterDeleted(state.funds));\n    const accounts = useSelector(state => filterDeleted(state.accounts));\n    const currentPage = useSelector(state => state.currentPage);\n\n    const remove = () => {     \n        if (obj.type === undefined) dispatch({type: 'REMOVE_FUND_ADDITION', payload: obj.id});\n        else dispatch({type: 'REMOVE_TRANSACTION', payload: obj.id});\n    }\n\n    let date = obj.date !== undefined ? format(parseISO(obj.date), 'MMM d, yyyy') : '';\n    let description = getType(obj, accountId, categories, funds, accounts, currentPage);\n\n    return (\n        <StyledComp onClick={onClick(obj)}>\n            <table>\n                <tbody>\n                    <tr>\n                        <td>\n                            { description.length > 0 ? <div className='description'>{ description }</div> : null }\n                            { description.length > 0 ? <span className='date'>{ date }</span> : <div className='description'>{ date }</div>}\n                        </td>\n                        <td>{getAmount(obj, categories, accountId)}</td>\n                        { showDelete ? <td><IconButton Icon={FaTrashAlt} onClick={remove} color='red' topAdjust='1px'/></td> : null }\n                    </tr>\n                </tbody>\n            </table>\n        </StyledComp>\n    );\n}\n\nconst getType = (transaction, accountId, categories, funds, accounts, page) => {\n    if (page === 'Categories') {\n        let id = transaction.account;\n        let account = accounts.find(obj => obj.id === id);\n        if (account !== undefined) {\n            if (transaction.description.length > 0) return account.name + ' - ' + transaction.description;\n            return account.name;\n        } else {\n            if (transaction.description.length > 0) return transaction.description;\n        }\n    }\n\n    if (page === 'Funds') {\n        if (transaction.description && transaction.description.length > 0) return transaction.description;\n        else return '';\n    }\n\n    if (accountId === undefined) return '';\n\n    //get category name\n    if (transaction.category !== undefined) {\n        let category = categories.find(obj => obj.id === transaction.category);\n        if (category !== undefined) {\n            if (transaction.description.length > 0) return category.name + ' - ' + transaction.description;\n            return category.name;\n        } else {\n            if (transaction.description.length > 0) return transaction.description;\n        }\n    }\n\n    //get fund name\n    if (transaction.fund !== undefined) {\n        let fund = funds.find(obj => obj.id === transaction.fund);\n        if (fund !== undefined) {\n            if (transaction.description.length > 0) return `${fund.name} Fund - ${transaction.description}`;\n            return `${fund.name} Fund`;\n        }\n    }\n\n    //get transfer details\n    if (transaction.from !== undefined) {\n        if (transaction.from === accountId) {\n            let account = accounts.find(obj => obj.id === transaction.to);\n            if (account !== undefined) return `Transfered to ${account.name}`;\n        } else {\n            let account = accounts.find(obj => obj.id === transaction.from);\n            if (account !== undefined) return `Transfered from ${account.name}`;\n        }\n    }\n\n    return '';\n}\n\nexport default Transaction;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { TiArrowSortedDown } from 'react-icons/ti';\n\nconst StyledComp = styled.div`\n    width: 250px;\n    margin: 5px auto;\n    position: relative;\n\n    & > div > svg {\n        fill: var(--icon-color);\n    }\n\n    & > div.dropdownDisplay {\n        font-size: 1.5em;\n        font-weight: bold;\n        border-bottom: 2px solid var(--icon-color);\n        padding: 5px;\n        position: relative;\n        padding-right: 30px;\n        padding-left: 30px;\n        overflow: hidden;\n    }\n\n    & > div.dropdownDisplay > svg {\n        position: absolute;\n        right: 0px;\n        top: 2px;\n        font-size: 1.5em;\n    }\n\n    & > div.dropdownGroup {\n        border-left: 1px solid var(--menu-border-color);\n        border-bottom: ${props => props.open ? '1px solid var(--menu-border-color)' : 'none'};\n        border-right: 1px solid var(--menu-border-color);\n        position: absolute;\n        top: 100%;\n        left: 0px;\n        right: 0px;\n        background-color: var(--bg-color);\n        max-height: ${props => props.open ? props.maxHeight : '0px'};\n        overflow: scroll;\n        transition: 0.3s;\n    }\n\n    & div.dropdownItem {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n    }\n\n    & div.dropdownItem:last-child {\n        border-bottom: none;\n    }\n`;\n\nconst HeaderDropdown = ({value, options=[], onChange}) => {\n    const dispatch = useDispatch();\n    const [open, setOpen] = useState(false);\n\n    let currentValue = options.find(obj => obj.value === value);\n    if (value === 'Edit') currentValue = {display: 'Edit'};\n\n    if (currentValue === undefined) {\n        currentValue = {display: 'Edit'};\n    }\n\n    const toggleOpen = () => {\n        setOpen(!open);\n    }\n\n    const onClickItem = (itemValue) => () => {\n        onChange(itemValue);\n        setOpen(false);\n    }\n\n    const onClickEdit = () => {\n        dispatch({type: 'SET_EDIT_MODE', payload: true});\n    }\n\n    let maxHeight = (options.length * 40) + 40;\n    if (maxHeight > 300) maxHeight = 300;\n    \n    return (\n        <StyledComp open={open} maxHeight={maxHeight+'px'}>\n            <div className='dropdownDisplay' onClick={toggleOpen}>{currentValue.display}<TiArrowSortedDown/></div>\n            <div className='dropdownGroup'>\n            {\n                options.map(obj => <div key={'headerDropdown-'+obj.value} className='dropdownItem' onClick={onClickItem(obj.value)}>{obj.display}</div>)\n            }\n                <div className='dropdownItem' onClick={onClickEdit}>Edit</div>\n            </div>\n        </StyledComp>\n    );\n}\n\nexport default HeaderDropdown;","import React from 'react';\nimport styled from 'styled-components';\n\nimport { parseCurrency } from '../functions';\n\nconst StyledComp = styled.div`\n    margin: 10px;\n    font-size: 1em;\n    font-weight: bold;\n\n    & > table {\n        margin: auto;\n    }\n\n    & > table td:first-of-type {\n        text-align: right;\n    }\n\n    & > table td:last-of-type {\n        text-align: left;\n    }\n`;\n\nconst TotalsDisplay = ({label, value, fundObj}) => {\n    if (fundObj !== undefined) {\n        return (\n            <StyledComp>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Total Saved: </td>\n                            <td>{parseCurrency(value)}</td>\n                        </tr>\n                        {\n                            fundObj.target > 0 ?\n                                <React.Fragment>\n                                    <tr>\n                                        <td>Fund Target: </td>\n                                        <td>{parseCurrency(fundObj.target)}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Total Needed: </td>\n                                        <td>{parseCurrency(fundObj.remaining)}</td>\n                                    </tr>\n                                </React.Fragment> : null \n                        }\n                    </tbody>\n                </table>\n            </StyledComp>\n        );\n    }\n\n    return (\n        <StyledComp>\n            {label}: {parseCurrency(value)}\n        </StyledComp>\n    );\n}\n\nexport default TotalsDisplay;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    width: ${props => props.width+'px'};\n    border: 1px solid white;\n    position: fixed;\n    top: 50px;\n    background-color: var(--bg-color);\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    opacity: 0;\n    transition: 0.4s;\n    pointer-events: none;\n\n    &.visible {\n        opacity: 1;\n        transition: 0.4s;\n        pointer-events: all;\n    }\n`;\n\nconst Modal = ({children, width=350, visible=false}) => {\n    return (\n        <StyledComp width={width} className={visible ? 'visible' : ''}>{children}</StyledComp>\n    );\n}\n\nexport default Modal;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { formatDate, parseTransaction, parseCurrency } from '../functions';\n\nimport Button from './Button';\nimport IconButton from './IconButton';\nimport Grid from './Grid';\n\nconst StyledComp = styled.div`    \n    padding: 10px;\n\n    & > table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    & > table td {\n        border: 1px solid var(--menu-border-color);\n        padding: 5px;\n        text-transform: capitalize;\n    }\n\n    & > table tr > td:first-child {\n        width: 110px;\n    }\n\n    & strong {\n        font-size: 1.3em;\n    }\n`;\n\nconst getTableRow = (heading, value) => {\n    if (value === undefined) return null;\n    if (value.length === 0) return null;\n\n    return <tr><td>{heading}</td><td>{value}</td></tr>\n}\n\nconst TransactionDetails = ({obj, onClose, onDelete}) => {\n    const dispatch = useDispatch();\n\n    if (obj === null) return null;\n    let parsedObj = parseTransaction(obj);\n\n    const remove = () => {     \n        if (parsedObj.type === undefined) dispatch({type: 'REMOVE_FUND_ADDITION', payload: parsedObj.id});\n        else dispatch({type: 'REMOVE_TRANSACTION', payload: parsedObj.id});\n        onClose();\n    }\n\n    return (\n        <StyledComp>\n            <Grid template=\"50px auto 50px\">\n                <div style={{textAlign: 'left'}}><IconButton Icon={FaTrashAlt} onClick={remove} color='red' topAdjust='1px' size=\"1.3em\"/></div>\n                <strong>Transaction Details</strong>\n            </Grid>\n\n            <table>\n                <tbody>\n                    { getTableRow('Type', parsedObj.type) }\n                    { getTableRow('From', parsedObj.from) }\n                    { getTableRow('To', parsedObj.to) }\n                    { getTableRow('Category', parsedObj.category) }\n                    { getTableRow('Account', parsedObj.account) }\n                    { getTableRow('Fund', parsedObj.fund) }\n                    { getTableRow('Date', formatDate(parsedObj.date)) }\n                    { getTableRow('Description', parsedObj.description) }\n                    { getTableRow('Amount', parseCurrency(parsedObj.amount)) }\n                </tbody>\n            </table>\n\n            <br/>\n\n            <Button onClick={onClose} value=\"Close\"/>\n        </StyledComp>\n    );\n}\n\nexport default TransactionDetails;","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { format, parseISO, parse, compareAsc } from 'date-fns';\nimport { FaEdit } from 'react-icons/fa';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { getAmount, filterDeleted } from '../functions';\n\nimport Transaction from './Transaction';\nimport IconButton from './IconButton';\nimport HeaderDropdown from './HeaderDropdown';\nimport TotalsDisplay from './TotalsDisplay';\nimport Modal from './Modal';\nimport TransactionDetails from './TransactionDetails';\n\nconst StyledComp = styled.div`\n    border: 1px solid var(--menu-border-color);\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n    position: relative;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n    }\n`;\n\nconst StyledGroup = styled.div`\n    margin: 0px 10px;\n\n    & > div > div {\n        border-bottom: 1px solid gray;\n        padding: 3px;\n    }\n\n    & > div > div:first-of-type {\n        margin-top: 0px;\n        border-top: none;\n    }\n\n    & > div > div:last-of-type {\n        border-bottom: none;\n    }\n\n    & > div {\n        border-bottom: ${props => props.open === false ? '1px solid var(--menu-border-color)' : '1px solid var(--bg-color)'};\n        ${props => props.open === false ? 'height: 0px' : `height: ${props.qty*51}px`};\n        overflow: hidden;\n        transition: 0.3s;\n    }\n\n    & > strong {\n        display: block;\n        width: 100%;\n        background-color: var(--menu-bg-color);\n        padding: 10px;\n        color: var(--menu-text-color);\n    }\n\n    & > strong:hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n\n        & > div > div {\n            padding: 0px;\n        }\n\n        & > div {\n            border-bottom: ${props => props.open === false ? '1px solid var(--menu-border-color)' : '1px solid var(--bg-color)'};\n            ${props => props.open === false ? 'height: 0px' : `height: ${props.qty*45}px`};\n            overflow: hidden;\n            transition: 0.3s;\n        }\n    }\n`;\n\nconst EditButton = styled.div`\n    position: absolute;\n    right: 12px;\n    top: 10px;\n    font-size: 1.5em;\n\n    @media screen and (max-width: 700px) {\n        top: 15px;\n    }\n`;\n\nconst Transactions = ({transactions=[], heading='', id, onClickDropdown=()=>{}, objArray=[]}) => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const categories = useSelector(state => filterDeleted(state.categories));\n    const currentPage = useSelector(state => state.currentPage);\n    const [showDelete, setShowDelete] = useState(false);\n    const [closed, setClosed] = useState({});\n\n    const [details, setDetails] = useState({});\n    const [showDetails, setShowDetails] = useState(false);\n\n    let accountId = currentPage === 'Accounts' ? id : undefined;    \n    let currentObj = objArray.find(obj => obj.id === id);\n\n    //organise by month/year\n    let organisedObj = {};\n    transactions.forEach(obj => {\n        let date = obj.date;\n        let formatted = format(parseISO(date), 'MMMM yyyy');\n        if (organisedObj[formatted] === undefined) organisedObj[formatted] = [];\n        organisedObj[formatted].push(obj);\n    });\n\n    //put into an array and sort by date so newest first\n    let organisedArr = Object.keys(organisedObj).map(key => {\n        let sortedTransactions = organisedObj[key].sort((a,b) => {\n            return compareAsc(parseISO(b.date), parseISO(a.date));\n        });\n        return {month: key, transactions: sortedTransactions};\n    }).sort((a,b) => {\n        let first = parse(a.month, 'MMMM yyyy', new Date());\n        let second = parse(b.month, 'MMMM yyyy', new Date());\n        return compareAsc(second, first);\n    });\n\n    const toggleDelete = () => {\n        setShowDelete(!showDelete);\n    }\n\n    const onChangePage = (id) => {\n        onClickDropdown(Number(id))();\n    }\n\n    const onToggleGroup = (month) => () => {\n        let closedObj = {...closed};\n        closedObj[month] === undefined ? closedObj[month] = true : closedObj[month] = !closedObj[month];\n        setClosed(closedObj);\n    }\n\n    const onToggleDetails = (obj) => () => {\n        setDetails(obj);\n        setShowDetails(true);\n    }\n\n    const onCloseDetails = () => {\n        setShowDetails(false);\n    }\n\n    let total = transactions.reduce((t,c) => {\n        t += getAmount(c, categories, id, false);\n        return t;\n    }, 0);        \n\n    let negative = false;\n    if (currentObj && currentObj.startingBalance !== undefined) {\n        if (currentObj.type === 'expense') {\n            total -= parseFloat(currentObj.startingBalance);\n            negative = true;\n        } else total += parseFloat(currentObj.startingBalance);\n    }\n    \n    let categoryType = 'Expense';\n    if (currentPage === 'Categories') {\n        if (currentObj !== undefined) categoryType = currentObj.type;\n    }\n\n    let fundInfo = {};\n    if (currentPage === 'Funds') {\n        if (currentObj !== undefined) {\n            fundInfo = {\n                target: currentObj.targetAmount,\n                remaining: currentObj.targetAmount - total\n            }\n        }\n    }\n\n    return (\n        <StyledComp>\n            { isMobile ? null : <h4>{heading}</h4> }\n            { isMobile ? <HeaderDropdown value={id} options={objArray.map(obj => ({display: obj.name, value: obj.id}))} onChange={onChangePage} /> : null }\n            <Modal visible={showDetails}><TransactionDetails obj={details} onClose={onCloseDetails}/></Modal>\n            {/* <EditButton><IconButton Icon={FaEdit} onClick={toggleDelete}/></EditButton> */}\n            { currentPage === 'Accounts' ? <TotalsDisplay label=\"Balance\" value={total}/> : null }\n            { currentPage === 'Categories' && categoryType === 'expense' ? <TotalsDisplay label=\"Total Spent\" value={-total}/> : null }\n            { currentPage === 'Categories' && categoryType === 'income' ? <TotalsDisplay label=\"Total Earned\" value={total}/> : null }\n            { currentPage === 'Funds' ? <TotalsDisplay value={total} fundObj={fundInfo}/> : null }\n            {\n                organisedArr.length === 0 && objArray.length > 0 ? <div style={{margin: '10px'}}>No Transactions to Display</div> : null\n            }\n            {\n                organisedArr.map(group => {\n                    return (\n                        <StyledGroup key={'transactionGroup-'+group.month+id} open={closed[group.month] !== true} qty={group.transactions.length}>\n                            <strong onClick={onToggleGroup(group.month)}>{group.month}</strong>\n                            <div>\n                                { group.transactions.map(obj => <Transaction key={'transaction-'+obj.id} obj={obj} accountId={accountId} showDelete={showDelete} onClick={onToggleDetails}/>) }\n                            </div>\n                        </StyledGroup>\n                    )\n\n                })\n            }\n            {\n                currentObj && currentObj.startingBalance !== undefined ? (\n                    <StyledGroup>\n                        <strong>Opening Balance</strong>\n                        <Transaction obj={{date: currentObj.dateOpened, amount: negative ? -currentObj.startingBalance : currentObj.startingBalance, description: ''}} accountId={accountId}/>\n                    </StyledGroup>\n                ) : null\n            }\n        </StyledComp>\n    );\n}\n\nexport default Transactions;","import styled from 'styled-components';\n\nconst Container = styled.div`\n    width: 90%;\n    max-width: 1150px;\n    margin: 10px auto;\n\n    @media screen and (max-width: 700px) {\n        width: 100%;\n        margin: 0px;\n    }\n`;\n\nexport default Container;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Input from './Input';\n\nimport { capitalize, filterDeleted } from '../functions';\n\nconst EditInput = ({label, defaultValue, value, onChange, width=undefined}) => {\n    const categories = useSelector(state => filterDeleted(state.categories));\n\n    let itemWidth = '100px';\n    if (width === undefined && label === 'description') itemWidth = '300px';\n    else if (width !== undefined) itemWidth = width;\n\n    if (label === 'category') return <Input type=\"dropdown\" onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} options={categories.map(obj => ({value: obj.id, display: obj.name}))} width={itemWidth} noBorder={true}/>;\n    if (typeof defaultValue === 'number') return <Input type=\"number\" onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} width={itemWidth} noBorder={true}/>;\n    if (typeof defaultValue === 'string' && defaultValue === 'date') return <Input type=\"date\" onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} width={itemWidth} noBorder={true}/>;\n    if (typeof defaultValue === 'string' && defaultValue.includes(',') > 0) return <Input type=\"dropdown\" onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} options={defaultValue.split(',').map(obj => ({value: obj, display: capitalize(obj)}))} width={itemWidth} noBorder={true}/>;\n    if (typeof defaultValue === 'string') return <Input onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} width={itemWidth} noBorder={true}/>;\n    if (typeof defaultValue === 'boolean') return <Input type=\"dropdown\" onChange={onChange} value={value !== undefined ? value : defaultValue} placeholder={label} options={[{display: 'Yes', value: true}, {display: 'No', value: false}]} width={itemWidth} noBorder={true}/>;\n}\n\nexport default EditInput;","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport Table from './Table';\nimport Button from './Button';\nimport EditInput from './EditInput';\n\nimport { fromCamelCase, checkIfCanDelete } from '../functions';\n\nconst StyledComp = styled.div`\n    border: 1px solid var(--menu-border-color);\n    display: inline-block;\n    margin: 10px;\n    border-radius: 5px;\n    width: 40%;\n\n    & > div:first-child {\n        padding: 10px;\n        border-bottom: 1px solid var(--menu-border-color);\n        font-weight: bold;\n    }\n\n    & > div:last-child {\n        display: flex;\n    }\n\n    & > div:last-child > div {\n        padding: 10px;\n        width: 50%;\n    }\n\n    & > div:last-child > div:first-child {\n        border-right: 1px solid white;\n    }\n\n    & > div.popup {\n        background-color: rgba(0,0,0,0.5);\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        left: 0px;\n        right: 0px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transform: scale(${props => props.open ? '1.0' : '0.0'});\n        transition: 0.3s;\n    }\n\n    & > div.popup > div {\n        width: 100%;\n        padding: 10px;\n    }\n`;\n\nconst MobileEditGroup = ({modal, obj, onChange, onDelete}) => {\n    const [open, setOpen] = useState(obj.name.length === 0 ? true : false);\n    const [editing, setEditing] = useState(false);\n\n    const onEdit = () => {\n        setOpen(true);\n        setEditing(true);\n    }\n\n    const onCancel = () => {\n        onDelete(obj.id)();\n    }\n\n    const close = () => {\n        if (obj.name.length === 0) return;\n        setOpen(false);\n        setEditing(false);\n    }\n\n    return (\n        <StyledComp open={open}>\n            <div>{obj.name}</div>\n            <div className=\"popup\">\n                <div>\n                    <Table key={'EditListTable-'+obj.id} style={{marginBottom: '10px', width: '100%', borderTop: '1px solid #555'}} padding='2px'>\n                        <tbody>\n                        {\n                            Object.keys(modal).map(key => {\n                                return (\n                                    <tr key={'EditListRow-'+key}>\n                                        <td style={{backgroundColor: '#222', fontWeight: 'bold'}}>{fromCamelCase(key)}</td>\n                                        <td><EditInput label={key} defaultValue={modal[key]} value={obj[key]} onChange={onChange(obj, key)} width='100%'/></td>\n                                    </tr>\n                                );\n                            })\n                        }\n                        </tbody>\n                    </Table>\n                    { !editing ? <Button value=\"Cancel\" onClick={onCancel} width=\"150px\" inline={true} style={{marginRight: '5px'}}/> : null }\n                    <Button value=\"Close\" onClick={close} width=\"150px\" inline={true}/>\n                </div>\n            </div>\n            <div>\n                <div onClick={onEdit}>Edit</div>\n                { checkIfCanDelete(obj) ? <div onClick={onDelete(obj.id)}>Delete</div> : <div style={{color: 'grey'}}>Delete</div>}\n            </div>\n        </StyledComp>\n    );\n}\n\nexport default MobileEditGroup;","const category = {\n    name: '',\n    description: '',\n    type: 'income,expense',\n    hidden: false,\n    startingBalance: 0\n};\n\nconst fund = {\n    name: '',\n    description: '',\n    targetAmount: 0,\n    complete: false,\n    startingBalance: 0\n}\n\nconst account = {\n    name: '',\n    note: '',\n    interestRate: 0.0,\n    startingBalance: 0,\n    defaultAccount: false,\n    closed: false,\n    extraCharges: 0,\n    currency: '£',\n    dateOpened: 'date'\n}\n\nconst budget = {\n    category: 0,\n    amount: 0,\n    startDate: 'date',\n    endDate: 'date'\n}\n\nexport const modals = {\n    categories: {\n        modal: category,\n        editString: '_CATEGORY'\n    },\n    funds: {\n        modal: fund,\n        editString: '_FUND'\n    },\n    accounts: {\n        modal: account,\n        editString: '_ACCOUNT'\n\n    },\n    budgets: {\n        modal: budget,\n        editString: '_BUDGET'\n    }\n};","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { useMediaQuery } from 'react-responsive';\nimport { format } from 'date-fns';\n\nimport Table from '../components/Table';\nimport Button from '../components/Button';\nimport IconButton from '../components/IconButton';\nimport HeaderDropdown from '../components/HeaderDropdown';\nimport EditInput from '../components/EditInput';\nimport MobileEditGroup from '../components/MobileEditGroup';\n\nimport { modals } from '../modals';\nimport { fromCamelCase, checkIfCanDelete} from '../functions';\n\nconst StyledComp = styled.div`\n    border: 1px solid white;\n    margin: 5px 5px 5px 0px;\n    overflow: scroll;\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n        border: none;\n    }\n`;\n\nconst EditList = ({array=[], vertical=false, onClickDropdown=()=>{}, id}) => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const dispatch = useDispatch();\n    const currentPage = useSelector(state => state.currentPage);\n\n    const modalKey = currentPage.toLowerCase();\n    const modalObj = {...modals[modalKey]};\n    const modal = {...modalObj.modal};\n    const add = 'ADD'+modalObj.editString;\n    const update = 'UPDATE'+modalObj.editString;\n    const remove = 'REMOVE'+modalObj.editString; \n\n    const onChange = (obj, key) => (e) => {\n        let value = e.target.value;\n        if (typeof modal[key] === 'number') value = parseFloat(value);\n\n        obj[key] = value;\n        //make sure false and true are boolean not string\n        if (obj[key] === 'false') obj[key] = false;\n        if (obj[key] === 'true') obj[key] = true;\n        dispatch({type: update, payload: obj});\n    }\n\n    const onDelete = (id) => () => {\n        dispatch({type: remove, payload: id});\n    }\n\n    const onAdd = () => {      \n        let newObj = {...modal};\n        Object.keys(newObj).forEach(key => {\n            if (typeof newObj[key] === 'string' && newObj[key].includes(',')) newObj[key] = newObj[key].split(',')[0];\n            if (typeof newObj[key] === 'string' && newObj[key] === 'date') newObj[key] = format(new Date(), 'yyyy-MM-dd');\n        });  \n        dispatch({type: add, payload: newObj});\n    }\n\n    const onChangePage = (id) => {\n        onClickDropdown(Number(id))();\n    }\n\n    if (isMobile) return (\n        <StyledComp>\n            <HeaderDropdown value={'Edit'} options={array.map(obj => ({display: obj.name, value: obj.id}))} onChange={onChangePage} />\n            {\n                array.map(obj => {\n                    return (\n                        <MobileEditGroup key={'MobileEditGroup-'+obj.id} modal={modal} obj={obj} onChange={onChange} onDelete={onDelete}/>\n                    );\n                })\n            }\n            <Button value=\"Add New\" width=\"150px\" onClick={onAdd} color='#0F0'/>\n        </StyledComp>\n    );\n\n    if (true || isMobile) return (\n        <StyledComp>\n            <h4>Edit {currentPage}</h4>\n            {\n                array.map(obj => {\n                    return (\n                        <Table key={'EditListTable-'+obj.id} style={{display: 'inline-block', margin: '10px'}} padding='2px 5px'>\n                            <tbody>\n                                {\n                                    Object.keys(modal).map(key => {\n                                        return (\n                                            <tr key={'EditListRow-'+key}>\n                                                <th>{fromCamelCase(key)}</th>\n                                                <td><EditInput label={key} defaultValue={modal[key]} value={obj[key]} onChange={onChange(obj, key)} width='140px'/></td>\n                                            </tr>\n                                        );\n                                    })\n                                }\n                                <tr>\n                                    <td colSpan='2'>\n                                    { checkIfCanDelete(obj) \n                                        ? <Button value=\"Delete\" onClick={onDelete(obj.id)} width='50%' color='red'/> \n                                        : <div style={{height: 'var(--input-height)', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>Being Used</div> }\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </Table>\n                    );\n                })\n            }\n            <Button value=\"Add New\" width=\"150px\" onClick={onAdd} color='#0F0'/>\n        </StyledComp>\n    );\n\n    return (\n        <StyledComp>\n            <h4>Edit {currentPage}</h4>\n            <Table padding='2px'>\n                <thead>\n                    <tr>\n                    {\n                        Object.keys(modal).map(key => {\n                            return <td key={\"EditListHeading-\"+key}>{fromCamelCase(key)}</td>\n                        })\n                    }\n                        <td></td>\n                    </tr>\n                </thead>\n                <tbody>\n                {\n                    array.map((obj, i) => {\n                        return (\n                            <tr key={\"EditListRow-\"+i}>\n                            {\n                                Object.keys(modal).map((key,j) => {\n                                    return (\n                                        <td key={\"EditListData-\"+key+i}><EditInput label={key} defaultValue={modal[key]} value={obj[key]} onChange={onChange(obj, key)}/></td>\n                                    );\n                                })\n                            }\n                                { checkIfCanDelete(obj) ? <td><IconButton Icon={FaTrashAlt} onClick={onDelete(obj.id)} color='red'/></td> : <td></td> }\n                            </tr>\n                        );\n                    })\n                }\n                </tbody>\n            </Table>\n\n            <Button value=\"Add New\" width=\"150px\" onClick={onAdd} color='#0F0'/>\n        </StyledComp>\n    );\n}\n\nexport default EditList;","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { filterDeleted } from '../functions';\n\nimport ListContainer from '../components/ListContainer';\nimport List from '../components/List';\nimport Transactions from '../components/Transactions';\nimport Container from '../components/Container';\nimport EditList from './EditList';\n\nconst Categories = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const dispatch = useDispatch();\n    const editMode = useSelector(state => state.editMode);\n    const categories = useSelector(state => filterDeleted(state.categories));\n    const firstCategory = categories[0];\n    let firstCategoryId = firstCategory !== undefined ? firstCategory.id : undefined;\n    let firstCategoryName = firstCategory !== undefined ? firstCategory.name : '';\n    \n    const transactions = useSelector(state => filterDeleted(state.transactions));\n    const [category, setCategory] = useState(firstCategoryId);\n    const [categoryName, setCategoryName] = useState(firstCategoryName);\n\n    React.useEffect(() => {\n        //If there's no object in the array, then go straight to edit mode\n        if (categories.length === 0 && !editMode) {\n            dispatch({type: 'SET_EDIT_MODE', payload: true});\n        }\n    });\n\n    const onClickObj = (id) => () => {\n        let category = categories.find(obj => obj.id === id);\n        setCategory(id);\n        setCategoryName(category.name);\n        dispatch({type: 'SET_EDIT_MODE', payload: false});\n    }\n\n    const filteredTransactions = transactions.filter(obj => {\n        return obj.category !== undefined && obj.category === category ? true : false;\n    });    \n\n    return (\n        <div>  \n            <Container>\n                <ListContainer>\n                    { isMobile ? null : <List heading={'Categories'} array={categories} onClickObj={onClickObj} selected={category}/> }\n                    { editMode \n                        ? <EditList array={categories} onClickDropdown={onClickObj} id={category}/>\n                        : <Transactions transactions={filteredTransactions} heading={categoryName} onClickDropdown={onClickObj} objArray={categories} id={category}/> \n                    }\n                </ListContainer>\n            </Container>\n        </div>\n    );\n}\n\nexport default Categories;","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { filterDeleted } from '../functions';\n\nimport ListContainer from '../components/ListContainer';\nimport List from '../components/List';\nimport Transactions from '../components/Transactions';\nimport Container from '../components/Container';\nimport EditList from './EditList';\n\nconst Funds = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const dispatch = useDispatch();\n    const editMode = useSelector(state => state.editMode);\n    const funds = useSelector(state => filterDeleted(state.funds));\n    const firstFund = funds[0];\n    let firstFundId = firstFund !== undefined ? firstFund.id : undefined;\n    let firstFundName = firstFund !== undefined ? firstFund.name : '';\n    \n    const transactions = useSelector(state => filterDeleted(state.transactions));\n    const fundAdditions = useSelector(state => filterDeleted(state.fundAdditions));\n    const [fund, setFund] = useState(firstFundId);\n    const [fundName, setFundName] = useState(firstFundName);\n\n    React.useEffect(() => {\n        //If there's no object in the array, then go straight to edit mode\n        if (funds.length === 0 && !editMode) {\n            dispatch({type: 'SET_EDIT_MODE', payload: true});\n        }\n    });\n\n    const onClickObj = (id) => () => {\n        let fund = funds.find(obj => obj.id === id);\n        setFund(id);\n        setFundName(fund.name);\n        dispatch({type: 'SET_EDIT_MODE', payload: false});\n    }\n\n    const filteredTransactions = transactions.filter(obj => {\n        return obj.fund !== undefined && obj.fund === fund ? true : false;\n    }); \n\n    const filteredFundAdditions = fundAdditions.filter(obj => {\n        return obj.fund !== undefined && obj.fund === fund ? true : false;\n    });\n\n    const combined = [...filteredTransactions, ...filteredFundAdditions];\n\n    return (\n        <div>  \n            <Container>\n                <ListContainer>\n                    { isMobile ? null : <List heading={'Funds'} array={funds} onClickObj={onClickObj} selected={fund}/> }\n                    { editMode \n                        ? <EditList array={funds} onClickDropdown={onClickObj} id={fund}/>\n                        : <Transactions transactions={combined} heading={fundName} onClickDropdown={onClickObj} objArray={funds} id={fund}/> \n                    }\n                </ListContainer>\n            </Container>\n        </div>\n    );\n}\n\nexport default Funds;","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { filterDeleted } from '../functions';\n\nimport ListContainer from '../components/ListContainer';\nimport List from '../components/List';\nimport Transactions from '../components/Transactions';\nimport Container from '../components/Container';\nimport EditList from './EditList';\n\nconst Accounts = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    const dispatch = useDispatch();\n    const editMode = useSelector(state => state.editMode);\n    const accounts = useSelector(state => filterDeleted(state.accounts));\n    const firstAccount = accounts[0];\n    let firstAccountId = firstAccount !== undefined ? firstAccount.id : undefined;\n    let firstAccountName = firstAccount !== undefined ? firstAccount.name : '';\n    \n    const transactions = useSelector(state => filterDeleted(state.transactions));\n    const [account, setAccount] = useState(firstAccountId);\n    const [accountName, setAccountName] = useState(firstAccountName);\n\n    React.useEffect(() => {\n        //If there's no object in the array, then go straight to edit mode\n        if (accounts.length === 0 && !editMode) {\n            dispatch({type: 'SET_EDIT_MODE', payload: true});\n        }\n    });\n\n    const onClickObj = (id) => () => {\n        let account = accounts.find(obj => obj.id === id);\n        setAccount(id);\n        setAccountName(account.name);\n        dispatch({type: 'SET_EDIT_MODE', payload: false});\n    }\n\n    const filteredTransactions = transactions.filter(obj => {\n        if (obj.from !== undefined && obj.to !== undefined && (obj.from === account || obj.to === account)) return true; \n        return obj.account !== undefined && obj.account === account ? true : false;\n    });   \n\n    return (\n        <div>  \n            <Container>\n                <ListContainer>\n                    { isMobile ? null : <List heading={'Accounts'} array={accounts} onClickObj={onClickObj} selected={account}/> }\n                    { editMode \n                        ? <EditList array={accounts} vertical={true} onClickDropdown={onClickObj} id={account}/>\n                        : <Transactions transactions={filteredTransactions} heading={accountName} id={account} onClickDropdown={onClickObj} objArray={accounts}/> \n                    }\n                </ListContainer>\n            </Container>\n        </div>\n    );\n}\n\nexport default Accounts;","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { changeColourScheme } from '../functions';\nimport { sync } from '../redux/store';\n\nimport Container from '../components/Container';\nimport LabelledInput from '../components/LabelledInput';\nimport Button from '../components/Button';\n\nconst Settings = () => {\n    const dispatch = useDispatch();\n    const user = useSelector(state => state.user);\n    const lastSync = useSelector(state => state.lastSync);\n\n    const payPeriodType = useSelector(state => state.general.payPeriodType);\n    const currencySymbol = useSelector(state => state.general.currencySymbol);\n    const showDecimals = useSelector(state => state.general.showDecimals);\n    const startDate = useSelector(state => state.general.startDate);\n    const colourScheme = useSelector(state => state.general.colourScheme);\n\n    const setPayPeriodType = (e) => dispatch({type: 'SET_PAY_PERIOD_TYPE', payload: e.target.value});\n    const setCurrencySymbol = (e) => dispatch({type: 'SET_CURRENCY_SYMBOL', payload: e.target.value});\n    const setShowDecimals = (e) => {\n        let value = e.target.value === 'false' ? false : true;\n        dispatch({type: 'SET_SHOW_DECIMALS', payload: value});\n    }\n    const setStartDate = (e) => dispatch({type: 'SET_START_DATE', payload: e.target.value});\n    const setColourScheme = (value) => dispatch({type: 'SET_COLOUR_SCHEME', payload: value});\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const backupData = useSelector(state => {\n        return {\n            general: state.general,\n            accounts: state.accounts,\n            categories: state.categories,\n            budgets: state.budgets,\n            funds: state.funds,\n            fundAdditions: state.fundAdditions,\n            transactions: state.transactions\n        };\n    });\n\n    const onChangeColorScheme = (e) => {\n        let value = e.target.value;\n        changeColourScheme(value);\n        setColourScheme(value);\n    }\n\n    const manualSync = () => {\n        sync(backupData, dispatch, true);\n    }\n\n    const login = () => {\n        dispatch({type: 'SET_MESSAGE', payload: {text: '', type: ''}});\n        fetch('http://localhost:3001/api/login', {\n            method: 'POST', \n            headers: {'content-type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({username, password})\n        }).then(res => res.json()).then(data => {\n            if (data.status === 'success') {\n                setUsername('');\n                setPassword('');\n                dispatch({type: 'SET_USER', payload: data.user});\n            } else {\n                console.log(data);\n                dispatch({type: 'SET_MESSAGE', payload: {text: data.message, type: 'error'}});\n            }\n        }).catch(err => {\n            console.log(err.message);\n            dispatch({type: 'SET_MESSAGE', payload: {text: 'Failed to contact server.', type: 'error'}});\n        });\n    }\n\n    const register = () => {\n        if (username.length < 3) {\n            dispatch({type: 'SET_MESSAGE', payload: {text: 'Username should be 3 or more characters', type: 'error'}});\n            return;\n        }\n\n        if (password.length < 5) {\n            dispatch({type: 'SET_MESSAGE', payload: {text: 'Password should be 5 or more characters', type: 'error'}});\n            return;\n        }\n\n        dispatch({type: 'SET_MESSAGE', payload: {text: '', type: ''}});\n        fetch('http://localhost:3001/api/register', {\n            method: 'POST', \n            headers: {'content-type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({username, password})\n        }).then(res => res.json()).then(data => {\n            console.log(data);\n            setUsername('');\n            setPassword('');\n            if (data.status === 'success') dispatch({type: 'SET_USER', payload: data.user});\n            else dispatch({type: 'SET_MESSAGE', payload: {text: data.message, type: 'error'}});\n        }).catch(err => {\n            console.log(err.message);\n            dispatch({type: 'SET_USER', payload: null});\n            dispatch({type: 'SET_MESSAGE', payload: {text: 'Failed to contact server. Please try again.', type: 'error'}});\n        });\n    }\n\n    const logout = () => {\n        fetch('http://localhost:3001/api/logout', {credentials: 'include'}).then(res => res.json()).then(data => {\n            dispatch({type: 'SET_USER', payload: null});\n        }).catch(err => {\n            console.log(err.message);\n            dispatch({type: 'SET_USER', payload: null});\n        });\n    }\n\n    const onChangeUsername = (e) => setUsername(e.target.value);\n    const onChangePassword = (e) => setPassword(e.target.value);\n\n    let lastSyncDate = lastSync.toFixed(0);\n    let lastSyncDisplay = `${lastSyncDate.slice(6,8)}/${lastSyncDate.slice(4,6)}/${lastSyncDate.slice(0,4)} at ${lastSyncDate.slice(8,10)}:${lastSyncDate.slice(10,12)}`;\n    if (lastSync === 0 || lastSync === undefined) lastSyncDisplay = 'Never';\n\n    return (\n        <div>\n            <Container>\n                <h4>Settings</h4>\n\n                <LabelledInput label=\"Start Date\" type=\"date\" value={startDate} onChange={setStartDate} labelWidth='150px'/>\n                <LabelledInput label=\"Currency Symbol\" value={currencySymbol} onChange={setCurrencySymbol} labelWidth='150px'/>\n                <LabelledInput label=\"Show Decimals\" type=\"dropdown\" value={showDecimals} options={[{value: true, display: 'Yes'}, {value: false, display: 'No'}]} onChange={setShowDecimals} labelWidth='150px'/>\n                <LabelledInput label=\"Pay Period\" type=\"dropdown\" value={payPeriodType} onChange={setPayPeriodType} labelWidth='150px' options={[\n                    {value: 'monthly', display: 'Monthly'}, \n                    {value: 'fourWeekly', display: '4-Weekly'}, \n                    {value: 'twoWeekly', display: '2-Weekly'}, \n                    {value: 'weekly', display: 'Weekly'}\n                ]}/>\n                <LabelledInput label=\"Colour Scheme\" type=\"dropdown\" value={colourScheme} options={[{value: 'dark', display: 'Dark'}, {value: 'black', display: 'Black'}, {value: 'light', display: 'Light'}]} onChange={onChangeColorScheme} labelWidth='150px'/>\n\n                <h4>Syncing</h4>\n                <p>This will allow you to upload your data to a server for backup and to sync with other devices.</p>\n                <p>Last synced on: {lastSyncDisplay}</p>\n                { user === null \n                ?   <div>\n                        <LabelledInput label=\"Username\" value={username} onChange={onChangeUsername}/>\n                        <LabelledInput label=\"Password\" value={password} onChange={onChangePassword} type=\"password\"/>\n                        <Button value=\"Login\" width=\"120px\"inline={true} onClick={login}/> <Button value=\"Register\" width=\"120px\"inline={true} onClick={register}/>\n                    </div>\n\n                :   <div>\n                        <Button value=\"Sync Now\" width=\"120px\"inline={true} onClick={manualSync}/> <Button value=\"Logout\" width=\"120px\"inline={true} onClick={logout}/>\n                    </div>\n                }\n            </Container>\n        </div>\n    );\n}\n\nexport default Settings;","import React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive'\nimport styled from 'styled-components';\nimport { IoIosAdd, IoIosRemove } from 'react-icons/io';\n\nimport AddTransaction from './AddTransaction';\n\nconst BottomArea = styled.div`\n    position: fixed;\n    bottom: -275px;\n    transition: 0.3s;\n    width: 100%;\n    height: 288px;\n    background-color: var(--footer-bg);\n    padding: 10px;\n    border: 2px solid var(--footer-bg);\n    z-index: 3;\n    ${props => props.open ? 'transform: translateY(-275px);' : ''};\n\n    & > div {\n        margin: auto;\n    }\n`;\n\nconst MobileAddButton = styled.div`\n    & > * {\n        transition: 0.3s;\n    }\n\n    & > svg {\n        background-color: var(--footer-bg);\n        border: 3px solid var(--footer-border);\n        border-radius: 100%;\n        font-size: 51px;\n        position: fixed;\n        bottom: 5px;\n        left: 50%;\n        transform: translate(-50%,${props => props.open ? '-275px' : '0px'});\n        z-index: 4;\n        fill: var(--footer-border);\n    }\n\n    & > div.left, & > div.right {\n        border-bottom: 3px solid var(--footer-border);\n        position: fixed;\n        bottom: 11px;\n        width: calc(50% - 22.5px);\n        height: 20px;\n        z-index: 4;\n        ${props => props.open ? 'transform: translateY(-275px);' : ''};\n    }\n\n    & > div.right {\n        border-left: 3px solid var(--footer-border);\n        right: 0px;\n        border-radius: 0px 0px 0px 20px;\n    }\n\n    & > div.left {\n        border-right: 3px solid var(--footer-border);\n        left: 0px;\n        border-radius: 0px 0px 20px 0px;\n    }\n\n    & > div.middle {\n        background-color: var(--footer-bg);\n        position: fixed;\n        z-index: 1;\n        width: 55px;\n        height: 55px;\n        left: 50%;\n        transform: translate(-50%,${props => props.open ? '-275px' : '0px'}) rotate(-45deg);\n        bottom: -16px;\n        border-radius: 0px 51px 0px 100%;\n    }\n`;\n\nconst Footer = () => {\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n    const [isOpen, setOpen] = useState(false);\n    const [isFullyOpen, setFullyOpen] = useState(false);\n\n    if (!isMobile) return null;\n\n    const toggle = () => {\n        setOpen(!isOpen);\n\n        setTimeout(() => {\n            setFullyOpen(!isFullyOpen);\n        }, 300);\n    }\n\n    const onAddTransaction = () => {\n        setOpen(false);\n        setTimeout(() => {\n            setFullyOpen(false);\n        }, 300);\n    }\n\n    return (\n        <div>\n            <MobileAddButton open={isOpen}>\n                { isFullyOpen ? <IoIosRemove onClick={toggle}/> : <IoIosAdd onClick={toggle}/> }\n                <div className=\"right\"></div>\n                <div className=\"left\"></div>\n                <div className=\"middle\"></div>\n            </MobileAddButton>\n            <BottomArea open={isOpen}>\n                <AddTransaction onAdd={onAddTransaction}/> \n                {/* { isOpen ? <AddTransaction onAdd={onAddTransaction}/> : isFullyOpen ? <AddTransaction onAdd={onAddTransaction}/> : null } */}\n            </BottomArea>\n        </div>\n    );\n}\n\nexport default Footer;","import React, { useEffect } from 'react';\nimport './App.css';\n\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { sync } from './redux/store';\n\nimport Header from './components/Header';\nimport TopPopup from './components/TopPopup';\nimport MessagePopup from './components/MessagePopup';\n\nimport SummaryTables from './containers/SummaryTables';\nimport AddTransaction from './containers/AddTransaction';\nimport Categories from './containers/Categories';\nimport Funds from './containers/Funds';\nimport Accounts from './containers/Accounts';\nimport Settings from './containers/Settings';\nimport Footer from './containers/Footer';\n\nfunction App() {\n    const dispatch = useDispatch();\n    const page = useSelector(state => state.currentPage);\n    const addTransaction = useSelector(state => state.addTransaction);\n    const user = useSelector(state => state.user);\n    const backupData = useSelector(state => {\n        return {\n            general: state.general,\n            accounts: state.accounts,\n            categories: state.categories,\n            budgets: state.budgets,\n            funds: state.funds,\n            fundAdditions: state.fundAdditions,\n            transactions: state.transactions\n        };\n    });\n\n    //sync with server when starting app\n    useEffect(() => {\n        if (user !== null) sync(backupData, dispatch);\n    }, []);\n\n    return (\n        <div className=\"App\">\n            <Header/>\n            <MessagePopup/>\n            { page === 'Home' ? <SummaryTables/> : null }\n            { page === 'Categories' ? <Categories/> : null }\n            { page === 'Funds' ? <Funds/> : null }\n            { page === 'Accounts' ? <Accounts/> : null }\n            { page === 'Settings' ? <Settings/> : null }\n            { addTransaction ? <TopPopup><AddTransaction/></TopPopup> : null }\n            <Footer/>\n        </div>\n    );\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n      <Provider store={store}>\n          <App />\n      </Provider>\n        , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}